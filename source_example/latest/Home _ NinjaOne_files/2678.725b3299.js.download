"use strict";(self.webpackChunk_ninjaone_webapp=self.webpackChunk_ninjaone_webapp||[]).push([[2678],{67753:(e,t,a)=>{a.d(t,{j:()=>r});var n=a(6775),r=e=>{var{schedule:t}=e,{dayOfMonth:a,weekDays:r,weekOfMonth:i}=t,o=t.hour||t.scheduleHour,l=t.minute||t.scheduleMinute;switch(t.type||t.scheduleType){case"DAILY":return(0,n.getDailyTimeDescription)(o,l);case"WEEKLY":return(0,n.getWeeklyTimeDescription)(o,l,r);case"MONTHLY":return(0,n.getMonthlyTimeDescription)(o,l,a);case"WEEK_OF_MONTH":return(0,n.getWeekOfMonthDescription)(o,l,i,r);case"INTERVAL":return(0,n.getIntervalTimeDescription)(o,l);default:return""}}},97683:(e,t,a)=>{a.d(t,{T:()=>r});var n=a(6775),r=()=>(0,n.fetchJson)("/appuser/hide-help-tooltip",{options:{method:"PATCH"}})},43418:(e,t,a)=>{a.d(t,{D:()=>r});var n=a(4519);function r(e){var t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e})),t.current}},37904:(e,t,a)=>{a.d(t,{X:()=>r,r:()=>n});var n="NINJA_NETWORK_DISCOVERY",r="NINJA_DEVICE_DISCOVERY"},79325:(e,t,a)=>{a.d(t,{p:()=>s});var n=a(4519),r=a(87341),i=a(51749),o=a(6775),l=a(77537),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n.memo)((a=>{var{client:s}=t,d=(0,n.useMemo)((()=>(0,r.eI)({url:s||(0,o.getTicketingUrl)()})),[s]);return(0,l.tZ)(i.zt,{value:d,children:(0,l.tZ)(e,{...a})})}))}},2637:(e,t,a)=>{a.d(t,{m:()=>n});var n={af:"Afrikaans",sq:"Albanian",an:"Aragonese",ar:"Arabic","ar-dz":"Arabic","ar-bh":"Arabic","ar-eg":"Arabic","ar-iq":"Arabic","ar-jo":"Arabic","ar-kw":"Arabic","ar-lb":"Arabic","ar-ly":"Arabic","ar-ma":"Arabic","ar-om":"Arabic","ar-qa":"Arabic","ar-sa":"Arabic","ar-sy":"Arabic","ar-tn":"Arabic","ar-ae":"Arabic","ar-ye":"Arabic",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",bg:"Bulgarian",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-hk":"Chinese","zh-cn":"Chinese","zh-sg":"Chinese","zh-tw":"Chinese",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch","nl-be":"Dutch",en:"English","en-au":"English","en-bz":"English","en-ca":"English","en-ie":"English","en-jm":"English","en-nz":"English","en-ph":"English","en-za":"English","en-tt":"English","en-gb":"English","en-us":"English","en-zw":"English",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fa:"Farsi",fj:"Fijian",fi:"Finnish",fr:"French","fr-be":"French","fr-ca":"French","fr-fr":"French","fr-lu":"French","fr-mc":"French","fr-ch":"French",fy:"Frisian",fur:"Friulian",gd:"Gaelic","gd-ie":"Gaelic",gl:"Galacian",ka:"Georgian",de:"German","de-at":"German","de-de":"German","de-li":"German","de-lu":"German","de-ch":"German",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian","it-ch":"Italian",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-kp":"Korean","ko-kr":"Korean",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian",nn:"Norwegian",oc:"Occitan",or:"Oriya",om:"Oromo","fa-ir":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-br":"Portuguese",pa:"Punjabi","pa-in":"Punjabi","pa-pk":"Punjabi",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-mo":"Romanian",ru:"Russian","ru-mo":"Russian",sz:"Sami",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-ar":"Spanish","es-bo":"Spanish","es-cl":"Spanish","es-co":"Spanish","es-cr":"Spanish","es-do":"Spanish","es-ec":"Spanish","es-sv":"Spanish","es-gt":"Spanish","es-hn":"Spanish","es-mx":"Spanish","es-ni":"Spanish","es-pa":"Spanish","es-py":"Spanish","es-pe":"Spanish","es-pr":"Spanish","es-es":"Spanish","es-uy":"Spanish","es-ve":"Spanish",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-fi":"Swedish","sv-sv":"Swedish",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}},32208:(e,t,a)=>{a.d(t,{gS:()=>g,uF:()=>h});a(4519);var n=a(67009),r=a(51201),i=a(50176),o=a(8456),l=a(45822),s=a(34928),d=(a(58064),a(34244)),c=a(37495),u=a(8326),p=a(77537),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"col-xs-12",d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return()=>(0,p.tZ)("div",{className:"list-group-item horizontal-tile flex-tile no-hover no-padding no-borders",onClick:e=>e.stopPropagation(),children:(0,p.tZ)("div",{className:a,children:t?(0,p.tZ)(i.$j,{}):(0,p.tZ)("hgroup",{style:{marginLeft:1},children:d?(0,p.BX)(l.U,{children:[(0,p.tZ)(n.EmptyTableIcon,{}),(0,p.tZ)(r.Z,{size:"sm",token:e})]}):(0,p.tZ)("h4",{children:(0,p.tZ)(i.uT,{color:"colorTextWeak",fontWeight:o.default.typography.fontWeight.semiBold,children:(0,s.kIE)(e)})})})})})},g=e=>{var{dataKey:t,label:a,sortBy:n,sortDirection:r}=e;return(0,p.BX)("span",{className:"ReactVirtualized__Table__headerTruncatedText",title:"string"===typeof a?a:"",children:[a,n===t&&(0,p.tZ)("span",{className:"m-l-xs",children:(0,p.tZ)(c.G,{icon:r===d.Sr.DESC?u.eW2:u.l1h})})]})}},51088:(e,t,a)=>{a.d(t,{B_:()=>s,Qy:()=>c,f1:()=>l,vt:()=>p,yo:()=>u});var n=a(43077),r=a.n(n),i=a(6775),o=a(34928),l=(e,t)=>(0,i.localized)("Daily at {{time}}",{time:(0,i.time)(r()({hour:e,minute:t}))}),s=(e,t)=>{var a,n;return e?(a=e,n=e>1?(0,i.localized)("Hours"):(0,i.localized)("Hour")):(a=t,n=t>1?(0,i.localized)("Minutes"):(0,i.localized)("Minute")),(0,i.localized)("Every {{time}} {{unit}}",{time:a,unit:n})},d=e=>(0,i.localized)(o.PLE[e]),c=(e,t,a)=>{var n=a.map((e=>d(e))).join(", ");return(0,i.localized)("Weekly on {{days}} at {{time}}",{days:n,time:(0,i.time)(r()({hour:e,minute:t}))})},u=(e,t,a)=>0===a?(0,i.localized)("Monthly on last day of the month, at {{time}}",{time:(0,i.time)(r()({hour:e,minute:t}))}):(0,i.localized)("Monthly on the {{day}} at {{time}}",{day:(0,i.ordinal)(a),time:(0,i.time)(r()({hour:e,minute:t}))}),p=(e,t,a,n)=>0===a?(0,i.localized)("Monthly on the last {{day}} of the month at {{time}}",{day:d(n[0]),time:(0,i.time)(r()({hour:e,minute:t}))}):(0,i.localized)("Monthly on the {{week}} {{day}} of the month at {{time}}",{week:(0,i.ordinal)(parseInt(a,10)),day:d(n[0]),time:(0,i.time)(r()({hour:e,minute:t}))})},48405:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(44164),r=a(77537),i=e=>t=>{var a=(0,n.u)();return(0,r.tZ)(e,{theme:a,...t})}},13260:(e,t,a)=>{a.d(t,{$w:()=>s,l$:()=>d,nP:()=>c});var n=a(34928),r=a(29399),i=a(76881),o=new Set(["articles","sections","categories"]),l={home:"/hc/en-us",articles:"/hc/en-us/articles/",sections:"/hc/en-us/sections/",community:"/hc/en-us/community/topics",categories:"/hc/en-us/categories/",search:e=>"/hc/en-us/search?commit=Search&query=".concat(e)},s=()=>{var e,t=null===(e=window.store)||void 0===e?void 0:e.getState().application.environment;return"fed"===t||"fed-qa1"===t};function d(e){var{type:t,commercialId:a,slug:d="",input:c=""}=e,u=null===a||void 0===a?void 0:a.trim();if(l[t]){var p=o.has(t);if(!p||u){var h=l[t],g="function"===typeof h?h(c):h,v=i.W,m=u;if(s()&&(v=i.qs,p&&u)){var f=r.M.get(u);f&&(m=f)}if(p){var y=d&&!d.startsWith("-")?"-".concat(d):d;return"".concat(v).concat(g).concat(m).concat(y)}return"".concat(v).concat(g)}(0,n.iv2)("getZendeskLink: 'commercialId' parameter is missing or invalid.")}else(0,n.iv2)("getZendeskLink: Unknown link type '".concat(t,"'."))}var c=e=>d({type:"search",input:e})},2885:(e,t,a)=>{function n(e,t){return"/backup/lockhart/nodes/".concat(e.id,"/plans/").concat(t,"/jobs")}function r(e,t,a){return"/backup/lockhart/nodes/".concat(e.id,"/plans/").concat(t,"/files/").concat(a.id,"/revisions")}a.d(t,{V:()=>r,n:()=>n})},85834:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(4519),r=a(44164),i=a(50176),o=a(75493),l=a(7715),s=a(77537);const d=(0,n.memo)((function(e){var{type:t="danger",titleToken:a,actionToken:n,descriptionToken:d,descriptionText:c,onConfirm:u,onCancel:p,unmount:h,disabled:g,size:v="md",columns:m,data:f,height:y=500}=e,b=(0,r.u)();return(0,s.tZ)(l.c,{type:t,titleToken:a,actionToken:n,descriptionToken:d,descriptionText:c,onConfirm:u,onCancel:p,unmount:h,disabled:g,size:v,children:(0,s.tZ)(o.xu,{color:b.color.black[100],height:y,children:(0,s.tZ)(i.wQ,{tableId:"trim-table",columns:m,rows:f,showSearchBar:!1,hideSettingsButton:!0})})})}))},83526:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(4519),r=a(58064),i=a(50176),o=a(6775),l=a(7715),s=a(75493),d=a(77537);const c=(0,n.memo)((function(e){var{name:t,nodeId:a,directories:n,unmount:c}=e;return(0,d.tZ)(l.c,{type:"danger",titleToken:(0,o.localizationKey)("Confirm plan data delete"),actionToken:(0,o.localizationKey)("Delete"),focusTrapDisabled:!0,onConfirm:async e=>{var{unmount:i}=e;try{await(0,o.fetchJson)("/backup/lockhart/nodes/".concat(a,"/delete-plan-revisions?planName=").concat(t),{options:{method:"POST",body:JSON.stringify((0,r.jge)("planId",n))}}),(0,o.showSuccessMessage)((0,o.localized)("Data deletion scheduled successfully"))}catch(l){l.isHandledMfaError||(0,o.reportErrorAndShowMessage)(l,(0,o.localizationKey)("Error deleting plan files"))}i()},onCancel:e=>{var{unmount:t}=e;t()},unmount:c,children:(0,d.tZ)(s.kC,{flexDirection:"column",children:(0,d.tZ)(i.xv,{textWrap:!0,size:"sm",children:(0,o.localizedWith)("This action will permanently delete all backup data for plan <%dynamicBoldProp>name<%>. Data will be deleted and removed from your calculated usage in 72 hours.",{dynamicBoldProp:()=>(0,d.tZ)("b",{children:t})})})})})}))},82308:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(6775),r=a(34928),i=a(85834),o=a(77537),l={Header:(0,r.kIE)("Name"),id:"name",accessor:"name"},s={Header:(0,r.kIE)("Path"),id:"path",accessor:"path"};const d=e=>{var{nodeId:t,planId:a,planName:d,directories:c,resetData:u,unmount:p}=e,h=[];c.forEach((e=>h=h.concat(e.common?e.content:[e])));var g=h.some((e=>e.root));return(0,o.tZ)(i.Z,{titleToken:(0,r.eWj)("Confirm delete data"),descriptionText:(0,r.kIE)("This action will permanently delete all backup data the following {{quantity}} item(s). Data will be deleted and removed from your calculated usage in 72 hours.",{quantity:h.length}),actionToken:(0,r.eWj)("Delete"),onConfirm:async e=>{var{unmount:i}=e,o=[],l=[],s=[];h.forEach((e=>{"file"===e.type&&o.push(e.id),"folder"===e.type&&l.push(e.id),"volume"===e.type&&s.push({fileId:e.fileId,planId:e.planNumericId})}));try{await(0,n.fetchJson)("/backup/lockhart/nodes/".concat(t,"/plans/").concat(a,"/delete-revisions"),{options:{method:"POST",body:JSON.stringify({fileIds:o,folderIds:l,planName:d,volumes:s})}}),(0,n.showSuccessMessage)((0,r.kIE)("Data deletion scheduled successfully"))}catch(c){c.isHandledMfaError||(0,n.reportErrorAndShowMessage)(c,(0,r.eWj)("Error deleting plan files"))}u(),i()},onCancel:e=>{var{unmount:t}=e;t()},unmount:p,data:h,columns:[...g?[]:[l],s]})}},12001:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(4519),r=a(50176),i=a(6775),o=a(7715),l=a(75493),s=a(26341),d=a(77537);const c=(0,n.memo)((function(e){var{name:t,nodeId:a,planUuid:n,planName:c,displayName:u,localRevisionJobUid:p,revisionCreation:h,unmount:g}=e;return(0,d.tZ)(o.c,{titleToken:(0,i.localizationKey)("Sync job to cloud"),actionToken:(0,i.localizationKey)("Sync"),onConfirm:async e=>{var{unmount:r}=e;try{var o=(0,s.Wy)({name:t,nodeId:a,nodeName:u,revisionCreation:h,planId:n,planName:c,additionalContentParams:{sourceJobUid:p}});await(0,s.p1)([o]),(0,i.showSuccessMessage)((0,i.localized)("Backup job created successfully"))}catch(l){"backup_job_already_running"===l.resultCode?(0,i.showWarningMessage)((0,i.localized)("Sync to cloud already in progress")):(0,i.reportErrorAndShowMessage)(l,(0,i.localizationKey)("Error running backup job"))}r()},onCancel:e=>{var{unmount:t}=e;t()},unmount:g,children:(0,d.tZ)(l.kC,{flexDirection:"column",children:(0,d.tZ)(r.xv,{textWrap:!0,size:"sm",children:(0,i.localized)("Backup Job that started {{name}} for {{displayName}} will be synced to cloud backup storage. Progress can be monitored as a running backup job for this device.",{name:t,displayName:u})})})})}))},20999:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(4519),r=a(50176),i=a(49137),o=a(8456),l=a(6775),s=a(55576),d=a(75493),c=a(1282),u=a(26341),p=a(54468),h=a(77537);const g=(0,n.memo)((function(e){var t,{unmount:a,nodes:g,sourceNode:v,revision:[m]=[]}=e,f=null!==(t=null===g||void 0===g?void 0:g[0])&&void 0!==t?t:null===m||void 0===m?void 0:m.file,[y,b]=(0,n.useState)(m?{value:m.id,label:"".concat((0,l.date)(m.created)," ").concat((0,l.time)(m.created)),size:m.size}:null),{planId:T,planName:C,name:E,path:S}=f;return(0,h.tZ)(r.u_,{cancelable:!0,titleGroup:{titleText:(0,l.localized)("Download file")},buttons:[{labelToken:(0,l.localizationKey)("Download"),variant:i.Z.PRIMARY,disabled:!y,onClick:()=>{var e=(0,l.getPrefixedUrl)("/backup/lockhart/nodes/".concat(v.id,"/plans/").concat(T,"/revisions/").concat(y.value,"/data"));(0,l.downloadFile)(e,E),a()}}],unmount:a,footerAlertMessage:p.N,children:(0,h.BX)(d.kC,{flexDirection:"column",gap:o.W0[3],children:[(0,h.tZ)(r.II,{labelText:(0,l.localized)("Device"),value:v.displayName,readOnly:!0}),(0,h.tZ)(r.II,{labelText:(0,l.localized)("Plan name"),value:C,readOnly:!0}),(0,h.tZ)(r.II,{labelText:(0,l.localized)("Path"),value:(0,s.S2)(S,(0,l.getPathSeparator)(v)),readOnly:!0}),(0,l.isNotNilOrEmpty)(m)?(0,h.tZ)(r.II,{labelText:(0,l.localized)("Revision"),value:(0,u.r7)(m),readOnly:!0}):(0,h.tZ)(c.Z,{sourceNode:v,file:f,value:y,onChange:b})]})})}))},87443:(e,t,a)=>{a.d(t,{Z:()=>h});var n=a(4519),r=a(50176),i=a(8456),o=a(49137),l=a(6775),s=a(55576),d=a(75493),c=a(91001),u=a(54468),p=a(77537);const h=(0,n.memo)((function(e){var{unmount:t,nodes:a,sourceNode:h}=e,[g]=a,[v,m]=(0,n.useState)(),[f,y]=(0,n.useState)(!1),{planId:b,planName:T,name:C,path:E,id:S}=g;return(0,p.tZ)(r.u_,{cancelable:!0,titleGroup:{titleText:(0,l.localized)("Download folder")},buttons:[{labelToken:(0,l.localizationKey)("Download"),variant:o.Z.PRIMARY,disabled:!v,onClick:()=>{var e=(0,l.getPrefixedUrl)("/backup/lockhart/nodes/".concat(h.id,"/plans/").concat(b,"/folders/").concat(S,"/jobs/").concat(v.value,"/data?restoreDeleted=").concat(f));(0,l.downloadFile)(e,C+".zip"),t()}}],unmount:t,footerAlertMessage:u.N,children:(0,p.BX)(d.kC,{flexDirection:"column",gap:i.W0[3],children:[(0,p.tZ)(r.II,{labelText:(0,l.localized)("Device"),value:h.displayName,readOnly:!0}),(0,p.tZ)(r.II,{labelText:(0,l.localized)("Plan name"),value:T,readOnly:!0}),(0,p.tZ)(r.II,{labelText:(0,l.localized)("Path"),value:(0,s.S2)(E,(0,l.getPathSeparator)(h)),readOnly:!0}),(0,p.tZ)(d.kC,{flexDirection:"column",children:(0,p.tZ)(r.XZ,{descriptionTextWrap:!0,fontWeight:i.typography.fontWeight.bold,onChange:e=>{var{isChecked:t}=e;return y(t)},label:(0,l.localized)("Include latest revision of deleted files"),description:(0,l.localized)("Checking this option will restore the latest revision of all files backed up that were deleted from the machine")})}),(0,p.tZ)(c.Z,{sourceNode:h,planId:b,value:v,onChange:m})]})})}))},88128:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(4519),r=a(22637),i=a.n(r),o=a(50176),l=a(49137),s=a(8456),d=a(6775),c=a(75493),u=a(55576),p=a(54468),h=a(77537);const g=(0,n.memo)((function(e){var{unmount:t,nodes:[{planName:a,name:n,path:r,downloadPath:g,revisionId:v,imagePlanId:m,node:{id:f},folder:y}],sourceNode:b}=e;return(0,h.tZ)(o.u_,{cancelable:!0,titleGroup:{titleText:y?(0,d.localized)("Download folder"):(0,d.localized)("Download file")},buttons:[{labelToken:(0,d.localizationKey)("Download"),variant:l.Z.PRIMARY,onClick:()=>{var e,a=(0,d.getPrefixedUrl)("/backup/lockhart/image/nodes/".concat(f,"/plans/").concat(m,"/revisions/").concat(v,"/download?").concat(i().stringify({fileBase64:(e=r,btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode("0x"+t))))),type:y?"FOLDER":"FILE"})));(0,d.downloadFile)(a,n),t()}}],unmount:t,footerAlertMessage:p.N,children:(0,h.BX)(c.kC,{flexDirection:"column",gap:s.W0[3],children:[(0,h.tZ)(o.II,{labelText:(0,d.localized)("Device"),value:b.displayName,readOnly:!0}),(0,h.tZ)(o.II,{labelText:(0,d.localized)("Plan name"),value:a,readOnly:!0}),(0,h.tZ)(o.II,{labelText:(0,d.localized)("Path"),value:(0,u.S2)(g,(0,d.getPathSeparator)(b)),readOnly:!0})]})})}))},1282:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(4519),r=a(58064),i=a(50176),o=a(8456),l=a(6775),s=a(2885),d=a(36360),c=a(75493),u=a(24331),p=a(77537),h=e=>{var{sourceNode:t,file:a,value:n,onChange:h}=e,{planId:g}=a;return(0,p.BX)(c.kC,{flexDirection:"column",gap:o.W0[1],children:[(0,p.tZ)(i.uT,{children:(0,l.localized)("Revision *")}),(0,p.tZ)(u.Z,{openOnFocus:!0,pageSize:100,endpoint:(0,s.V)(t,g,a),width:"100%",rowHeight:40,noRowsRendererToken:(0,l.localizationKey)("Browser download is not available for the selected data. To recover the data, please use the restore option."),onSelect:h,dataFormatter:e=>{var{id:t,created:a,size:n}=e;return{value:t,label:"".concat((0,l.date)(a)," ").concat((0,l.time)(a)),size:n}},lastItemKey:"value",isSearchable:!1,searchParams:(0,r.Bxt)({onCloud:!1})}),(0,p.BX)(c.kC,{flexDirection:"column",children:[(0,p.tZ)(i.uT,{type:"bodyXs",color:"colorTextWeakest",fontWeight:o.typography.fontWeight.medium,children:(0,l.localized)("Original revision size")}),(0,p.tZ)(i.uT,{type:"bodyXs",color:"colorTextWeakest",children:(0,l.defaultToDash)((0,d.qL)(null===n||void 0===n?void 0:n.size))})]})]})};const g=(0,n.memo)(h)},91001:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(4519),r=a(58064),i=a(50176),o=a(8456),l=a(6775),s=a(2885),d=a(36360),c=a(75493),u=a(24331),p=a(77537),h=e=>{var{sourceNode:t,planId:a,value:n,onChange:h}=e;return(0,p.BX)(c.kC,{flexDirection:"column",gap:o.W0[1],children:[(0,p.BX)(c.kC,{gap:o.W0[1],alignItems:"center",children:[(0,p.tZ)(i.uT,{children:(0,l.localized)("Date *")}),(0,p.tZ)(i.MZ,{text:(0,l.localized)("Point in time snapshot at backup job date"),triggerColor:"colorTextWeakest",triggerSize:"sm",triggerAriaLabel:(0,l.localized)("More information")})]}),(0,p.tZ)(u.Z,{openOnFocus:!0,pageSize:100,endpoint:(0,s.n)(t,a),width:"100%",rowHeight:40,noRowsRendererToken:(0,l.localizationKey)("Browser download is not available for the selected data. To recover the data, please use the restore option."),onSelect:h,dataFormatter:e=>{var{jobId:t,created:a,totalBytes:n,completed:r}=e;return{value:t,label:"".concat((0,l.date)(a)," ").concat((0,l.time)(a)),completed:r,totalBytes:n}},lastItemKey:"completed",isSearchable:!1,searchParams:(0,r.Bxt)({upsyncedData:!1})}),(0,p.BX)(c.kC,{flexDirection:"column",children:[(0,p.tZ)(i.uT,{type:"bodyXs",color:"colorTextWeakest",fontWeight:o.typography.fontWeight.medium,children:(0,l.localized)("Original revision size")}),(0,p.tZ)(i.uT,{type:"bodyXs",color:"colorTextWeakest",children:(0,l.defaultToDash)((0,d.qL)(null===n||void 0===n?void 0:n.totalBytes))})]})]})};const g=(0,n.memo)(h)},4409:(e,t,a)=>{a.d(t,{Z:()=>_,b:()=>I});var n=a(41554),r=a(4519),i=a(58064),o=a(49137),l=a(8456),s=a(50176),d=a(26341),c=a(37844),u=a(48548),p=a(6775),h=a(55576),g=a(75493),v=a(15064),m=a(77537);const f=(0,r.memo)((e=>{var{destinationNode:t,height:a,setDestinationPath:n}=e,{id:r,nodeClass:i,nodeRole:o}=t,l=(0,p.isWindowsDevice)(i)?"\\":"/";return(0,m.tZ)(h.PR,{height:a,deviceId:r,nodeClass:i,selectable:!0,canCreateNewFolder:!0,onSelect:e=>{var[t]=e,a=t?(0,h.S2)(t,l):"";n(a)},...(0,h.HO)({deviceId:r,showFiles:!1,nodeRole:o,disableExclusionListValidation:!0,nodeClass:i})})}));var y=e=>{var{destinationNode:t,unmount:a,onApply:n}=e,[r,i]=(0,u.DJ)("");return(0,m.tZ)(s.u_,{cancelable:!0,titleGroup:{titleText:(0,p.localized)("Browse locations"),descriptionText:(0,p.localized)("Select the location where you want to restore your backup")},buttons:[{labelToken:(0,p.localizationKey)("Apply"),variant:o.Z.PRIMARY,disabled:!r,onClick:()=>{n(r),a()}}],unmount:a,children:(0,m.tZ)(f,{setDestinationPath:i,destinationNode:t,height:300})})};const b=(0,r.memo)(y);var T=a(92066),C=a(24331),E=(0,n.Z)("div",{target:"e189gp9f0"})("display:flex;gap:",l.W0[1],";align-items:flex-end;>div:first-of-type{flex:1;}"),S="original",w="other",I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return e.substring(0,e.lastIndexOf(t))},k=e=>{var{RevisionSelector:t,restoreJob:a,modalTitle:n,sourceNode:f,nodes:y,disableRestore:I,close:k,restorePath:_}=e,[x,R]=(0,u.DJ)(!1),[A,Z]=(0,u.DJ)(),[D,N]=(0,u.DJ)(""),[O,M]=(0,u.DJ)({}),[L,P]=(0,u.DJ)(!1),[z]=y,B=!(z.root&&y.length>1),W=f.friendlyName||f.name||f.systemName,[U,F]=(0,u.DJ)(!1),[K,H]=(0,u.DJ)((0,p.isFeatureEnabled)("restore_original_location")&&B),{data:G}=(0,T.Ap)({queryKey:(0,T.HW)((0,c.$U3)(f.clientId)),queryFn:async()=>{try{var e=await(0,c.Xuc)(f.clientId),{mode:t,nodeIds:a=[]}=e.content.backup.lockhart;return"MANUAL"===t?a:[]}catch(n){return(0,p.ninjaReportError)(n),[]}},cacheTime:0,refetchOnWindowFocus:!0,initialData:[]});(0,r.useEffect)((()=>{if((0,p.isFeatureEnabled)("restore_original_location")&&B){(async()=>{var e=await(async e=>{if(!e)return!1;try{var t;return(null===(t=(await(0,c.LOC)(e)).node)||void 0===t?void 0:t.isUp)&&await(0,d.wT)({nodeId:e})}catch(a){return(0,p.ninjaReportError)(a),!1}})(f.id);F(e),e||H(!1)})()}}),[B,F,H,f.id]);var j=K?U:!!O.id,V=!j||x||!A||I||!K&&!D;return(0,m.tZ)(s.u_,{cancelable:!0,titleGroup:{titleText:n},buttons:[{labelToken:(0,p.localizationKey)("Restore"),variant:o.Z.PRIMARY,disabled:V,onClick:async()=>{try{R(!0),await a({destinationNode:O,collisionHandling:A,restorePermissions:L,destinationPath:D,isOriginalLocation:K})}catch(e){(0,p.showErrorMessage)((0,p.localized)("Error creating/updating jobs")),(0,p.ninjaReportError)(e)}finally{R(!1)}}}],unmount:k,children:(0,m.BX)(g.kC,{flexDirection:"column",gap:l.W0[3],children:[(0,m.tZ)(s.II,{labelText:(0,p.localized)("Device"),value:W,readOnly:!0}),(0,m.tZ)(s.II,{labelText:(0,p.localized)("Plan name"),value:z.planName,readOnly:!0}),(0,m.tZ)(s.II,{labelText:(0,p.localized)("Path"),value:(0,h.S2)(_,(0,p.getPathSeparator)(f)),readOnly:!0}),t,(0,m.tZ)(s.Vc,{hideClearSelectionButton:!0,labelText:(0,p.localized)("If file exists"),options:d.x2.map(d.On),onChange:e=>Z(e),value:A,required:!0,placeholderText:(0,p.localized)("Select")}),(0,m.tZ)(s.Vc,{hideClearSelectionButton:!0,labelText:(0,p.localized)("Restore location"),options:((0,p.isFeatureEnabled)("restore_original_location")?[{value:S,labelText:(0,p.localized)("Original Location"),disabled:!B||!U}]:[]).concat([{value:w,labelText:(0,p.localized)("Other Location")}]),onChange:e=>{H(e===S),M({}),N("")},value:K?S:w,required:!0}),!K&&(0,m.BX)(m.HY,{children:[(0,m.BX)(g.kC,{flexDirection:"column",gap:l.W0[1],children:[(0,m.tZ)(s.uT,{children:(0,p.localized)("Location *")}),(0,m.tZ)(C.Z,{openOnFocus:!0,pageSize:50,endpoint:"/query/devices",width:"100%",rowHeight:40,searchableKey:"name",valueSelectorKey:"id",noRowsRendererToken:(0,p.localizationKey)("No online devices available"),onSelect:e=>e&&M(e),getDefaultSelected:e=>{var t;return null!==(t=(0,i.sEJ)((0,i.OH4)("id",f.id),e))&&void 0!==t?t:e[0]},searchParams:e=>{var{query:t}=e;return{...t&&{name:t},...f.clientId&&{org:[f.clientId]},...G.length&&{nodeId:G},nodeClass:["WINDOWS_SERVER","WINDOWS_WORKSTATION",...(0,p.isFeatureEnabled)("macff")?["MAC","MAC_SERVER"]:[]],online:!0,lockhartEnabled:!0}}})]}),(0,m.BX)(E,{children:[(0,m.tZ)(s.II,{labelText:(0,p.localized)("Browse other locations"),value:D,onChange:e=>{var{target:{value:t}}=e;return N(t)},placeholder:(0,p.localized)("Select"),required:!0,readOnly:!0,disabled:!j}),(0,m.tZ)(o.C,{variant:o.Z.SECONDARY,disabled:!j,labelToken:(0,p.localizationKey)("Browse"),onClick:()=>{(0,v.Z)((0,m.tZ)(b,{destinationNode:O,onApply:e=>N(e)}))},tooltip:j?null:(0,p.localized)("You must first select a location before browsing new location folders.")})]})]}),(0,p.isFeatureEnabled)("backup_ntfs_permissions")&&z.backupPermissions&&(0,m.tZ)(s.XZ,{descriptionTextWrap:!0,checked:L,onChange:e=>{var{isChecked:t}=e;return P(t)},label:(0,p.localized)("Restore NTFS Permissions"),tooltipText:(0,p.localized)("This option will restore the NTFS permissions for the selected files or folders from the most recent backup job.")})]})})};const _=(0,r.memo)(k)},80062:(e,t,a)=>{a.d(t,{V:()=>d});var n=a(26341),r=a(15064),i=a(6775),o=a(66833),l=a(4409),s=a(77537),d=e=>{var{unmount:t,nodes:a,sourceNode:d}=e,[c]=a,{revisionId:u}=c,p=!c.folder,h=d.friendlyName||d.name||d.systemName,g=a.length>1?c.fullParentPath:c.fullPath;return(0,s.tZ)(l.Z,{RevisionSelector:null,restoreJob:async e=>{var{destinationNode:v,collisionHandling:m,restorePermissions:f,destinationPath:y,isOriginalLocation:b}=e,{nodes:[T]}=await window.deviceList.fetchById(b?d.id:v.id),C=(0,i.getPathSeparator)(d),E=p?c.fullPath:g,S=(0,n.Jy)({batch:a,nodeId:T.id,nodeName:T.name||T.systemName,sourceNodeName:h,destinationPath:b?a.length>1?E:(0,l.b)(E,C):y,sourceNodeId:d.id,sourcePlanName:c.planName,collisionHandling:m,sourcePath:E,sourcePlanId:c.planUuid,revisionId:u,restoreType:"EXTRACT",filesAndFoldersKey:"path",...(0,i.isFeatureEnabled)("backup_ntfs_permissions")&&{restorePermissions:f}});if("SUCCESS"!==(await(0,n.p1)([S])).resultCode)throw new Error("Error creating restore job");(0,i.showSuccessMessage)((0,i.localized)("Restore job created successfully")),t(),(0,r.Z)((0,s.tZ)(o.Z,{job:S.jobs[0],node:T}))},modalTitle:p?(0,i.localized)("Restore file"):(0,i.localized)("Restore folder"),disableRestore:!u,sourceNode:d,nodes:a,restorePath:g,close:t})}},59884:(e,t,a)=>{a.d(t,{x0:()=>p,xy:()=>g,$S:()=>b});var n=a(26341),r=a(48548),i=a(15064),o=a(6775),l=a(55576),s=a(66833),d=a(4409),c=a(1282),u=a(77537),p=e=>{var{unmount:t,nodes:a,sourceNode:p}=e,[h]=a,g=p.friendlyName||p.name||p.systemName,[v,m]=(0,r.DJ)(null);return(0,u.tZ)(d.Z,{RevisionSelector:(0,u.tZ)(c.Z,{sourceNode:p,file:h,value:v,onChange:m}),restoreJob:async e=>{var{destinationNode:r,collisionHandling:c,restorePermissions:m,destinationPath:f,isOriginalLocation:y}=e,{nodes:[b]}=await window.deviceList.fetchById(y?p.id:r.id),T=b.id,C=b.name||b.systemName,E=(0,o.getPathSeparator)(p),S=(0,l.S2)(h.path,E),w=y?(0,d.b)(S,E):f,I=(0,n.Jy)({batch:a,nodeId:T,nodeName:C,sourcePath:S,sourceNodeName:g,destinationPath:w,revisionId:v.value,sourceNodeId:p.id,sourcePlanId:h.planId,sourcePlanName:h.planName,collisionHandling:c,originalLocation:y,...(0,o.isFeatureEnabled)("backup_ntfs_permissions")&&{restorePermissions:m}});if("SUCCESS"!==(await(0,n.p1)([I])).resultCode)throw new Error("Error creating restore job");(0,o.showSuccessMessage)((0,o.localized)("Restore job created successfully")),t(),(0,i.Z)((0,u.tZ)(s.Z,{job:I.jobs[0],node:b}))},modalTitle:(0,o.localized)("Restore file"),disableRestore:null===v,sourceNode:p,nodes:a,restorePath:a.length>1?h.parentPath:h.path,close:t})},h=a(50176),g=e=>{var{unmount:t,nodes:a,sourceNode:r}=e,[c]=a,p=r.friendlyName||r.name||r.systemName;return(0,u.tZ)(d.Z,{RevisionSelector:(0,u.tZ)(h.II,{labelText:(0,o.localized)("Revision"),value:(0,n.r7)(c),readOnly:!0}),restoreJob:async e=>{var{destinationNode:h,collisionHandling:g,restorePermissions:v,destinationPath:m,isOriginalLocation:f}=e,{nodes:[y]}=await window.deviceList.fetchById(f?r.id:h.id),b=(0,o.getPathSeparator)(r),T=(0,l.S2)(c.file.path,b),C=f?(0,d.b)(T,b):m,E=(0,n.Jy)({batch:a,nodeId:y.id,nodeName:y.name||y.systemName,sourcePath:T,sourceNodeName:p,destinationPath:C,revisionId:c.id,sourceNodeId:r.id,sourcePlanId:c.file.planId,sourcePlanName:c.file.planName,collisionHandling:g,originalLocation:f,...(0,o.isFeatureEnabled)("backup_ntfs_permissions")&&{restorePermissions:v}});if("SUCCESS"!==(await(0,n.p1)([E])).resultCode)throw new Error("Error creating restore job");(0,o.showSuccessMessage)((0,o.localized)("Restore job created successfully")),t(),(0,i.Z)((0,u.tZ)(s.Z,{job:E.jobs[0],node:y}))},modalTitle:(0,o.localized)("Restore file"),disableRestore:(0,o.isNilOrEmpty)(c),sourceNode:r,nodes:a.map((e=>({...e,...e.file}))),restorePath:c.path,close:t})},v=a(58064),m=a(8456),f=a(75493),y=a(91001),b=e=>{var{unmount:t,nodes:a,sourceNode:c}=e,[p,g]=(0,r.DJ)(!1),[b]=a,{planId:T,planType:C}=b,E=c.friendlyName||c.name||c.systemName,[S,w]=(0,r.DJ)(null);return(0,u.tZ)(d.Z,{RevisionSelector:(0,u.BX)(u.HY,{children:[a.some((0,v.OH4)("type","folder"))&&(0,u.tZ)(f.kC,{flexDirection:"column",children:(0,u.tZ)(h.XZ,{descriptionTextWrap:!0,fontWeight:m.typography.fontWeight.bold,onChange:e=>{var{isChecked:t}=e;return g(t)},label:(0,o.localized)("Include latest revision of deleted files"),description:(0,o.localized)("Checking this option will restore the latest revision of all files backed up that were deleted from the machine")})}),(0,u.tZ)(y.Z,{sourceNode:c,planId:T,value:S,onChange:w})]}),restoreJob:async e=>{var{destinationNode:r,collisionHandling:h,restorePermissions:g,destinationPath:v,isOriginalLocation:m}=e,{nodes:[f]}=await window.deviceList.fetchById(m?c.id:r.id),y=f.id,T=f.name||f.systemName,w=(0,o.getPathSeparator)(c),I=(0,l.S2)(a.length>1?b.parentPath:b.path,w),k=(0,n.pe)({nodeId:y,nodeName:T,sourcePath:I,sourceNodeName:E,destinationPath:(()=>{if(!m)return v;var e=(0,n.$l)(C)&&b.root;return a.length>1||e?I:(0,d.b)(I,w)})(),batch:a,backupJobId:S.value,sourceNodeId:c.id,sourcePlanId:b.planId,sourcePlanName:b.planName,collisionHandling:h,originalLocation:m,...(0,o.isFeatureEnabled)("backup_ntfs_permissions")&&{restorePermissions:g},restoreDeletedFiles:p});if("SUCCESS"!==(await(0,n.p1)([k])).resultCode)throw new Error("Error creating restore job");(0,o.showSuccessMessage)((0,o.localized)("Restore job created successfully")),t(),(0,i.Z)((0,u.tZ)(s.Z,{job:k.jobs[0],node:f}))},modalTitle:a.length>1?(0,o.localized)("Restore batch"):(0,o.localized)("Restore folder"),disableRestore:null===S,sourceNode:c,nodes:a,restorePath:a.length>1?b.parentPath:b.path,close:t})};a(80062)},54468:(e,t,a)=>{a.d(t,{N:()=>i});var n=a(6775),r=a(13260),i={variant:"info",titleToken:(0,n.localizationKey)("Downloading large amounts of data"),children:(0,n.localized)("When restoring large amounts of data, it is strongly recommended to choose the Restore option as opposed to your currently selected Download option. Restore will provide better performance and stability in handling large amounts of data."),link:(0,r.l$)({type:"articles",commercialId:"360046961472"})}},39332:(e,t,a)=>{a.d(t,{Z:()=>S});var n=a(41554),r=a(4519),i=a(99751),o=a(58064),l=a(50176),s=a(55460),d=a(6775),c=a(55576),u=a(37495),p=a(8326),h=a(56447),g=a(75493),v=a(46972),m=a(15064),f=a(60384),y=a(77537),b=e=>(0,y.tZ)(f.Z,{...e}),T=(0,n.Z)(i.Z,{shouldForwardProp:v.x9,target:"e1loueeu1"})(v.Dh," ",v.FK," ",v.Cg," ",v.GQ," ",v.bK," ",v.$_," ",v.cp,";"),C=(0,n.Z)(l.zx,{target:"e1loueeu0"})("padding:",(0,s.Oy)(3)," 0;&:hover{background:none;}");class E extends r.PureComponent{constructor(){var e;super(...arguments),e=this,this.state={message:"",treeData:[],checkedKeys:{checked:[],halfChecked:[]},selectedKeys:[],expandedKeys:[],loading:!1},this.getParentPaths=e=>{for(var{separator:t}=this.props,a=[],n=e.split(t);n.length>1;){n.pop();var r=n.join(t)+(1===n.length?t:"");a.unshift(r)}return a},this.getHalfCheckedKeys=e=>{var t=[];return e.forEach((e=>{for(var a=this.getParentPaths(e);a.length>0;){var n=a.pop();t.includes(n)||t.push(n)}})),t},this.initializeTreeData=async()=>{this.setState({message:(0,d.localized)("Loading files from device"),loading:!0});var{nodeClass:e,checkedKeys:t,expandedKeys:a,selectedKeys:n,onGetRootDirectories:r,onGetFolderContent:i}=this.props,o=await r()||[],l=[...a,...(0,d.isWindowsDevice)(e)?["C:/"]:[]];if(this._isMounted){var s={checked:t,halfChecked:this.getHalfCheckedKeys(t)};await Promise.all(l.map((async t=>{var a=o.find((e=>e.key===t));if(a){var n=await i(a,a.key);this.loadCheckedKeysForNewChildren({checkedKeys:s,nodeClass:e,eventKey:t,children:n}),this.updateTreeData({treeData:o,children:n,eventKey:t,reloadChildren:!0})}}))),this.setState({treeData:o,checkedKeys:s,selectedKeys:n,expandedKeys:l,message:o.length?"":(0,d.localized)("Directory listing unavailable."),loading:!1})}},this.updateTreeData=e=>{var{treeData:t,children:a,eventKey:n,isLoadMoreAction:r,reloadChildren:i}=e;t.forEach((e=>{n.includes(e.key)&&(e.children?e.key===n?r?e.children=[...e.children,...a]:i&&(e.children=a):this.updateTreeData({treeData:e.children,children:a,eventKey:n,isLoadMoreAction:r,reloadChildren:i}):e.children=a)}))},this.loadCheckedKeysForNewChildren=e=>{var{checkedKeys:t,nodeClass:a,eventKey:n,children:r=[]}=e,i=r.map((e=>e.key));(0,d.isWindowsDevice)(a)&&(t.checked=t.checked.map((e=>{var t;return null!==(t=i.find((t=>t.toLowerCase()===e.toLowerCase())))&&void 0!==t?t:e})),t.halfChecked=t.halfChecked.map((e=>{var t;return null!==(t=i.find((t=>t.toLowerCase()===e.toLowerCase())))&&void 0!==t?t:e}))),t.checked.find((e=>e===n))&&(t.checked=[...t.checked,...i])},this.loadData=async(e,t)=>{var{props:{eventKey:a,offset:n}}=e,{limit:r,nodeClass:i}=this.props,l=[...this.state.treeData],s=await this.props.onGetFolderContent(e,a,n,r),d=(0,o.d9v)(this.state.checkedKeys);this.loadCheckedKeysForNewChildren({checkedKeys:d,nodeClass:i,eventKey:a,children:s}),this.updateTreeData({treeData:l,children:s,eventKey:a,isLoadMoreAction:!!n,reloadChildren:t}),this.setState({treeData:l,checkedKeys:d})},this.recursivelyGetChildrenKeys=e=>{var t=[e.key];return e.children&&e.children.forEach((e=>{t=t.concat(this.recursivelyGetChildrenKeys(e))})),t},this.isHalfChecked=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>e.key));if((0,o.jVA)(a,t).length>0)return!0;var n=(0,o.jVA)(a,e);return n.length>0&&n.length!==a.length},this.propagateCheckStatus=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=r.shift();if(i){var l,{children:s}=null!==(l=a.find((e=>e.key===i)))&&void 0!==l?l:{},d=e.propagateCheckStatus(t,s,n,r);if(null!==d&&void 0!==d&&d.halfChecked)return t.halfChecked.includes(i)||t.halfChecked.push(i),t.checked=(0,o.zud)([i],t.checked),d;var c=e.isHalfChecked(s,t.checked,t.halfChecked);return c?(t.halfChecked.includes(i)||t.halfChecked.push(i),t.checked=(0,o.zud)([i],t.checked)):(n.checked?t.checked.includes(i)||t.checked.push(i):t.checked=(0,o.zud)([i],t.checked),t.halfChecked=(0,o.zud)([i],t.halfChecked)),{halfChecked:c}}var u=e.recursivelyGetChildrenKeys(n.node);n.checked?t.checked=(0,o.jj$)((0,o.zoF)(t.checked,u)):t.checked=(0,o.zud)(u,t.checked),t.halfChecked=(0,o.zud)(u,t.halfChecked)},this.handleOnCheck=(e,t)=>{var{treeData:a}=this.state,{onCheck:n,separator:r}=this.props,i=(0,o.d9v)(e),l=this.getParentPaths(t.node.key);this.propagateCheckStatus(i,a,t,l),this.setState({checkedKeys:i},(()=>{var e=i.checked.filter(((e,t,a)=>!a.find((t=>e!==t&&e.startsWith(t+(t.endsWith(r)?"":r))))));null===n||void 0===n||n(e,t,a)}))},this.onSelect=(e,t)=>{if(t.node.props.isLoadMoreAction)return this.loadData(t.node);var{treeData:a}=this.state,{onSelect:n}=this.props;this.setState({selectedKeys:e,selectedInfo:t},(()=>{n&&n(e,t,a)}))},this.onExpand=(e,t)=>{var{expanded:a,node:n}=t,[r]=n.props.children||[];this.setState({expandedKeys:e},(()=>{a&&!r&&this.loadData(n)}))},this.onOutsideClick=()=>{var{clearable:e,onClear:t}=this.props,{selectedKeys:a}=this.state;e&&((0,o.xbD)(a)||(this.setState({selectedKeys:[],selectedInfo:{}}),t()))},this.onSaveNewFolder=async e=>{var{props:{deviceId:t,separator:a},state:{selectedKeys:n,selectedInfo:r},loadData:i}=this,o=(0,c.v6)(n[0],a),l=await(0,c.k3)({nodeId:t,folderName:e,path:o});if(l)return l;i(r.node,!0)},this.getTreeNodes=(0,d.memoize)((e=>{var{limit:t}=this.props;return e.map((e=>{var{key:a,type:n,title:r,folder:o,children:l,isLeaf:s,parentKey:h,disabled:g,disableCheckbox:v,...m}=e,f=l&&l.length>1&&l.length%t===0;return(0,y.BX)(i.O,{...m,key:a,type:n,icon:c.q7,title:r,isLeaf:s,folder:o,children:l,disabled:g,parentKey:h,switcherIcon:c.nf,disableCheckbox:v,className:"".concat(g?"node-disabled":""," ").concat(v?"checked-disabled":""),children:[l&&this.getTreeNodes(l),f&&(0,y.tZ)(i.O,{key:a,parentKey:h,offset:l.length+1,title:(0,d.localized)("Load More"),isLoadMoreAction:!0,icon:()=>(0,y.tZ)(u.G,{icon:p.r8p})})]})}))}))}componentDidMount(){this._isMounted=!0,this.initializeTreeData()}componentWillUnmount(){this._isMounted=!1}componentDidUpdate(e){e.deviceId!==this.props.deviceId&&this.initializeTreeData()}render(){var{props:{checkable:e,selectable:t,height:a,nodeClass:n,canCreateNewFolder:r},state:{message:i,checkedKeys:o,selectedKeys:l,selectedInfo:s,expandedKeys:v,treeData:f,loading:E},handleOnCheck:S,onSelect:w,onExpand:I,getTreeNodes:k,onOutsideClick:_,onSaveNewFolder:x}=this,R=k(f);return(0,y.BX)(g.xu,{className:"file-folder-browser-tree-container",children:[r&&(0,y.tZ)(C,{variant:"tertiary",onClick:()=>(0,m.Z)((0,y.tZ)(b,{nodeClass:n,save:x})),labelToken:(0,d.localizationKey)("New Folder"),disabled:!(null!==s&&void 0!==s&&s.selected)}),f.length?(0,y.tZ)(h.default,{onOutsideClick:_,children:(0,y.tZ)(T,{showIcon:!0,height:a,onCheck:S,onSelect:w,onExpand:I,checkable:e,selectable:t,checkedKeys:o,selectedKeys:l,expandedKeys:v,switcherIcon:c.nf,className:"file-folder-browser-tree",checkStrictly:!0,children:R})}):(0,y.BX)(g.xu,{paddingLeft:3,paddingTop:1,backgroundColor:"white",height:a,children:[i&&(0,y.tZ)("span",{children:i}),E&&(0,y.tZ)(u.G,{spin:!0,icon:p.LM3})]})]})}}E.defaultProps={separator:"/",checkable:!1,selectable:!1,checkedKeys:[],selectedKeys:[],expandedKeys:[],limit:1e3,height:500};const S=E},91376:(e,t,a)=>{a.d(t,{EY:()=>p,gO:()=>u,w7:()=>d});var n=a(8326),r=a(6775),i=a(57848),o=[{type:"word",extensions:new Set(["doc","dot","wbk","docx","docm","dotx","dotm","docb"])},{type:"excel",extensions:new Set(["xls","xlt","xlm","xlsx","xlsm","xltx","xltm","xlsb","xla","xlam","xll","xlw"])},{type:"powerpoint",extensions:new Set(["ppt","pot","pps","pptx","pptm","potx","potm","ppam","ppsx","ppsm","sldx","sldm"])},{type:"audio",extensions:new Set(["3gp","aa","aac","aax","act","aiff","amr","ape","au","awb","dct","dss","dvf","flac","gsm","iklax","ivs","m4a","m4b","m4p","mmf","mp3","mpc","msv","nmf","nsf","oga","mogg","opus","ra","rm","raw","sln","tta","vox","wav","wma","wv","webm","8svx"])},{type:"video",extensions:new Set(["mp4","m4a","m4v","f4v","f4a","m4b","m4r","f4b","mov","3gp","3gp2","3g2","3gpp","3gpp2","ogg","oga","ogv","ogx","wmv","wma","webm","flv"])},{type:"pdf",extensions:new Set(["pdf"])},{type:"csv",extensions:new Set(["csv"])},{type:"image",extensions:new Set(["ase","art","bmp","blp","cd5","cit","cpt","cr2","cut","dds","dib","djvu","egt","exif","gif","gpl","grf","icns","ico","iff","jng","jpeg","jpg","jfif","jp2","jps","lbm","max","miff","mng","msp","nitf","ota","pbm","pc1","pc2","pc3","pcf","pcx","pdn","pgm","PI1","PI2","PI3","pict","pct","pnm","pns","ppm","psb","psd","pdd","psp","px","pxm","pxr","qfx","raw","rle","sct","sgi","rgb","int","bw","tga","tiff","tif","vtf","xbm","xcf","xpm","3dv","amf","ai","awg","cgm","cdr","cmx","dxf","e2d","eps","fs","gbr","odg","stl","vrml","x3d","sxd","v2d","vnd","wmf","emf","xar","png","webp","jxr","hdp","wdp","cur","ecw","liff","nrrd","pam","pgf","rgba","inta","sid","ras","sun"])},{type:"archive",extensions:new Set(["zip","rar","7z","bz2","lha","lzh","cab"])},{type:"code",extensions:new Set(["asp","aspx","axd","asx","asmx","ashx","css","cfm","yaws","swf","html","htm","xhtml","jhtml","jsp","jspx","wss","do","action","js","pl","php","php4","php3","phtml","py","rb","rhtml","shtml","xml","rss","svg","cgi","dll"])},{type:"install",extensions:new Set(["msi","msm","msp","mst","idt","cub","pcp"])}],l={word:n.Mfv,excel:n.icc,powerpoint:n.WOY,audio:n.FMf,video:n.hvm,pdf:n.gSj,csv:n.fUD,image:n.Oi0,archive:n.W2U,code:n.w49,install:n.cwv},s=e=>{var t;return null===(t=o.find((t=>{var{extensions:a}=t;return a.has(e)})))||void 0===t?void 0:t.type},d=e=>{var t=(0,r.getFileExtension)(e),a=s(t);return l[a]||n.gMD},c={word:"WordIconSolid",excel:"ExcelIconSolid",powerpoint:"PowerPointIconSolid",audio:"AudioIconSolid",video:"VideoIconSolid",pdf:"PDFIconSolid",csv:"CsvIconSolid",image:"ImageIconSolid",archive:"ArchiveIconSolid",code:"CodeIconSolid",install:"InstallIconSolid"},u=e=>{var t=(0,r.getFileExtension)(e),a=s(t);return c[a]||"FileIconSolid"},p=e=>{var{folder:t,extension:a}=e;return t?"FolderIconLight":(0,i.w7)(a)}},28551:(e,t,a)=>{a.d(t,{x:()=>p});var n=a(4519),r=a(43077),i=a.n(r),o=a(50176),l=a(67009),s=a(6775),d=a(60036),c=a(77537),u=i()().subtract(1,"day"),p=(0,n.memo)((e=>{var{timeFormat:t=!1,isoFormat:a=!1,name:n,ariaLabel:r,value:p,onChange:h,mandatory:g,validation:v,validationError:m,allowPastDates:f=!1}=e;return(0,c.tZ)(d.bn,{closeOnSelect:!0,width:"100%",timeFormat:t,isValidDate:e=>function(e,t){return t||e.isAfter(u)}(e,f),value:p?i()(p):null,onChange:e=>a?(e=>{if(i().isMoment(e))return h(e.toISOString(!0))})(e):(e=>{var a=(0,s.getDateTimeLocale)(e);if(i().isMoment(e)&&a.isValid())return h(a.format(t?s.dateTimeFormat:s.serverScheduleDateFormat))})(e),renderInput:(e,a)=>{var{value:i,onChange:d}=e;return(0,c.tZ)(o.II,{placeholder:t?(0,s.localized)("Select Date and Time"):(0,s.localized)("Select Date"),ariaLabel:null!==r&&void 0!==r?r:(0,s.localized)("Date and time"),value:i,onChange:d,onFocus:a,minWidth:"auto",RightSideIcon:(0,c.tZ)(l.CalendarIcon,{}),...g&&{errorMessage:m||(null===v||void 0===v?void 0:v.message[n])}})}})}))},72542:(e,t,a)=>{a.d(t,{Z:()=>b});var n=a(4519),r=a(25874),i=a(87779),o=a(34928),l=a(41554),s=a(50176),d=a(78345),c=a(31043),u=a(77537),p="DragableElement",h=(0,l.Z)("div",{target:"ecipigc0"})(s.AL,";"),g=e=>{var{index:t,element:a,moveElement:r,onRemoveElement:i,renderElement:o,isDisabled:l,endDrag:s}=e,g=(0,n.useRef)(null),[,v]=(0,d.L)({accept:p,hover:(e,a)=>{if(g.current){var n=e.index,i=t;if(n!==i){var o=g.current.getBoundingClientRect(),l=(o.bottom-o.top)/2,s=a.getClientOffset().y-o.top;n<i&&s<l||n>i&&s>l||(r(n,i),e.index=i)}}}}),[{isDragging:m},f]=(0,c.c)({type:p,item:{element:a,index:t},canDrag:()=>!l,collect:e=>({isDragging:e.isDragging()}),end:()=>null===s||void 0===s?void 0:s()}),y=m?0:1;return f(v(g)),(0,u.tZ)(h,{ref:g,style:{opacity:y},"data-testid":"test-dragable-item",children:o(a,((e,t,a)=>{e.preventDefault(),e.stopPropagation(),i(t,a)}),m,t)})};const v=(0,n.memo)(g);var m=a(6775),f=e=>{var t,{keyProp:a,keyProps:n,element:r}=e;return a?r[a]:null!==n&&void 0!==n&&n.length?(n.forEach((e=>{(0,o.h7H)(r[e])&&(t=r[e])})),t):r},y=e=>{var{elements:t,onRemoveElement:a,onChange:o,renderElement:l,keyProp:s,keyProps:d,isDisabled:c,noRowsLabel:p,loading:h}=e,[g,y]=(0,n.useState)(t),b=(0,n.useCallback)(((e,t)=>{y((a=>{var n=a.slice(),r=n[e];return n.splice(e,1),n.splice(t,0,r),n}))}),[]),T=(0,n.useCallback)((()=>{o(g)}),[o,g]);(0,n.useEffect)((()=>{y(t)}),[t]);var C="function"===typeof p?p(h):(0,m.noRowsRenderer)(p,h,"no-padding")();return g.length?(0,u.tZ)(r.W,{backend:i.PD,children:g.map(((e,t)=>(0,u.tZ)(v,{element:e,key:f({keyProp:s,keyProps:d,element:e}),index:t,moveElement:b,onRemoveElement:a,renderElement:l,isDisabled:c,endDrag:T})))}):C};y.defaultProps={elements:[],loading:!1,noRowsLabel:(0,o.eWj)("No data available")};const b=y},93235:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(4519),r=a(9630),i=a(33066),o=a.n(i),l=a(40307),s=a(77537);class d extends n.PureComponent{constructor(){super(...arguments),this.onModalShow=()=>{o()(document).off("focusin.modal")},this.componentDidUpdate=e=>{var{prevShow:t}=e,{show:a}=this.props;!t&&a&&this.onModalShow()}}componentDidMount(){var{show:e}=this.props;e&&this.onModalShow()}render(){var{show:e,children:t,bsSize:a,containerId:n,className:i,id:o}=this.props;return e&&(0,s.tZ)(l.Z,{containerId:n,children:(0,s.tZ)(r.Z.Dialog,{id:o,className:i,bsSize:a,children:t})})}}},1954:(e,t,a)=>{a(4519),a(6775),a(58064)},93672:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(4519),r=a(6775),i=a(75493),o=a(64455),l=a(77537);class s extends n.PureComponent{constructor(){super(...arguments),this.closeModal=e=>{var{isSaving:t,close:a}=this.props;t||"function"!==typeof a||a()},this.saveChanges=e=>{var{isSaving:t,save:a}=this.props;t||"function"!==typeof a||a()}}render(){var{isSaving:e,close:t,save:a,infoRenderer:n,customActionTitle:s,disableSave:d,headerId:c,headerRef:u}=this.props,p=(0,r.getAppLogoFromBranding)();return(0,l.BX)(l.HY,{children:[(0,l.BX)("div",{className:"theme-bg-color ninja-editor-header",id:c,ref:u,children:[p&&(0,l.tZ)("a",{href:"/#/systemDashboard/overview",children:(0,l.tZ)("img",{className:"ninja-header-logo",src:p,alt:"logo"})}),(0,l.tZ)("div",{children:null===n||void 0===n?void 0:n()}),(0,l.tZ)(i.xu,{marginLeft:"auto",children:(0,l.tZ)(o.Z,{portalContainerId:"help-dropdown-alt-editor-container",isEditor:!0,usesSmallTrigger:!0})}),(0,l.BX)("div",{className:"buttons-container white-space-nowrap",children:[a&&(0,l.tZ)("button",{onClick:this.saveChanges,type:"submit",disabled:e||d,className:"btn btn-success",children:null!==s&&void 0!==s?s:(0,r.localized)("Save")}),t&&(0,l.tZ)("button",{onClick:this.closeModal,disabled:e,type:"button",className:"btn btn-white",children:(0,r.localized)("Close")})]})]}),(0,l.tZ)("div",{id:"help-dropdown-alt-editor-container"})]})}}},97240:(e,t,a)=>{a.d(t,{ho:()=>se,jz:()=>ie,tY:()=>le,lu:()=>oe});var n=a(22637),r=a.n(n),i=a(67009),o=a(50176),l=a(55460),s=a(6775),d=a(75493),c=a(8456),u=a(41554),p=a(77852),h=a(77537),g=(0,u.Z)("div",{target:"etvt4zk0"})("font-size:",(0,l.y3)("sm"),";line-height:",c.default.typography.lineHeight.body,";font-weight:",(e=>{var{bold:t}=e;return t?c.default.typography.fontWeight.medium:c.default.typography.fontWeight.regular}),";text-wrap:balance;color:",(e=>{var{theme:t}=e;return t.colorTextAction}),";");const v=e=>{var{href:t,bold:a,children:n}=e;return(0,h.tZ)(p.Z,{href:t,children:(0,h.BX)(g,{bold:!0,children:[n," ",(0,h.tZ)(i.ExternalLinkIcon,{size:"xs"})]})})};var m=a(6036),f=a(30305),y=["p","em","strong","a"],b=(0,u.Z)(f.DJ,{target:"e1lqdtdz1"})("display:flex;flex-direction:column;justify-content:flex-start;padding:",(0,l.Oy)(4),";gap:",(0,l.Oy)(2),";border-color:",(e=>{var{theme:t}=e;return t.colorBorderWeak}),";&&& a{color:",(e=>{var{theme:t}=e;return t.colorTextAction}),";&:focus-visible{outline-color:",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";}}"),T=(0,u.Z)(m.D,{target:"e1lqdtdz0"})("p{-webkit-box-orient:vertical;-webkit-line-clamp:2;color:",(e=>{var{theme:t}=e;return t.colorTextWeakest}),";display:-webkit-box;font-size:",(0,l.y3)("sm"),";overflow:hidden;&:last-of-type{margin-bottom:0;}}"),C=()=>(0,h.BX)(d.kC,{flexDirection:"column",gap:(0,l.Oy)(2),children:[(0,h.BX)(b,{marginBottom:(0,l.Oy)(2),children:[(0,h.tZ)(o.Od,{display:"block",width:"50%",height:"16px"}),(0,h.tZ)(o.Od,{display:"block",width:"100%",height:"16px"}),(0,h.tZ)(o.Od,{display:"block",width:"100%",height:"16px"})]}),(0,h.BX)(b,{children:[(0,h.tZ)(o.Od,{display:"block",width:"50%",height:"16px"}),(0,h.tZ)(o.Od,{display:"block",width:"100%",height:"16px"}),(0,h.tZ)(o.Od,{display:"block",width:"100%",height:"16px"})]}),(0,h.BX)(b,{children:[(0,h.tZ)(o.Od,{display:"block",width:"50%",height:"16px"}),(0,h.tZ)(o.Od,{display:"block",width:"100%",height:"16px"}),(0,h.tZ)(o.Od,{display:"block",width:"100%",height:"16px"})]})]}),E=a(4519),S=(0,u.Z)("button",{target:"e19r5b7d0"})("border:none;background:none;padding:",c.default.spacing[2],";color:",(e=>{var{theme:t}=e;return t.colorTextStrong}),";border-radius:",c.default.borderRadius[1],";width:100%;&:hover{background-color:",(e=>{var{theme:t}=e;return t.colorForegroundHover}),";}&:focus-visible{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";}button:focus-visible &{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";}"),w=S.withComponent("div",{target:"e19r5b7d1"});const I=(0,E.memo)((e=>{var{icon:t,topic:a,zendeskUrl:n,isExternalLink:r,onClick:l,...s}=e,u=n?w:S,g=(0,h.tZ)(u,{...s,...!n&&{onClick:l},children:(0,h.tZ)(o.xv,{size:"sm",color:"colorTextStrong",children:(0,h.BX)(d.kC,{alignItems:"center",gap:c.default.spacing[2],children:[t," ",a,r&&(0,h.tZ)(d.xu,{marginLeft:"auto",children:(0,h.tZ)(i.ExternalLinkIconLight,{size:"xs",color:"colorTextWeakest"})})]})})});return n?(0,h.tZ)(p.Z,{href:n,textDecoration:!1,children:g}):g}));const k=e=>{var{handleChangeView:t}=e;return(0,h.tZ)(I,{id:"submit-help-ticket",onClick:()=>{t(ie.submitHelpTicket)},topic:(0,s.localized)("Submit help ticket"),icon:(0,s.isRmmServiceLocation)()?null:(0,h.tZ)(i.PaperPlaneIconLight,{})})};var _=a(13260),x=e=>{var t=new URL(e).pathname.match(/\/articles\/(\d+)(?:-(.*))?$/);if(t&&t[1]){var a=t[1],n=t[2]||"";return(0,_.l$)({type:"articles",commercialId:a,slug:n})}};const R=e=>{var{articles:t,loading:a,error:n,handleChangeView:r,handleClose:l,showHelpSubmitTicket:u}=e,p=(0,h.BX)(h.HY,{children:[(0,h.tZ)(I,{id:"visit-community",zendeskUrl:(0,_.l$)({type:"community"}),topic:(0,s.localized)("Visit the community"),icon:(0,s.isRmmServiceLocation)()?null:(0,h.tZ)(i.PaperPlaneIconLight,{}),isExternalLink:!0}),u&&(0,h.tZ)(k,{handleChangeView:r})]});return n?(0,h.BX)(h.HY,{children:[(0,h.BX)(d.kC,{flexDirection:"column",alignItems:"center",justifyContent:"center",gap:c.default.spacing[2],height:"100%",children:[(0,h.tZ)(i.ExclamationCircle,{size:"lg",color:"colorTextWeakest"}),(0,h.BX)(d.xu,{textAlign:"center",children:[(0,h.tZ)(d.xu,{marginBottom:c.default.spacing[1],children:(0,h.tZ)(o.X6,{color:"colorTextWeakest",level:2,type:"headingS",children:(0,s.localized)("Something went wrong on our end.")})}),(0,h.tZ)(o.uT,{color:"colorTextWeakest",children:(0,s.localized)("Please try again.")})]})]}),p]}):a?(0,h.BX)(h.HY,{children:[(0,h.tZ)(d.kC,{flex:"1",flexDirection:"column",marginBottom:c.default.spacing[6],children:(0,h.tZ)(C,{})}),p]}):(0,h.BX)(h.HY,{children:[t.length?(0,h.BX)(d.kC,{flexDirection:"column",flex:"1",height:"auto",minHeight:"250px",marginBottom:c.default.spacing[6],children:[(0,h.tZ)(d.xu,{marginBottom:c.default.spacing[3],children:(0,h.tZ)(o.xv,{size:"sm",color:"colorTextWeakest",children:(0,s.localized)("{{count}} articles",{count:null===t||void 0===t?void 0:t.length})})}),(0,h.tZ)(d.kC,{flexDirection:"column",gap:c.default.spacing[2],flex:1,overflowY:"scroll",children:null===t||void 0===t?void 0:t.map((e=>{var{name:t,snippet:a,id:n,html_url:r}=e;return(0,h.BX)(b,{children:[(0,h.tZ)(v,{bold:!0,href:x(r),children:t}),(0,h.tZ)(T,{skipHtml:!0,allowedElements:y,linkTarget:"_blank",children:a})]},n)}))})]}):(0,h.BX)(d.kC,{flexDirection:"column",alignItems:"center",justifyContent:"center",gap:c.default.spacing[2],height:"100%",marginTop:c.default.spacing[1],marginBottom:c.default.spacing[4],children:[(0,h.tZ)(i.SearchIcon,{size:"lg",color:"colorTextWeakest"}),(0,h.tZ)(o.X6,{color:"colorTextWeakest",level:2,type:"headingS",children:(0,s.localized)("No articles found")})]}),p]})};var A=a(75100),Z=a(56899),D=a(17117),N=a(63880),O=e=>{var t,a,n=window.location.hash.replace("#","");return null!==(t=null===(a=e.slice().reverse().find((e=>{var{route:t,exact:a=!1}=e,r=(0,Z.LX)(n,{path:t,exact:a,strict:!1});return a?null===r||void 0===r?void 0:r.isExact:!!r})))||void 0===a?void 0:a.articles)&&void 0!==t?t:[]};const M=()=>{var[e,t]=(0,E.useState)(O((0,N.H)()));(0,E.useEffect)((()=>{var e=()=>{t(O((0,N.H)()))};return window.addEventListener("hashchange",e),window.addEventListener("backboneEditorTabChange",e),()=>{window.removeEventListener("hashchange",e),window.removeEventListener("backboneEditorTabChange",e)}}),[]);var a=(0,h.BX)(d.kC,{gap:c.default.spacing[1],alignItems:"center",marginBottom:c.default.spacing[3],children:[(0,h.tZ)(i.BulbOnIcon,{color:"colorTextWeak"}),(0,h.tZ)(o.X6,{level:2,type:"headingS",color:"colorTextWeak",children:(0,s.localized)("Suggested help articles")})]});return e.length?(0,h.BX)(d.kC,{flexDirection:"column",height:"auto",marginBottom:c.default.spacing[6],children:[a,(0,h.tZ)(d.kC,{id:"fs-suggested-help-articles",flexDirection:"column",gap:c.default.spacing[2],overflowY:"scroll",children:e.map((e=>{var{labelToken:t,href:a,videoTimestamp:n,descriptionToken:r}=e;return(0,h.BX)(b,{children:[(0,h.BX)(d.kC,{justifyContent:"space-between",width:"100%",gap:c.default.spacing[2],children:[(0,h.tZ)(v,{href:a,bold:!0,children:(0,s.localized)(t)}),!!n&&(0,h.tZ)(D.Lm,{timestamp:n})]}),(0,h.tZ)(T,{skipHtml:!0,allowedElements:y,linkTarget:"_blank",children:(0,s.localized)(r)})]},t)}))})]}):(0,h.BX)(d.xu,{marginBottom:c.default.spacing[6],children:[a,(0,h.tZ)(o.xv,{color:"colorTextWeakest",token:(0,s.localizationKey)("We're working on getting articles added for this page. In the meantime, try searching for articles in the search bar above."),size:"sm",textWrap:!0})]})};var L=a(37844);const P=()=>(0,h.tZ)(I,{id:"ninjaone-academy",onClick:async e=>{e.preventDefault();try{var{absoluteLoginUrl:t}=await(0,L.uhq)();t&&window.open(t,"_blank","noopener noreferrer")}catch(a){(0,s.showErrorMessage)((0,s.localized)("Error opening NinjaOne Academy")),(0,s.ninjaReportError)(a)}},topic:"NinjaOne Academy",icon:(0,s.isRmmServiceLocation)()?null:(0,h.tZ)(i.GraduationHatLight,{}),isExternalLink:!0});var z={[(0,s.localizationKey)("Dojo / Help center")]:(0,h.tZ)(i.QuestionCircleIconLight,{}),[(0,s.localizationKey)("Video library")]:(0,h.tZ)(i.VideoIconLight,{}),"NinjaOne Academy":(0,h.tZ)(i.GraduationHatLight,{}),[(0,s.localizationKey)("News")]:(0,h.tZ)(i.MegaphoneIconLight,{}),[(0,s.localizationKey)("Release notes")]:(0,h.tZ)(i.MemoIconLight,{}),[(0,s.localizationKey)("Product roadmap")]:(0,h.tZ)(i.RoadLightIcon,{}),[(0,s.localizationKey)("API documentation")]:(0,h.tZ)(i.FileCodeIconLight,{})};const B=(0,A.$j)((e=>{var{websiteBranding:t}=e;return{helpSettings:t.brandingNode.general.helpSettings}}))((e=>{var{helpSettings:t,handleClose:a,handleChangeView:n,activeRoute:r,showHelpSubmitTicket:i,showHelpNinjaArticles:o,showNinjaOneWorkrampAcademy:l}=e,c=(0,E.useMemo)((()=>(0,s.isRmmServiceLocation)()?t:(0,s.getNinjaBranding)().general.helpSettings),[t]),u=(0,E.useMemo)((()=>c.topics.map(((e,t)=>{var{topic:a,token:n,action:r,...i}=e;return{action:()=>"function"===typeof r?r():window.open(r,"_blank","noopener noreferrer"),isExternalLink:!0,icon:n&&!(0,s.isRmmServiceLocation)()?z[n]:null,id:"help-settings-".concat(n||t),topic:a,zendeskUrl:"string"===typeof r&&(0,s.isZendeskUrl)(r)?r:null,...i}}))),[c]);return(0,h.BX)(h.HY,{children:[o&&(0,h.tZ)(M,{}),(0,h.BX)(d.kC,{flexDirection:"column",children:[i&&(0,h.tZ)(k,{handleChangeView:n}),(0,s.isFeatureEnabled)("ninja_academy")&&l&&(0,h.tZ)(P,{handleChangeView:n}),u.map(((e,t)=>{var{id:n,action:r,zendeskUrl:i,...o}=e;return(0,h.tZ)(I,{key:n,id:n,zendeskUrl:i,onClick:()=>{r()||a()},...o})}))]})]})}));var W=a(26155),U=a(58064),F=a(36360),K=a(97706),H=a(48548),G=[{value:"LOW",labelToken:(0,s.localizationKey)("Low")},{value:"NORMAL",labelToken:(0,s.localizationKey)("Normal")},{value:"HIGH",labelToken:(0,s.localizationKey)("High")},{value:"URGENT",labelToken:(0,s.localizationKey)("Urgent")}],j=[{value:"category_activities",labelToken:(0,s.localizationKey)("Activities")},{value:"category_active_directory",labelToken:(0,s.localizationKey)("Active Directory")},{value:"category_antivirus",labelToken:(0,s.localizationKey)("Antivirus")},{value:"category_api",labelToken:"API"},{value:"category_automation",labelToken:(0,s.localizationKey)("Automation")},{value:"category_backup",labelToken:(0,s.localizationKey)("Backup")},{value:"category_branding",labelToken:(0,s.localizationKey)("Branding")},{value:"category_billing",labelToken:(0,s.localizationKey)("Billing")},{value:"category_custom_fields",labelToken:(0,s.localizationKey)("Custom Fields")},{value:"category_devices",labelToken:(0,s.localizationKey)("Devices")},{value:"category_groups",labelToken:(0,s.localizationKey)("Groups")},{value:"category_integrations",labelToken:(0,s.localizationKey)("Integrations")},{value:"category_mdm",labelToken:"MDM"},{value:"category_networking",labelToken:(0,s.localizationKey)("Networking")},{value:"category_ninja_mobile",labelToken:(0,s.localizationKey)("Ninja Mobile")},{value:"category_notification_channels",labelToken:(0,s.localizationKey)("Notification Channels")},{value:"category_organizations",labelToken:(0,s.localizationKey)("Organizations")},{value:"category_other",labelToken:(0,s.localizationKey)("Other")},{value:"category_patch_management",labelToken:(0,s.localizationKey)("Patch Management")},{value:"category_policies",labelToken:(0,s.localizationKey)("Policies")},{value:"category_remote_tools",labelToken:(0,s.localizationKey)("Remote Tools")},{value:"category_reporting",labelToken:(0,s.localizationKey)("Reporting")},{value:"category_ticketing",labelToken:(0,s.localizationKey)("Ticketing")},{value:"category_user_accounts",labelToken:(0,s.localizationKey)("User Accounts")},{value:"category_virtualization",labelToken:(0,s.localizationKey)("Virtualization")}],V=["category_antivirus","category_backup","category_devices","category_mdm","category_patch_management","category_remote_tools","category_user_accounts"],X=a(24331),q=a(7683),Y=a(40430),J=a(85404);var $=[".jpg",".jpeg",".png",".mov",".txt"],Q=(0,u.Z)(o.Kx,{target:"ehqy8tb3"})({name:"b8jtb8",styles:"min-height:95px"}),ee=(0,u.Z)("div",{target:"ehqy8tb2"})("[data-ninja-select-trigger]{border:1px solid ",(e=>{var{theme:t,hasError:a}=e;return a?t.colorBorderError:t.colorBorderWeak}),";color:",(e=>{var{theme:t}=e;return t.colorTextStrong}),";&:focus-visible{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";}}"),te=(0,u.Z)("div",{target:"ehqy8tb1"})("[data-ninja-searchable-dropdown]{border:1px solid ",(e=>{var{theme:t,hasError:a}=e;return a?t.colorBorderError:t.colorBorderWeak}),";color:",(e=>{var{theme:t}=e;return t.colorTextStrong}),';box-shadow:none;&[data-active="true"]{outline:2px solid ',(e=>{var{theme:t}=e;return t.colorForegroundFocus}),'!important;box-shadow:none;}[role="search"]{min-height:36px;}}'),ae=(0,u.Z)("label",{target:"ehqy8tb0"})("all:unset;font-size:",c.default.typography.fontSize.body,";font-weight:",c.default.typography.fontWeight.regular,";line-height:",c.default.typography.lineHeight.body,";color:",(e=>{var{theme:t}=e;return t.colorTextStrong}),";"),ne=e=>{var{label:t,htmlFor:a,id:n,isRequired:r=!0}=e;return(0,h.tZ)(d.xu,{marginBottom:c.default.spacing[1],children:(0,h.BX)(ae,{id:n,htmlFor:a,children:[t," ",r&&(0,h.tZ)("sup",{"aria-hidden":"true",children:"*"})]})})};const re=(0,A.$j)((e=>{var{application:{locale:t,isBranded:a}}=e;return{locale:t,isBranded:a}}))((e=>{var{handleComplete:t,locale:a,isBranded:n,setAlertProps:r,submitTicketViewFirstElementRef:u}=e,[p,g]=(0,H.DJ)(!1),[v,m]=(0,H.DJ)(!1),[f,y]=(0,H.DJ)([]),[b,T]=(0,H.DJ)(!1),[C,S]=(0,H.DJ)(null),[{ticketSubject:w,ticketBody:I},k]=(0,H.DJ)({ticketSubject:0,ticketBody:0}),x=(0,_.$w)(),{values:{ticketPriority:R,ticketPhoneNumber:A,ticketSubject:Z,ticketBody:D,ticketCategory:N,ticketCallback:O,ticketCc:M},validateForm:L,validation:P,onChange:z}=(0,H.cI)({fields:{ticketPriority:"",ticketPhoneNumber:"",ticketSubject:"",ticketBody:"",ticketCategory:null,ticketCallback:!1,ticketCc:[]},validate:{ticketPriority:s.validations.required,ticketPhoneNumber:s.validations.phone,ticketSubject:s.validations.required,ticketBody:s.validations.required,ticketCategory:!x&&s.validations.required}}),B=(0,E.useMemo)((()=>j.sort(((e,t)=>(0,s.localized)(e.labelToken).localeCompare((0,s.localized)(t.labelToken)))).map((e=>({...e,label:(0,s.localized)(e.labelToken)})))),[]),ae=w?Z:D,re=(0,E.useMemo)((()=>V.includes(null===N||void 0===N?void 0:N.value)),[null===N||void 0===N?void 0:N.value]),ie=(0,E.useMemo)((()=>C?{variant:"danger",children:(0,h.BX)(d.kC,{flexDirection:"column",gap:c.default.spacing[2],children:[(0,h.tZ)(o.xv,{token:(0,s.localizationKey)("Please select a different file. The following file(s) are too large: "),size:"sm",textWrap:!0}),(0,h.tZ)(d.xu,{children:C.map((e=>{var{name:t,index:a}=e;return(0,h.tZ)(o.xv,{size:"sm",textWrap:!0,children:t},"".concat(t,"-").concat(a))}))})]})}:null),[C]);(0,E.useEffect)((()=>(r(ie),()=>r(null))),[r,ie]);var se=e=>parseFloat((0,F.Dy)(e))>50,de=(0,E.useMemo)((()=>(0,s.debounce)((async function(e,t){try{var{results:n}=await le({query:t,locale:a});if(!Array.isArray(n))throw new Error("Invalid results response");k((t=>({...t,[e]:null===n||void 0===n?void 0:n.length})))}catch(r){(0,s.ninjaReportError)(r)}}),2e3)),[a,k]),ce=(0,E.useCallback)(((e,t)=>{if(z(e,t),n||"ticketBody"===e&&w||t.replace(/\s/g,"").length<3)return k((t=>({...t,[e]:0})));de(e,t||ae)}),[w,de,n,z,ae,k]),ue=(0,s.localized)("Maximum of {{maxFiles}} files, up to {{fileSize}} MB each (JPEG, JPG, PNG, MOV or TXT file only)",{maxFiles:5,fileSize:50});return(0,h.BX)("form",{onSubmit:async e=>{if(null===e||void 0===e||e.preventDefault(),m(!1),!p&&L()){T(!0),g(!0);var a=[];try{if((null===f||void 0===f?void 0:f.length)>0){var n=await Promise.all(f.map((async e=>await(0,K.Oj)(e))));a=(0,U.hXT)(U.yRu,(0,U.jge)("token",n))}if("FAILURE"===(await(0,K.id)({ticketSubject:Z,ticketPhoneNumber:A,ticketBody:D,ticketPriority:R,ticketCategory:!x&&N.value,imageTokens:a,ticketCallback:O,ticketCc:M})).resultCode)throw new Error("NOT_AUTHENTICATED");(0,s.showSuccessMessage)((0,s.localized)("Ticket sent")),null===t||void 0===t||t()}catch(r){"NOT_AUTHENTICATED"===r.message&&m(!0),"INVALID_ATTACHMENT_RESPONSE"===r.resultCode&&(0,s.showErrorMessage)((0,s.localized)("Only {{fileExtensions}} file extensions are supported.",{fileExtensions:$.join(", ")})),a.length>0&&(await(0,K.NI)(a),(0,s.reportErrorAndShowMessage)(r))}finally{g(!1),T(!1),y([])}}},id:"zendesk-widget",name:"zendesk-widget",children:[(0,h.BX)(d.xu,{marginBottom:c.default.spacing[3],children:[(0,h.tZ)(ne,{htmlFor:"zendesk-widget-subject",label:(0,s.localized)("Subject")}),(0,h.tZ)(o.II,{ref:u,id:"zendesk-widget-subject",value:Z,errorMessage:P.message.ticketSubject,onChange:e=>ce("ticketSubject",e.target.value),inputHeight:"38px"})]}),(0,h.BX)(d.xu,{validationState:!1===P.success.ticketBody?"error":null,marginBottom:c.default.spacing[3],children:[(0,h.tZ)(ne,{htmlFor:"zendesk-widget-message",label:(0,s.localized)("How can we help you?")}),(0,h.tZ)(Q,{id:"zendesk-widget-message",errorMessage:P.message.ticketBody,onChange:e=>ce("ticketBody",e.target.value),value:D,maxLength:500,minWidth:"350px"}),!(!w&&!I)&&(0,h.tZ)(d.ov,{fontSize:(0,l.y3)("sm"),fontWeight:500,tabIndex:0,onClick:e=>{e.preventDefault(),oe((0,_.nP)(ae))},onKeyUp:e=>{e.preventDefault(),(0,s.isEnterKey)(e)&&oe((0,_.nP)(ae))},children:(0,h.BX)(d.kC,{alignItems:"center",gap:c.default.spacing[1],children:[(0,h.tZ)(i.MemoIconLight,{size:"sm"}),(0,h.tZ)(o.xv,{size:"sm",bold:!0,children:(0,s.localized)("{{count}} related articles found",{count:w||I})}),(0,h.tZ)(i.ExternalLinkIcon,{size:"xs"})]})}),v&&(0,h.tZ)(d.xu,{marginTop:c.default.spacing[2],children:(0,h.tZ)(J.Z,{linkHref:(0,_.l$)({type:"home"}),variant:"warning",linkText:(0,s.localized)("Dojo / Community"),labelToken:(0,s.localizationKey)("You haven't registered in our Ninja Dojo. In order to submit a ticket, please click the link and return to this form. Thank you!")})})]}),(0,h.BX)(d.xu,{marginBottom:c.default.spacing[3],children:[(0,h.tZ)(ne,{label:(0,s.localized)("Priority")}),(0,h.tZ)(ee,{hasError:!1===P.success.ticketPriority,children:(0,h.tZ)(o.Ph,{triggerAriaLabel:(0,s.localized)("Priority"),placeholderLabel:(0,s.localized)("Select priority"),popoverProps:{portal:!1},value:R||"",onChange:e=>z("ticketPriority",e),options:G,errorMessage:P.message.ticketPriority})})]}),!x&&(0,h.BX)(d.xu,{marginBottom:c.default.spacing[2],children:[(0,h.tZ)(ne,{id:"zendesk-widget-category",label:(0,s.localized)("Category")}),(0,h.tZ)(te,{hasError:!1===P.success.ticketCategory,children:(0,h.tZ)(X.Z,{width:"100%",value:N,onSelect:e=>z("ticketCategory",e),onSearchTextChange:e=>{void 0===e&&z("ticketCategory",null)},options:B,searchPlaceholderToken:(0,s.localizationKey)("Search category"),noRowsRendererToken:(0,s.localizationKey)("No option available"),validationState:!1===P.success.ticketCategory?"error":null,errorMessage:P.message.ticketCategory,ariaAttributes:{"aria-labelledby":"zendesk-widget-category"},useSelectStyling:!0})})]}),(0,h.BX)(d.xu,{marginBottom:c.default.spacing[2],children:[(0,h.tZ)(ne,{id:"zendesk-widget-phone-number",label:(0,s.localized)("Phone Number")}),(0,h.tZ)(o.iu,{ariaLabel:(0,s.localized)("Phone Number"),value:A,onChange:e=>z("ticketPhoneNumber",e),...P.message.ticketPhoneNumber&&{errorMessage:(0,s.localized)("Invalid phone number")}})]}),(0,h.BX)(d.xu,{marginBottom:c.default.spacing[3],children:[(0,h.tZ)(ne,{htmlFor:"zendesk-widget-cc",label:(0,s.localized)("CC"),isRequired:!1}),(0,h.tZ)(Y.Sv,{userType:"TECHNICIAN",onSelect:e=>{var t=e.map((e=>({user_email:e.email})));z("ticketCc",t)},isMulti:!0})]}),re&&!x&&(0,h.tZ)(d.xu,{marginBottom:c.default.spacing[6],children:(0,h.tZ)(o.XZ,{label:(0,s.localized)("Request a call from Support Team"),onChange:e=>{var{isChecked:t}=e;return z("ticketCallback",t)}})}),(0,h.tZ)(d.kC,{marginBottom:c.default.spacing[6],children:(0,h.tZ)(o.X5,{titleToken:(0,s.localizationKey)("File attachments ({{currentFileCount}})"),currentFileCount:f.length,buttonLabelToken:(0,s.localizationKey)("Add attachments"),labelTokenDescription:ue,onSelect:e=>{S(null);var t=Object.values(e).filter((e=>{var t=f.some((t=>t.name===e.name));return t&&(0,s.showErrorMessage)((0,s.localized)("File {{fileName}} has already been uploaded.",{fileName:e.name})),se(e.size)?(S((t=>[...t||[],e])),!1):!t}));y((e=>[...e,...t]))},accept:$,multiple:!0,maxFiles:5,errorMessageToken:(0,s.localizationKey)("Only {{maxFiles}} attachments are allowed.")})}),(0,h.tZ)(d.xu,{marginBottom:c.default.spacing[3],children:null===f||void 0===f?void 0:f.map((e=>(0,h.tZ)(d.xu,{paddingBottom:c.default.spacing[2],children:(0,h.tZ)(o.QC,{key:"".concat(e.name,"-").concat(e.index),file:e,actions:[{labelToken:(0,s.localizationKey)("Delete"),action:()=>(e=>{var t=f.filter((t=>t.name!==e.name));y(t),t.some((e=>se(e.size)))||S(null)})(e),isRed:!0}]})})))}),b&&(0,h.tZ)(d.kC,{justifyContent:"center",marginTop:c.default.spacing[5],marginBottom:c.default.spacing[3],children:(0,h.tZ)(q.Z,{loadingText:(0,s.localized)("Submitting help ticket"),css:e=>(0,W.css)("color:",e.colorTextWeakest,";","")})})]})}));var ie={default:"default",articleList:"articleList",submitHelpTicket:"submitHelpTicket"},oe=e=>window.open(e,"_blank","noopener noreferrer"),le=e=>{var t=r().stringify({...e});return(0,s.fetchJson)("/zendesk/articles/?".concat(t))},se={default:{renderer:e=>(0,h.tZ)(B,{...e})},articleList:{renderer:e=>(0,h.tZ)(R,{...e})},submitHelpTicket:{titleToken:(0,s.localizationKey)("Submit Help ticket"),getFooterButtons:e=>{var{handleGoBack:t}=e;return[{Icon:i.ArrowLeftIcon,labelToken:(0,s.localizationKey)("Back"),onClick:()=>t(),type:"cancel"},{labelToken:(0,s.localizationKey)("Submit"),type:"apply",submit:!0,form:"zendesk-widget"}]},renderer:e=>(0,h.BX)(h.HY,{children:[(0,h.tZ)(d.xu,{marginBottom:(0,l.Oy)(6),children:(0,h.tZ)(o.xv,{size:"sm",color:"colorTextWeak",token:(0,s.localizationKey)("Let us know what we can help with. A Support Team member will get back to you shortly."),textWrap:!0})}),(0,h.tZ)(re,{...e,handleComplete:e.handleClose})]})}}},37096:(e,t,a)=>{a.d(t,{e:()=>s});var n=a(50176),r=a(65084),i=a(75493),o=a(34928),l=a(77537),s=e=>{var{unmount:t,onDownload:a,attachmentId:s,contentId:d,titleText:c}=e;return(0,l.tZ)(n.u_,{size:"lg",unmount:t,titleGroup:c?{titleText:c}:{titleToken:(0,o.eWj)("Preview")},buttons:[{type:"save",labelToken:(0,o.eWj)("Download"),disabled:!s&&!d,onClick:()=>{a(),t()}}],children:(0,l.tZ)(i.xu,{overflow:"auto",maxHeight:"calc(100vh - 300px)",children:(0,l.tZ)(r.vo,{attachmentId:s,contentId:d})})})}},89677:(e,t,a)=>{a.d(t,{Z:()=>i});a(4519);var n=a(34928),r=a(77537);const i=e=>{var{noText:t=!1,loadingToken:a=(0,n.eWj)("Loading"),className:i="display-flex flex-full align-items-center justify-content-center",loadingTokenStyleOverrides:o}=e;return(0,r.BX)("div",{className:i,children:[(0,r.BX)("div",{className:"sk-spinner sk-spinner-fading-circle",style:{margin:0},children:[(0,r.tZ)("div",{className:"sk-circle1 sk-circle"}),(0,r.tZ)("div",{className:"sk-circle2 sk-circle"}),(0,r.tZ)("div",{className:"sk-circle3 sk-circle"}),(0,r.tZ)("div",{className:"sk-circle4 sk-circle"}),(0,r.tZ)("div",{className:"sk-circle5 sk-circle"}),(0,r.tZ)("div",{className:"sk-circle6 sk-circle"}),(0,r.tZ)("div",{className:"sk-circle7 sk-circle"}),(0,r.tZ)("div",{className:"sk-circle8 sk-circle"}),(0,r.tZ)("div",{className:"sk-circle9 sk-circle"}),(0,r.tZ)("div",{className:"sk-circle10 sk-circle"}),(0,r.tZ)("div",{className:"sk-circle11 sk-circle"}),(0,r.tZ)("div",{className:"sk-circle12 sk-circle"})]}),(0,r.BX)("div",{style:{display:t?"none":"block",color:"#949597",fontSize:"1.4em",marginLeft:"13px",...o},children:[(0,n.kIE)(a),"..."]})]})}},77852:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(50176),r=a(3434),i=a(6775),o=a(77537);const l=e=>{var{href:t,target:a="_blank",children:l,increaseContrast:s,increaseSpacing:d,textDecoration:c}=e;return(0,i.isZendeskUrl)(t)?(0,o.tZ)(r.Z,{link:t,increaseContrast:s,increaseSpacing:d,textDecoration:c,children:l}):(0,o.tZ)(n.BY,{onClick:e=>e.stopPropagation(),href:t,target:a,rel:"nonopener noreferrer",increaseContrast:s,textDecoration:c,children:l})}},7683:(e,t,a)=>{a.d(t,{Z:()=>l});a(4519);var n=a(34928),r=a(8326),i=a(75493),o=a(77537);function l(e){var{className:t,loadingText:a,css:l,spinnerColor:s,withExtraSpace:d,hideLoadingText:c,...u}=e;return(0,o.BX)(i.Fe,{className:t,css:l,...u,children:[(0,o.tZ)(i.ny,{icon:r.LM3,spin:!0,...s&&{color:s}}),"\xa0",d&&(0,o.tZ)(o.HY,{children:"\xa0"}),!c&&(0,n.kIE)(a||(0,n.eWj)("Loading"))]})}},66833:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(4519),r=a(6775),i=a(59174),o=a(7589),l=a(51271),s=a(36360),d=a(55576),c=a(49137),u=a(15064),p=a(50176),h=a(75493),g=a(8456),v=a(77537);const m=(0,n.memo)((function(e){var t,{node:a,job:n,unmount:m,refreshCallback:f=r.noop,loadingNodeData:y}=e,{jobFromServer:b,updatingJob:T,error:C,jobData:E}=(0,o.fh)({node:a,job:n}),{actionType:S,type:w,sourcePath:I,file:k,destinationPath:_}=null!==(t=null===b||void 0===b?void 0:b.content)&&void 0!==t?t:{},{jobUID:x,jobFilesProcessed:R,jobTotalFiles:A,jobProcessedBytes:Z,jobTotalBytes:D,status:N,percentage:O}=E,M=(0,o.sG)(w),L=N===o.lz.CANCELED,P=N===o.lz.FAILED,z=N===o.lz.COMPLETED,B=A>1&&z&&R!==A,W=(!A||N===o.lz.PROCESSING)&&!P&&!z&&!L,U=n.content.sourcePlanId,F=n.content.sourcePlanName,K="MAC"===a.nodeClass?"/":"\\",H=_?(0,d.S2)(_,K):"",G=a.displayName||a.friendlyName||a.name||a.systemName||"",j={labelToken:(0,r.localizationKey)("Cancel Job"),variant:c.Z.DANGER,onClick:()=>{(0,u.Z)((0,v.tZ)(p.cV,{type:"danger",titleText:(0,r.localized)("Cancel restore job?"),actionToken:(0,r.localizationKey)("Cancel restore"),onCancel:e=>{var{unmount:t}=e;t()},onConfirm:e=>{var{unmount:t}=e;(0,i.UU)(b,a.id),f(),t(),m()},children:(0,v.tZ)(p.uT,{textWrap:!0,children:(0,r.localizedWith)("Canceling the restore job for <%bold>planName<%> will result in an incomplete restore. Are you sure you want to proceed?",{bold:()=>(0,v.tZ)("strong",{children:F})})})}))}},V={labelToken:(0,r.localizationKey)("Clear restore"),variant:c.Z.DANGER,onClick:()=>(0,u.Z)((0,v.tZ)(p.cV,{type:"danger",titleText:(0,r.localized)("Clear restore job?"),actionToken:(0,r.localizationKey)("Clear restore"),onCancel:e=>{var{unmount:t}=e;t()},onConfirm:e=>{var{unmount:t}=e;(0,o._k)({nodeId:a.id,planId:U,jobId:x,unmount:m,refreshCallback:f}),t(),m()},children:(0,v.tZ)(p.uT,{textWrap:!0,children:(0,r.localizedWith)("Clear the restore job for <%bold>planName<%> will result in tagging the job to be ignored. Are you sure you want to proceed?",{bold:()=>(0,v.tZ)("strong",{children:F})})})}))};return(0,v.tZ)(l.Z,{node:a,planUID:U,planName:F,actionType:S,createTime:b.createTime,detailsSections:[{title:(0,r.localized)("Device"),icon:(0,v.tZ)(p.um,{icon:(0,r.getIcon)(a.nodeClass)}),text:a.displayName||a.name||a.systemName},{title:(0,r.localized)("Plan Name"),icon:(0,v.tZ)(M,{}),text:F},{title:(0,r.localized)("Path"),text:I||k},{title:(0,r.localized)("Restore To"),text:()=>(0,v.BX)(h.kC,{flexDirection:"column",gap:g.default.spacing[2],children:[(0,v.tZ)(p.uT,{children:G}),(0,v.tZ)(p.uT,{children:H})]})}],percentage:O,jobTotalFiles:A,loading:T||y,isPreparing:W,jobCompleted:z,jobCompletedWithWarnings:B,jobFailed:P,jobCancelled:L,error:C,modalTitle:(0,r.localized)("Restore"),preparingJobText:(0,r.localized)("Preparing to restore..."),processedDataText:(0,r.localized)("{{sentBytes}} of {{totalBytes}}",{sentBytes:(0,s.qL)(Z),totalBytes:(0,s.qL)(D)}),filesScannedText:(0,r.localized)("{{num}} of {{total}} files",{num:R,total:A}),jobCompletedText:(0,r.localized)("The job was completed automatically because no files were found to restore."),jobCompletedWithWarningsText:(0,r.localized)("Restored {{jobFilesProcessed}} of {{jobTotalFiles}} successfully",{jobFilesProcessed:R,jobTotalFiles:A}),cancelButton:j,clearButton:V,refreshCallback:f,unmount:m})}))},55613:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(4519),r=a(16539),i=a.n(r),o=a(6775),l=a(77537),s="iCheck",d=s+"-helper";class c extends n.Component{constructor(e){var t,a;super(e);var n=null!==(t=null!==(a=e.checked)&&void 0!==a?a:e.defaultChecked)&&void 0!==t&&t;this._mobile=!1,this.state={checked:n,focused:!1,hovered:!1,active:!1}}componentDidMount(){"undefined"!==typeof navigator&&(this._mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent)),this.adjustStyle(),this.setIndeterminate(),this.forceUpdate()}componentDidUpdate(e){var{props:t,state:a}=this;this.adjustStyle(),this.setIndeterminate(),(0,o.propsValueHasChanged)(t,"checked",e,a)&&this.setState({checked:t.checked})}getValue(){return this.refs.checkbox.value}setChecked(e){if(this.props.hasOwnProperty("checked")&&!1!==this.props.checked);else this.refs.checkbox.checked=e}setIndeterminate(){this.props.indeterminate&&(this.refs.checkbox.indeterminate=!0)}adjustStyle(){var{inputContainer:e}=this.refs,{position:t}=window.getComputedStyle(e);"static"===t&&(e.style.position="relative")}isChecked(){return this.refs.checkbox.checked}handleChange(e){var t=e.target.checked;"checked"in this.props||this.setState({checked:t}),this.props.onChange&&this.props.onChange(e,t)}handleBlur(e){this.setState({focused:!1}),this.props.onBlur&&this.props.onBlur(e)}handleFocus(e){this.setState({focused:!0}),this.props.onFocus&&this.props.onFocus(e)}handleHelperClick(e){if(!this.props.disabled){var t=!this.refs.checkbox.checked;"checked"in this.props||(this.refs.checkbox.checked=t,this.setState({checked:t})),e.preventDefault(),e.stopPropagation(),this.props.onChange&&(e.target=this.refs.checkbox,this.props.onChange(e,t))}}render(){var e=this.props,{disabled:t}=e,{type:a,name:n,value:r,label:o,onBlur:c,onFocus:u,onMouseUp:p,onMouseDown:h,onMouseLeave:g,onTouchStart:v,onTouchEnd:m,className:f,checkboxClass:y,increaseArea:b,inputType:T,radioClass:C,checkedClass:E,disabledClass:S,indeterminate:w,indeterminateClass:I,hoverClass:k,focusClass:_,activeClass:x,labelHover:R,labelHoverClass:A,labelClassName:Z,inheritClass:D,inheritID:N,aria:O,...M}=e,{checked:L}=this.state,P=0|(""+e.increaseArea).replace("%","");P<-50&&(P=-50);var z,B,W=e.id,U=-P+"%",F=100+2*P+"%",K={position:"absolute",top:U,left:U,display:"block",width:F,height:F,margin:0,padding:0,background:"#fff",border:0,opacity:0,cursor:t?"default":"pointer"};z=this._mobile?{position:"absolute",visibility:"hidden"}:P?K:{position:"absolute",opacity:0},O=!!e.aria,"checkbox"===e.inputType&&"undefined"!==typeof e.indeterminateCheckboxClass?I=e.indeterminateCheckboxClass:"radio"===e.inputType&&"undefined"!==typeof e.indeterminateRadioClass&&(I=e.indeterminateRadioClass);var H={className:i()({[e.checkboxClass]:"checkbox"===e.inputType,[e.radioClass]:"radio"===e.inputType,[I]:w,[e.checkedClass]:L,[e.disabledClass]:t,[e.hoverClass]:this.state.hovered,[e.focusClass]:this.state.focused,[e.activeClass]:this.state.active})};e.inheritClass&&(H.className=i()(H.className,e.className)),e.inheritID&&W&&(H.id=s+"-"+W),O&&(H.role=e.inputType,H["aria-labelledby"]=H.id,H["aria-checked"]=L),B=(0,l.tZ)("ins",{className:d,style:K,onClick:this.handleHelperClick.bind(this)});var G=(0,l.tZ)("input",{...M,ref:"checkbox",type:e.inputType,style:z,name:n,value:r,defaultChecked:e.defaultChecked,onChange:this.handleChange.bind(this),onBlur:this.handleBlur.bind(this),onFocus:this.handleFocus.bind(this)}),j=(0,l.BX)("div",{ref:"inputContainer",...H,children:[G,B]}),V=e.label;if(!V)return j;function X(a){if(!t){var n=a.type;"click"===n||e.labelHover&&this.setState({hovered:!/ut|nd/.test(n)}),this._mobile&&a.stopPropagation()}}var q={onClick:this.handleHelperClick.bind(this),onMouseOver:X.bind(this),onMouseOut:X.bind(this),onTouchStart:X.bind(this),onTouchEnd:X.bind(this)};return Z&&(q.className=Z),(0,l.BX)("label",{...q,children:[j,V]})}}c.defaultProps={checkboxClass:"icheckbox",radioClass:"iradio",checkedClass:"checked",disabledClass:"disabled",indeterminateClass:"indeterminate",hoverClass:"hover",focusClass:"focus",activeClass:"active",labelHover:!0,labelHoverClass:"hover",increaseArea:"",cursor:"",inheritClass:!1,inheritID:!1,aria:!1};const u=c},66134:(e,t,a)=>{a.d(t,{Y:()=>o});var n=a(4519),r=a(55613),i=a(77537);class o extends n.Component{getValue(){return this.refs.enhancedSwitch.getValue()}setChecked(e){this.refs.enhancedSwitch.setSwitched(e)}isChecked(){return this.refs.enhancedSwitch.isSwitched()}render(){return(0,i.tZ)(r.Z,{...this.props,ref:"enhancedSwitch",inputType:"radio"})}}},48581:(e,t,a)=>{a.d(t,{$0:()=>h,EK:()=>g,Nf:()=>s,h_:()=>c,o8:()=>p,v2:()=>u,zx:()=>d});var n=a(84453),r=a(4519),i=a(147),o=a(38494),l=a(77537);var s=(0,r.forwardRef)(((e,t)=>(0,l.tZ)(o.Jd,{...e,ref:t}))),d=(0,r.forwardRef)(((e,t)=>(0,l.tZ)(o.Sn,{...e,ref:t,type:"button"}))),c=e=>{var{children:t}=e;return"object"===typeof document?n.createPortal(t,document.body):null},u=(0,r.forwardRef)(((e,t)=>(0,l.tZ)(o.l2,{...e,ref:t}))),p=(0,r.forwardRef)(((e,t)=>{var{className:a,...n}=e;return(0,l.tZ)(u,{...n,ref:t,className:(0,i.cx)(a,(0,i.iv)({name:"bjn8wh",styles:"position:relative"}))})})),h=(0,r.forwardRef)(((e,t)=>(0,l.tZ)(o.PP,{...e,ref:t}))),g=(0,r.forwardRef)(((e,t)=>(0,l.tZ)(o.nr,{...e,ref:t,padding:1,borderWidth:1,backgroundColor:"ninjaWhite",borderColor:"ninjaLight",borderStyle:"solid",fontFamily:"monospace",borderRadius:5})))},95894:(e,t,a)=>{a.d(t,{Ee:()=>D,XI:()=>A,$f:()=>Z,u$:()=>R});var n=a(4519),r=a(147),i=a(8326),o=a(37495),l=a(15620),s=a(30260),d=a(74657),c=a(75493),u=a(6775),p=a(37844),h=a(51216),g=a(91386),v=a.n(g);v().oneOf(["both","x","y","none"]),v().string,v().element.isRequired,v().shape({allowAnyClick:v().bool,cancel:v().string,children:v().node,disabled:v().bool,enableUserSelectHack:v().bool,offsetParent:v().node,grid:v().arrayOf(v().number),handle:v().string,nodeRef:v().object,onStart:v().func,onDrag:v().func,onStop:v().func,onMouseDown:v().func,scale:v().number}),v().number.isRequired,v().oneOfType([v().node,v().func]),v().arrayOf(v().number),v().bool,v().arrayOf(v().number),v().arrayOf(v().number),v().func,v().func,v().func,v().arrayOf(v().oneOf(["s","w","e","n","sw","nw","se","ne"])),v().number,v().number.isRequired;var m=(0,a(41554).Z)("span",{target:"e38636p0"})({name:"1ebd4v9",styles:'position:relative;display:inline-block;.react-resizable-handle{position:absolute;width:20px;height:20px;background-repeat:no-repeat;background-origin:content-box;box-sizing:border-box;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iNnB4Ij48ZyBvcGFjaXR5PSIwLjMwMiI+PHBhdGggZD0iTSA2IDYgTCAwIDYgTCAwIDQuMiBMIDQgNC4yIEwgNC4yIDQuMiBMIDQuMiAwIEwgNiAwIEwgNiA2IEwgNiA2IFoiIGZpbGw9IiMwMDAwMDAiLz48L2c+PC9zdmc+");background-position:bottom right;padding:0 3px 3px 0;}.react-resizable-handle-sw{bottom:0;left:0;cursor:nesw-resize;transform:rotate(90deg);}.react-resizable-handle-se{bottom:0;right:0;cursor:nwse-resize;}.react-resizable-handle-nw{top:0;left:0;cursor:nwse-resize;transform:rotate(180deg);}.react-resizable-handle-ne{top:0;right:0;cursor:nesw-resize;transform:rotate(270deg);}.react-resizable-handle-w,.react-resizable-handle-e{top:50%;margin-top:-10px;cursor:ew-resize;}.react-resizable-handle-w{left:0;transform:rotate(135deg);}.react-resizable-handle-e{right:0;transform:rotate(315deg);}.react-resizable-handle-n,.react-resizable-handle-s{left:50%;margin-left:-10px;cursor:ns-resize;}.react-resizable-handle-n{top:0;transform:rotate(225deg);}.react-resizable-handle-s{bottom:0;transform:rotate(45deg);}'}),f=a(77537),y=a(26155);class b extends n.Component{constructor(){super(...arguments),this.handleRefs={},this.lastHandleRect=null,this.slack=null}componentWillUnmount(){this.resetData()}resetData(){this.lastHandleRect=this.slack=null}runConstraints(e,t){var{minConstraints:a,maxConstraints:n,lockAspectRatio:r}=this.props;if(!a&&!n&&!r)return[e,t];if(r){var i=this.props.width/this.props.height,o=e-this.props.width,l=t-this.props.height;Math.abs(o)>Math.abs(l*i)?t=e/i:e=t*i}var[s,d]=[e,t],[c,u]=this.slack||[0,0];return e+=c,t+=u,a&&(e=Math.max(a[0],e),t=Math.max(a[1],t)),n&&(e=Math.min(n[0],e),t=Math.min(n[1],t)),this.slack=[c+(s-e),u+(d-t)],[e,t]}resizeHandler(e,t){return(a,n)=>{var{node:r,deltaX:i,deltaY:o}=n;"onResizeStart"===e&&this.resetData();var l=("both"===this.props.axis||"x"===this.props.axis)&&"n"!==t&&"s"!==t,s=("both"===this.props.axis||"y"===this.props.axis)&&"e"!==t&&"w"!==t;if(l||s){var d=t[0],c=t[t.length-1],u=r.getBoundingClientRect();if(null!=this.lastHandleRect){if("w"===c)i+=u.left-this.lastHandleRect.left;if("n"===d)o+=u.top-this.lastHandleRect.top}this.lastHandleRect=u,"w"===c&&(i=-i),"n"===d&&(o=-o);var p=this.props.width+(l?i/this.props.transformScale:0),h=this.props.height+(s?o/this.props.transformScale:0);[p,h]=this.runConstraints(p,h);var g,v=p!==this.props.width||h!==this.props.height,m="function"===typeof this.props[e]?this.props[e]:null;if(m&&!("onResize"===e&&!v))null===(g=a.persist)||void 0===g||g.call(a),m(a,{node:r,size:{width:p,height:h},handle:t});"onResizeStop"===e&&this.resetData()}}}render(){var e,{children:t,className:a,handleAxis:r,draggableOpts:i}=this.props,o=null!==(e=this.handleRefs[r])&&void 0!==e?e:this.handleRefs[r]=n.createRef();return(0,y.createElement)(h.DraggableCore,{...i,nodeRef:o,key:"resizableHandle-".concat(r),onStop:this.resizeHandler("onResizeStop",r),onStart:this.resizeHandler("onResizeStart",r),onDrag:this.resizeHandler("onResize",r)},(0,f.BX)(m,{className:"".concat(a?"".concat(a," "):"","react-resizable"),children:[t,(0,f.tZ)("span",{className:"react-resizable-handle react-resizable-handle-".concat(r),ref:o})]}))}}b.defaultProps={axis:"both",handleAxis:"se",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],transformScale:1};class T extends n.Component{constructor(){super(...arguments),this.containerRef=n.createRef(),this.state={width:this.props.width,height:this.props.height},this.handleResize=(e,t)=>{var a,n,r=null===(a=this.containerRef.current)||void 0===a?void 0:a.offsetWidth,i=null===(n=this.containerRef.current)||void 0===n?void 0:n.offsetHeight;return{width:e>=r?r:e,height:t>=i?i:t}},this.onResize=(e,t)=>{var{size:{width:a,height:n}}=t,r=this.handleResize(a,n);this.setState(r)},this.onResizeStop=(e,t)=>{var a,{size:{width:n,height:r}}=t,i=this.handleResize(n,r);this.props.onResizeStop&&(null===(a=e.persist)||void 0===a||a.call(e),this.props.onResizeStop(i))}}componentDidMount(){var{width:e,height:t,onResizeStop:a}=this.props,n=this.handleResize(e,t);this.setState(n,(()=>a(n)))}render(){var e,t,a,{width:n,height:r}=this.state,{axis:i,handle:o,handleSize:l,draggableOpts:s,minConstraints:d,maxConstraints:u,lockAspectRatio:p,resizeHandles:h,transformScale:g,ChildrenRenderer:v}=this.props,m=n>=(null===(e=this.containerRef.current)||void 0===e?void 0:e.offsetWidth);return(0,f.tZ)(c.xu,{width:"100%",height:"100%",ref:this.containerRef,className:"the-world",children:(0,f.tZ)(b,{axis:i,draggableOpts:s,handle:o,handleSize:l,height:r,lockAspectRatio:p,minConstraints:d,onResize:this.onResize,onResizeStop:this.onResizeStop,resizeHandles:h,transformScale:g,width:n,maxConstraints:u||[null!==(t=null===(a=this.containerRef.current)||void 0===a?void 0:a.offsetWidth)&&void 0!==t?t:1/0,1/0],children:(0,f.tZ)(v,{width:n,height:r,isContainerWidthOrGreater:m})})})}}var C=a(59833),E=a(15064),S=a(37096);function w(e){return(null===e||void 0===e?void 0:e.resourceId)||(null===e||void 0===e?void 0:e.id)}class I extends n.PureComponent{constructor(){super(...arguments),this.state={loading:!0,isResourceBroken:!1,resource:{width:this.props.width,height:this.props.height,src:this.props.uri}},this.loadResource=e=>{var{width:t,height:a}=this.props,n=new Image;n.onload=()=>{this._isMounted&&this.setState({resource:{width:t||n.width,height:a||n.height,src:e},loading:!1})},n.src=e},this.getSignedSrc=async()=>{var{attachment:e}=this.props;switch(e.uploadStatus||"SUCCESS"){case"FAILURE":case"SUSPICIOUS":this.setState({isResourceBroken:!0});break;case"SUCCESS":try{this.setState({loading:!0});var{signedUrl:t}=await(0,p.jKd)(e.id);if(!t)throw this._isMounted&&this.setState({isResourceBroken:!0}),new Error("Broken Resource");this.loadResource(t)}catch(a){console.error(a),this._isMounted&&this.setState({loading:!1})}}},this.onDownload=async()=>{try{var e,{attachment:t}=this.props,{signedUrl:a}=await(0,p.jKd)(null===t||void 0===t?void 0:t.id);(0,u.downloadFile)(a,null===t||void 0===t||null===(e=t.metadata)||void 0===e?void 0:e.name)}catch(n){(0,u.reportErrorAndShowMessage)(n,(0,u.localizationKey)("Error while downloading image."))}},this.handleClick=()=>{var e,{onDownload:t,props:{attachment:a}}=this;(0,E.Z)((0,f.tZ)(S.e,{onDownload:t,attachmentId:null===a||void 0===a?void 0:a.id,titleText:null===a||void 0===a||null===(e=a.metadata)||void 0===e?void 0:e.name}))}}componentDidMount(){this._isMounted=!0;var{attachment:e,uri:t}=this.props;w(e)&&!t?this.getSignedSrc():this.setState({loading:!1})}componentDidUpdate(e){var{attachment:t,uri:a}=this.props;t!==e.attachment&&w(t)&&!a&&this.getSignedSrc()}componentWillUnmount(){this._isMounted=!1}render(){var{state:{loading:e,isResourceBroken:t,resource:a},props:{selected:n,updateImageData:r,readOnly:o,name:l,width:s,height:d,attachment:p}}=this,h=p.uploadStatus;return t?(0,f.BX)(c.xu,{flex:1,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",children:[(0,f.tZ)(c.ny,{icon:i.Oi0,color:"ninjaRed",fontSize:6}),(0,f.tZ)(c.Fe,{fontSize:0,marginTop:2,fontWeight:"bold",color:"ninjaRed",children:(0,u.localized)("Resource Not Found")})]}):"PROCESSING"===h?(0,f.tZ)(C.P,{attachment:p}):e?null:o?(0,f.tZ)(c.Yo,{draggable:!1,onClick:this.handleClick,alt:l,width:a.width?a.width+"px":"100%",display:"block",src:a.src,maxWidth:"100%",boxShadow:n?"0 0 0 3px #B4D5FF":"none"},p.resourceId):(0,f.tZ)(T,{width:null!==s&&void 0!==s?s:null===a||void 0===a?void 0:a.width,height:null!==d&&void 0!==d?d:null===a||void 0===a?void 0:a.height,onResizeStop:e=>{r(e)},ChildrenRenderer:e=>{var{width:t,isContainerWidthOrGreater:r}=e;return(0,f.tZ)(c.Yo,{alt:l,width:r?"100%":t+"px",display:"block",src:a.src,maxWidth:"100%",boxShadow:n?"0 0 0 3px #B4D5FF":"none"})}})}}var k=a(48581),_=a(38494);var x=(e,t)=>{var{uri:a,url:n,width:r,height:i,attachment:o}=t,s={type:"image",uri:a,url:n,width:r,height:i,attachment:o,children:[{text:""}]};l.YR.insertNodes(e,s,{mode:"highest"})},R=e=>{var{addInlineImage:t}=e;return e=>{var{isVoid:a,insertData:n}=e;return e.isVoid=e=>"image"===e.type||a(e),e.insertData=async a=>{var{files:r}=a;if((null===r||void 0===r?void 0:r.length)>0)for(var i of r){if(!u.IMAGE_TYPES.includes(null===i||void 0===i?void 0:i.type))return;var[o]=i.type.split("/");"image"===o&&(null===t||void 0===t||t(e,i,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{attachment:a,uri:n}=t;a.resourceId&&n&&x(e,t)})))}n(a)},e}},A=e=>{var{disabled:t,addAttachment:a}=e,r=(0,n.useRef)(null);return(0,f.BX)(f.HY,{children:[(0,f.tZ)(_.Rh,{type:"file",ref:r,onChange:async function(e){var[t]=e.target.files;r.current.value="",(0,d.bZ)(t,u.ATTACHMENT_FILE_EXTENSIONS)&&(0,d.ng)(t)&&a(t)},accept:u.ATTACHMENT_FILE_EXTENSIONS}),(0,f.tZ)(k.zx,{disabled:t,onMouseDown:e=>{e.preventDefault(),r.current.click()},children:(0,f.tZ)(o.G,{icon:i.Alc})})]})},Z=e=>{var{disabled:t,addInlineImage:a}=e,r=(0,n.useRef)(null),l=(0,s._7)();return(0,f.BX)(f.HY,{children:[(0,f.tZ)(_.Rh,{type:"file",ref:r,onChange:async function(e){var[t]=e.target.files;r.current.value="",(0,d.bZ)(t,u.INLINE_FILE_EXTENSIONS)&&(0,d.ng)(t)&&a(l,t,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{attachment:t,uri:a}=e;t.resourceId&&a&&x(l,e)}))},accept:u.INLINE_FILE_EXTENSIONS}),(0,f.tZ)(k.zx,{disabled:t,onMouseDown:e=>{e.preventDefault(),r.current.click()},children:(0,f.tZ)(o.G,{icon:i.VmB})})]})},D=e=>{var t,{readOnly:a,attachments:d,attributes:c,children:u,element:p}=e,h=(0,s._7)(),{uri:g,width:v,height:m}=p,y=s.F3.findPath(h,p),b=(0,s.vt)(),T=null!==(t=null===d||void 0===d?void 0:d.find((e=>{var{resourceId:t}=e;return t===p.attachment.resourceId})))&&void 0!==t?t:p.attachment,C=(0,n.useCallback)((e=>{var{selection:t}=h;if(t&&l.e6.isCollapsed(t)){var[a]=l.ML.nodes(h,{match:e=>!l.ML.isEditor(e)&&l.W_.isElement(e)&&"image"===e.type,mode:"highest"});if(a){var[n,r]=a;l.YR.setNodes(h,{...n,...e},{at:r,match:e=>"image"===e.type,mode:"highest"})}}}),[h]);return(0,f.BX)("div",{...c,children:[u,(0,f.BX)("div",{contentEditable:!1,className:(0,r.iv)({name:"bjn8wh",styles:"position:relative"}),children:[(0,f.tZ)(I,{editor:h,selected:b,uri:g,width:v,height:m,readOnly:a,attachment:T,updateImageData:C}),!a&&(0,f.tZ)(k.zx,{active:!0,onClick:()=>l.YR.removeNodes(h,{at:y}),className:(0,r.iv)("display:",b?"inline":"none",";position:absolute;top:0.5em;left:0.5em;background-color:white;",""),children:(0,f.tZ)(o.G,{icon:i.XAH})})]})]})}},50077:(e,t,a)=>{a.d(t,{Sw:()=>R,ah:()=>x,N0:()=>_,R_:()=>A,TV:()=>I});var n=a(147),r=a(30260),i=a(37495),o=a(15620),l=a(48581),s=a(8326),d=a(6775),c=a(4519),u=a(50176),p=a(15064),h=a(48548),g=a(99787),v=a(60036),m=a(75493),f=a(44164),y=a(93429),b=a(55460),T=a(77537),C=(0,c.memo)((e=>{var{unmount:t,resolve:a}=e,n=(0,f.u)(),{values:{secureUrl:r},onChange:i,validateForm:o,validation:l}=(0,h.cI)({fields:{secureUrl:""},validate:{secureUrl:d.validations.urlOrIpAddress}}),s=()=>{a(null),t()};return(0,T.tZ)(v.Gq,{onSubmit:e=>{e.preventDefault(),o()&&(a(r),t())},children:(0,T.BX)(u.u_,{titleGroup:{titleToken:(0,d.localizationKey)("Enter Secure URL"),color:n.color.black[100]},buttonRenderer:()=>(0,T.tZ)(m.xu,{width:"100%",paddingTop:(0,b.Oy)(4),children:(0,T.tZ)(y.g5,{submit:!0,actionToken:(0,d.localizationKey)("Save"),unmount:s,disabled:!1===l.success.secureUrl})}),unmount:s,children:[(0,T.tZ)(u.xv,{textWrap:!0,display:"block",color:!1===l.success.secureUrl?n.color.error[100]:"inherit",componentClass:g.Z,children:(0,T.tZ)("span",{children:(0,d.localized)("URL")})}),(0,T.tZ)(u.II,{type:"text",value:r,placeholder:"https://example.com",errorMessage:l.message.secureUrl,onChange:e=>i({secureUrl:e.target.value})})]})})}));var E=e=>{var[t]=o.ML.nodes(e,{match:e=>!o.ML.isEditor(e)&&o.W_.isElement(e)&&"link"===e.type});return!!t},S=e=>{o.YR.unwrapNodes(e,{match:e=>!o.ML.isEditor(e)&&o.W_.isElement(e)&&"link"===e.type})},w=(e,t)=>{E(e)&&S(e);var{selection:a}=e,n=a&&o.e6.isCollapsed(a),r={type:"link",url:t,children:n?[{text:t}]:[]};n?o.YR.insertNodes(e,r):(o.YR.wrapNodes(e,r,{split:!0}),o.YR.collapse(e,{edge:"end"}))},I=e=>{var{insertData:t,insertText:a,isInline:n}=e;return e.isInline=e=>["link","button"].includes(e.type)||n(e),e.insertText=t=>{t&&(0,d.isValidSecureURL)(t)?w(e,t):a(t)},e.insertData=a=>{var n=a.getData("text/plain");n&&(0,d.isValidSecureURL)(n)?w(e,n):t(a)},e},k=()=>(0,T.BX)("span",{contentEditable:!1,className:(0,n.iv)({name:"lyel5l",styles:"font-size:0"}),children:["$",String.fromCodePoint(160)]}),_=e=>{var{attributes:t,children:a,element:i}=e,o=(0,r.vt)();return(0,T.BX)("a",{...t,href:i.url,target:"_blank",rel:"noopener noreferrer",className:o?(0,n.iv)({name:"1icdffb",styles:"box-shadow:0 0 0 3px #ddd"}):"",children:[(0,T.tZ)(k,{}),a,(0,T.tZ)(k,{})]})},x=e=>{var{attributes:t,children:a}=e;return(0,T.BX)("span",{...t,onClick:e=>e.preventDefault(),className:(0,n.iv)({name:"slgyka",styles:"margin:0 0.1em;background-color:#efefef;padding:2px 6px;border:1px solid #767676;border-radius:2px;font-size:0.9em"}),children:[(0,T.tZ)(k,{}),a,(0,T.tZ)(k,{})]})},R=()=>{var e=(0,r.ui)();return(0,T.tZ)(l.zx,{active:E(e),onMouseDown:async t=>{t.preventDefault();var a=await new Promise((e=>{(0,p.Z)((0,T.tZ)(C,{resolve:e}))}));a&&((e,t)=>{e.selection&&w(e,t)})(e,a)},children:(0,T.tZ)(i.G,{icon:s.nNP})})},A=()=>{var e=(0,r.ui)();return(0,T.tZ)(l.zx,{active:E(e),onMouseDown:t=>{E(e)&&S(e)},children:(0,T.tZ)(i.G,{icon:s.AE2})})}},51156:(e,t,a)=>{a.d(t,{r:()=>n});var n=e=>{var{isInline:t,isVoid:a}=e;return e.isInline=e=>"mention"===e.type||t(e),e.isVoid=e=>"mention"===e.type||a(e),e}},54508:(e,t,a)=>{a.d(t,{ac:()=>T,iS:()=>y,v2:()=>g});var n=a(4519),r=a(30260),i=a(8326),o=a(37495),l=a(15620),s=a(31605),d=a(38494),c=a(75493),u=a(48581),p=a(55462),h=a(77537),g=e=>{var{deleteBackward:t,deleteForward:a,insertBreak:n}=e;return e.deleteBackward=a=>{var{selection:n}=e;if(n&&l.e6.isCollapsed(n)){var[r]=l.ML.nodes(e,{match:e=>!l.ML.isEditor(e)&&l.W_.isElement(e)&&"table-cell"===e.type});if(r){var[,i]=r,o=l.ML.start(e,i);if(l.E9.equals(n.anchor,o))return}}t(a)},e.deleteForward=t=>{var{selection:n}=e;if(n&&l.e6.isCollapsed(n)){var[r]=l.ML.nodes(e,{match:e=>!l.ML.isEditor(e)&&l.W_.isElement(e)&&"table-cell"===e.type});if(r){var[,i]=r,o=l.ML.end(e,i);if(l.E9.equals(n.anchor,o))return}}a(t)},e.insertBreak=()=>{var{selection:t}=e;if(t){var[a]=l.ML.nodes(e,{match:e=>!l.ML.isEditor(e)&&l.W_.isElement(e)&&"table"===e.type});if(a)return}n()},e},v=e=>({type:"table",children:[{type:"table-body",children:Array.from(e,(e=>(e=>({type:"table-row",children:Array.from(e,(e=>"string"===typeof e?function(){return{type:"table-cell",children:[{text:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}]}}(e):e))}))(e)))}]}),m=(e,t,a,n)=>{var r=Array.from(t.children[0].children,(e=>Array.from(e.children))),i=r[0].length;"row"===n?r.push(Array(i).fill("")):r=Array.from(r,(e=>(e.push(""),e)));var o=v(r);l.YR.insertNodes(e,o,{at:a})},f=e=>{l.YR.removeNodes(e,{match:e=>!l.ML.isEditor(e)&&l.W_.isElement(e)&&"table"===e.type,mode:"highest"})},y=(0,n.memo)((e=>{var{disabled:t}=e,a=(0,r._7)(),c=(0,r.vt)(),[p,g]=(0,n.useState)(!1),[m,f]=(0,n.useState)({rows:0,columns:0}),[y,b]=(0,n.useState)(Array.from({length:6},(()=>Array.from({length:6},((e,t)=>({isSelected:!1,column:t})))))),T=()=>{c&&l.YR.select(a,c),((e,t)=>{var{rows:a,columns:n}=t,[r]=l.ML.nodes(e,{match:e=>!l.ML.isEditor(e)&&l.W_.isElement(e)&&"table"===e.type,mode:"highest"});if(!r&&a&&n){var i=Array.from({length:a},(()=>Array.from({length:n},(()=>"")))),o=v(i);l.YR.insertNodes(e,o)}})(a,m),f({rows:0,columns:0}),g(!1)};return(0,n.useEffect)((()=>{var e=Array.from({length:6},((e,t)=>Array.from({length:6},((e,a)=>({isSelected:t+1<=m.rows&&a+1<=m.columns,column:a})))));b(e)}),[m]),(0,h.tZ)(s.Z,{className:"position-relative",handleClickOutside:()=>{g(!1)},children:(0,h.BX)(h.HY,{children:[(0,h.tZ)(u.zx,{height:"100%",disabled:t,onClick:()=>{g(!0)},children:(0,h.tZ)(o.G,{icon:i.B3e})}),p&&(0,h.tZ)(d.If,{children:(0,h.tZ)("div",{className:"table-input",children:y.map(((e,t)=>e.map((e=>{var{column:a,isSelected:n}=e;return(0,h.tZ)(d.l3,{className:"table-unit",isSelected:n,onClick:()=>T(),onMouseOver:()=>f({rows:t+1,columns:a+1})},a)}))))})})]})})})),b=()=>{var e=(0,r._7)(),t=t=>{switch(t){case"row":(e=>{var{selection:t}=e;if(t&&l.e6.isCollapsed(t)){var[a]=l.ML.nodes(e,{match:e=>!l.ML.isEditor(e)&&l.W_.isElement(e)&&"table"===e.type,mode:"highest"});if(a){var[n,r]=a;f(e),m(e,n,r,"row")}}})(e);break;case"column":(e=>{var{selection:t}=e;if(t&&l.e6.isCollapsed(t)){var[a]=l.ML.nodes(e,{match:e=>!l.ML.isEditor(e)&&l.W_.isElement(e)&&"table"===e.type,mode:"highest"});if(a){var[n,r]=a;f(e),m(e,n,r,"columns")}}})(e);break;case"remove":f(e);break;default:return}};return(0,h.BX)(h.HY,{children:[(0,h.tZ)(u.zx,{format:"insert row",onClick:()=>t("row"),children:(0,h.tZ)(o.G,{icon:i.MQJ})}),(0,h.tZ)(u.zx,{format:"insert column",onClick:()=>t("column"),children:(0,h.tZ)(o.G,{icon:i.xQy})}),(0,h.tZ)(u.zx,{format:"remove table",onClick:()=>t("remove"),children:(0,h.tZ)(o.G,{icon:i.XAH})})]})},T=e=>{var{attributes:t,children:a,element:n,readOnly:i}=e,o=(0,r.ui)(),l=(0,p.EJ)(o,n);return(0,h.BX)(c.xu,{display:"flex",position:"relative",justifyContent:"center",...t,children:[!i&&l&&(0,h.tZ)(c.Fe,{position:"absolute",top:"-40px",children:(0,h.tZ)(u.v2,{children:(0,h.tZ)(b,{})})}),(0,h.tZ)(d.k6,{children:a})]})}},52921:(e,t,a)=>{a.d(t,{U:()=>i});var n=a(15620),r=(e,t)=>{if(!(t+1)||!(e=>n.ML.isEditor(e)||n.W_.isElement(e))(e))return e;var{children:a}=e,i=a[a.length-1];return r(i,t-1)},i=function(e){var{type:t="paragraph",options:{level:a=0,...i}={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{normalizeNode:o}=e;return e.normalizeNode=i=>{var[l,s]=i;if(s.length){var d=((e,t)=>{var{children:a}=e,i=a[a.length-1];if(i){var[,o]=n.ML.last(e,[]);return[r(i,t-1),o.slice(0,t+1)]}})(e,a),c=null===d||void 0===d?void 0:d[0];if(!c||c.type!==t){var u=d?n.y$.next(d[1]):[0];return void n.YR.insertNodes(e,{type:t,children:[{text:""}]},{at:u})}}o([l,s])},e}},16360:(e,t,a)=>{a.d(t,{$$:()=>p,Ff:()=>c,p1:()=>d,richTextEditorTagTypeMapper:()=>s,vB:()=>u});var n=a(58064),r=a(15620),i=a(84203),o=a(6775),l=a(55462),s={BLOCKQUOTE:"block-quote",UL:"bulleted-list",OL:"numbered-list",LI:"list-item",PRE:"block-code",H1:"heading-one",H2:"heading-two",IMG:"image",TABLE:"table",TBODY:"table-body",TR:"table-row",TH:"table-header",TD:"table-cell",A:"link",BUTTON:"button",P:"paragraph"},d=e=>e.map((e=>r.NB.string(e))).join("\n"),c=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.xv.isText(e)){var n=(0,o.sanitizeHTML)(e.text);return e.bold&&(n="<strong>".concat(n,"</strong>")),e.code&&(n='<code style="background-color: #FAFBFD;border-radius: 4px;color: #D53948;font-size: 90%;padding: 0px 2px;white-space: nowrap;">'.concat(n,"</code>")),e.italic&&(n="<em>".concat(n,"</em>")),e.underline&&(n="<u>".concat(n,"</u>")),e.strikethrough&&(n="<del>".concat(n,"</del>")),n}var i=e.children.map((e=>c(e,a))).join(""),l=e.align?"text-align:".concat(e.align,";"):"",s="word-break: break-word;box-sizing: border-box;".concat(l),d='style="'.concat(s,'"');if(e.type in a)return a[e.type](e);switch(e.type){case"block-quote":return"<blockquote>".concat(i,"</blockquote>");case"bulleted-list":return"<ul>".concat(i,"</ul>");case"numbered-list":return"<ol>".concat(i,"</ol>");case"list-item":return"<li ".concat(d,">").concat(i,"</li>");case"block-code":return'<pre style="border-style: solid;border-width: 1px;border-radius: 4px;border-color: #E1E2E4;padding: 8px;background-color: #FAFBFD;white-space: pre-wrap;overflow-wrap: break-word;font-family: monospace;width: 100%;display: block;'.concat(s,'">').concat(i,"</pre>");case"heading-one":return"<h1 ".concat(d,">").concat(i,"</h1>");case"heading-two":return"<h2 ".concat(d,">").concat(i,"</h2>");case"image":return'<img src="'.concat((0,o.sanitizeHTML)(e.uri?"cid:"+(null===(t=e.attachment)||void 0===t?void 0:t.resourceId):(0,o.sanitizeHTML)(e.url)),'" width="').concat(e.width?e.width:"100%",'" height="').concat(e.height?e.height:"100%",'" ').concat(e.name?'alt="'.concat(e.name,'"'):"",">").concat(i,"</img>");case"table":return'<table width="100%" style="border-collapse: collapse;'.concat(s,'">').concat(i,"</table>");case"table-body":return"<tbody>".concat(i,"</tbody>");case"table-row":return"<tr>".concat(i,"</tr>");case"table-header":return'<th style="padding: 5px;border-width: 1px;border-style: solid;border-color: #D1D0DA;word-break: break-word;box-sizing: border-box;'.concat(l,'">').concat(i,"</th>");case"table-cell":return'<td style="padding: 5px;border-width: 1px;border-style: solid;border-color: #D1D0DA;word-break: break-word;box-sizing: border-box;'.concat(l,'">').concat(i,"</td>");case"link":return'<a href="'.concat((0,o.sanitizeHTML)(e.url),'" ').concat(d,">").concat(i,"</a>");case"button":return'<button type="button" style="margin: 0 0.1em;background-color: #efefef;padding: 2px 6px;border-width: 1px;border-style: solid;border-color: #767676;border-radius: 2px;font-size: 0.9em;">'.concat(i,"</button>");case"paragraph":return'<p style="margin: 0;'.concat(s,'">').concat(i,"</p>");default:return i}},u=e=>{var t,{element:a,markAttributes:n={},attachments:r,customDeserializeToHtml:l={},...d}=e;if(a.nodeType===Node.TEXT_NODE&&(0,o.isNotNil)(a.textContent))return(0,i.tZ)("text",n,a.textContent);if(a.nodeType!==Node.ELEMENT_NODE)return null;var c={...n};switch(a.nodeName){case"STRONG":case"B":c.bold=!0;break;case"CODE":c.code=!0;break;case"EM":c.italic=!0;break;case"U":c.underline=!0;break;case"DEL":c.strikethrough=!0}var p=a.childNodes.length?a.childNodes:[document.createTextNode("")],h=Array.from(p).map((e=>u({element:e,markAttributes:c,attachments:r,customDeserializeToHtml:l,...d}))).flat(),g=a.style.textAlign;if(a.nodeName in l)return l[a.nodeName](a,h,d);switch(a.nodeName){case"BODY":return(0,i.tZ)("fragment",{},h);case"BR":return"\n";case"BLOCKQUOTE":return(0,i.tZ)("element",{type:s.BLOCKQUOTE,align:g},h);case"UL":return(0,i.tZ)("element",{type:s.UL,align:g},h);case"OL":return(0,i.tZ)("element",{type:s.OL,align:g},h);case"LI":return(0,i.tZ)("element",{type:s.LI,align:g},h);case"PRE":return(0,i.tZ)("element",{type:s.PRE},h);case"H1":return(0,i.tZ)("element",{type:s.H1,align:g},h);case"H2":return(0,i.tZ)("element",{type:s.H2,align:g},h);case"IMG":var v=a.src,m=a.width,f=a.height,[,y]=v.startsWith("cid:")?v.split(":"):[],b=null!==(t=null===r||void 0===r?void 0:r[y])&&void 0!==t?t:{};return b?(0,i.tZ)("element",{type:s.IMG,url:v,width:m,height:f,attachment:b},h):h;case"TABLE":return(0,i.tZ)("element",{type:s.TABLE},h);case"TBODY":return(0,i.tZ)("element",{type:s.TBODY},h);case"TR":return(0,i.tZ)("element",{type:s.TR},h);case"TH":return(0,i.tZ)("element",{type:s.TH,align:g},h);case"TD":return(0,i.tZ)("element",{type:s.TD,align:g},h);case"A":return(0,i.tZ)("element",{type:s.A,url:a.getAttribute("href")},h);case"BUTTON":return(0,i.tZ)("element",{type:s.BUTTON},h);case"P":return(0,i.tZ)("element",{type:s.P,align:g},h);default:return h}},p=e=>{var{html:t,attachments:a,attachmentSerializerKey:r="contentId",customDeserializeToHtml:i,...s}=e,d=(new DOMParser).parseFromString(t,"text/html"),c=u({element:d.body,attachments:a?(0,o.arrayToMapWithKey)(r,a):[],customDeserializeToHtml:i,...s});return"paragraph"!==(0,n.Z$Q)(c).type&&c.push((0,l.a2)()),c}},38494:(e,t,a)=>{a.d(t,{Fy:()=>m,If:()=>u,Jd:()=>s,Kf:()=>f,PP:()=>v,Rh:()=>h,Sn:()=>l,k6:()=>d,l2:()=>c,l3:()=>p,nr:()=>g});var n=a(41554),r=a(46972),i=a(75493),o=a(55460);var l=(0,n.Z)("button",{target:"ecqsljo10"})("border:0;display:inline-block;padding:",(e=>{var{theme:t}=e;return t.spacing(0,2)}),";color:",(e=>{var{theme:t,active:a}=e;return a?t.color.ninjaBlue:t.color.darkGray}),";background-color:",(e=>{var{theme:t}=e;return t.color.lightGray}),";&:disabled{color:",(e=>{var{theme:t}=e;return t.color.gray}),";}&:focus{outline:none;}",r.$_," ",r.bK,";"),s=(0,n.Z)(i.xu,{target:"ecqsljo9"})("word-break:break-word;max-height:450px;overflow-y:scroll;img{max-width:100%;height:auto;}h1,h2{margin-top:10px;}blockquote{padding:10px 20px;margin:0 0 10px;border-left:5px solid ",(e=>{var{theme:t}=e;return t.color.brightGray}),";white-space:pre-wrap;overflow-wrap:break-word;word-break:break-word;}ol,ul{list-style-type:revert;}font-size:",(0,o.y3)("sm"),';[data-slate-placeholder="true"]{color:',(e=>{var{theme:t}=e;return t.color.black["065"]}),";opacity:1!important;}"),d=(0,n.Z)("table",{target:"ecqsljo8"})("width:100%;",r.cp," th,td{padding:5px;border:1px solid ",(e=>{var{theme:t}=e;return t.color.gray}),";}"),c=(0,n.Z)(i.xu,{target:"ecqsljo7"})("min-height:40px;display:flex;padding:5px;justify-content:space-between;background-color:",(e=>{var{theme:t}=e;return t.color.lightGray}),";&>*+*{margin-left:0;}"),u=(0,n.Z)(i.xu,{target:"ecqsljo6"})("z-index:1;position:absolute;padding:",(e=>{var{theme:t}=e;return t.spacing(2)}),";background-color:",(e=>{var{theme:t}=e;return t.color.white[100]}),";border:",(e=>{var{theme:t}=e;return"1px solid ".concat(t.color.gray)}),";.table-option{display:flex;margin:5px 2px;white-space:nowrap;gap:5px;}.table-input{display:grid;grid-template-columns:auto auto auto auto auto auto;gap:3px;}"),p=(0,n.Z)(i.xu,{target:"ecqsljo5"})("width:15px;height:15px;cursor:default;border:1px solid ",(e=>{var{theme:t,isSelected:a}=e;return a?t.color.ninjaBlue:t.color.gray}),";"),h=(0,n.Z)("input",{target:"ecqsljo4"})({name:"14y6t8x",styles:"display:none!important"}),g=(0,n.Z)("pre",{target:"ecqsljo3"})("padding:8px;border-width:1px;border-style:solid;border-radius:4px;font-family:monospace;border-color:",(e=>{var{theme:t}=e;return t.color.ninjaLight}),";background-color:",(e=>{var{theme:t}=e;return t.color.ninjaWhite}),";"),v=(0,n.Z)(i.kC,{target:"ecqsljo2"})("border:",(e=>{var{readOnly:t,hasError:a,theme:n}=e;return t?"none":"1px solid ".concat(a?n.color.error[100]:n.color.border)}),";"),m=(0,n.Z)("input",{target:"ecqsljo1"})("width:100%;outline:none;background-color:",(e=>{var{theme:t}=e;return t.color.background}),";border:1px solid ",(e=>{var{theme:t,errorMessage:a,invalid:n}=e;return a||n?t.color.red:t.color.border}),";border-radius:",(0,o.Oy)(1),";padding:",(0,o.Oy)(1),";padding-right:",(e=>{var{hasIcon:t}=e;return t?(0,o.Oy)(10):(0,o.Oy)(3)}),";font-size:",(e=>{var{size:t}=e;return(0,o.y3)(t||"sm")}),";font-weight:400;user-select:normal;font-stretch:normal;font-style:normal;line-height:",(e=>{var{size:t}=e;return(0,o.Dp)(t||"sm")}),";letter-spacing:normal;color:",(e=>{var{color:t,theme:a}=e;return t?a.color[t]:""}),";::placeholder{color:",(e=>{var{theme:t}=e;return t.color.gray}),";}"),f=(0,n.Z)("em",{target:"ecqsljo0"})({name:"1fy43nq",styles:"display:inline!important"})},18836:(e,t,a)=>{a.d(t,{ZP:()=>P,HQ:()=>Z,Fg:()=>u.Fg,$m:()=>u.$m,Qs:()=>u.Qs,E:()=>u.E});var n=a(4519),r=a(8845),i=a(58064),o=a(6775),l=a(43077),s=a.n(l),d=a(28879),c=a(50176),u=a(17078),p=a(77537),h=(0,i.CEd)(["label"]),g=(0,i.qCK)(h,i.Z$Q,(0,i.yAE)([])),v=(0,i.qCK)((0,i.UID)(h),(0,i.yAE)([])),m=e=>{var{ariaLabel:t}=e;return(0,p.tZ)(c.II,{disabled:!0,ariaLabel:t,value:(0,o.localized)("N/A")})};const f=(0,n.memo)((e=>{var{operator:t,value:a,handleOnChange:n,type:r,inputType:i,values:l,metaData:h,ariaLabel:f,errorMessage:y}=e;if(["present","not_present","changed","in","not_in"].includes(t))return(0,p.tZ)(m,{ariaLabel:f});if("function"===typeof r)return r({value:a,values:l,handleOnChange:n,metaData:h,errorMessage:y,ariaLabel:f});switch(r){case"select":return(0,p.tZ)(c.Vc,{ariaLabel:f,options:l,value:a,onChange:n,errorMessage:y,hideClearSelectionButton:!0});case"multi-select":var b=(0,o.isNotNilOrEmpty)(null===a||void 0===a?void 0:a.trim())?a.split(","):[];return(0,p.tZ)(c.Vc,{ariaLabel:f,options:l,value:b,isMulti:!0,onChange:e=>n(e.join(",")),errorMessage:y,hideClearSelectionButton:!0});case"multi-creatable-select":{var T=(0,u.UO)(l);function C(e,t){var{action:r}=t;switch(r){case"select-option":case"create-option":n([...a,g(e)]);break;case"remove-value":n(v(e));break;case"clear":n([])}}return(0,p.tZ)(d.ZP,{"aria-label":f,menuPlacement:"auto",className:"flex-full",isMulti:!0,options:l,value:a.map((e=>{var t;return{value:e.value,label:e.__isNew__?e.value:null===(t=T.find((t=>t.value===e.value)))||void 0===t?void 0:t.label,__isNew__:e.__isNew__}})),onChange:C,menuPortalTarget:document.body,getOptionLabel:e=>{var{label:t,labelText:a}=e;return t||a},styles:{menuPortal:e=>({...e,zIndex:9999})}})}case"radio":return(0,p.tZ)("span",{"aria-label":f,children:l.map((e=>{var{name:t,label:r}=e;return(0,p.BX)("label",{children:[(0,p.tZ)("input",{type:"radio",value:t,checked:a===t,onChange:e=>n(e.target.value)}),r]},t)}))});case"date":return(0,p.tZ)(c.Mt,{ariaLabel:f,disableClear:!0,disabledDays:!0,placeholder:(0,o.localized)("Select a date"),selectedDays:a?s().unix(a).toDate():null,onDayChange:e=>{var{date:t}=e,a=s()(t);n((0,o.getSeconds)(a.valueOf()))},fullWidth:!0,inputProps:{readOnly:!0},errorMessage:y});default:return(0,p.tZ)(c.II,{ariaLabel:f,type:i||"text",value:a,onChange:e=>n(e.target.value),onKeyDown:e=>{"number"===i&&(0,o.isEKey)(e)&&e.preventDefault()},errorMessage:y})}}));function y(e){var{className:t,handleOnChange:a,options:n,value:r,ariaLabel:i,excludeOptions:o,fieldGroupKey:l,popoverWidth:s="300px"}=e;return(0,p.tZ)(c.Vc,{key:r,ariaLabel:i,options:n.filter((e=>e.value===r||!(null!==o&&void 0!==o&&o.includes(e.value)))),value:r,onChange:e=>a(e),hideClearSelectionButton:!0,popoverProps:{fullWidth:!1,width:s},...l&&{groupKey:l}})}var b=a(41554),T=a(8456),C=a(75493),E=(0,b.Z)(C.xu,{target:"e13qixgk0"})("display:grid;gap:",T.default.spacing[3],";grid-template-columns:",(e=>{var{hasOperator:t}=e;return t?"minmax(0, 212px) minmax(0, 150px) minmax(0, 1fr) 38px;":"minmax(0, 212px) minmax(0, 1fr) 38px;"})," margin-bottom:",T.default.spacing[3],";"),S=(0,n.memo)((e=>{var{rowIndex:t,id:a,field:r,operator:l,value:s,translationTokens:d,validation:c,combinator:u,metaData:h,schema:{controls:g,fields:v,fieldsMap:m,getInputType:f,getOperators:y,getValueEditorType:b,getValues:T,onPropChange:S,onRuleRemove:w,excludeOptions:I},displayErrors:k}=e,_=(0,n.useMemo)((()=>l?(0,i.UID)((e=>({...e,labelText:(0,o.localized)(e.labelToken)})),y(r)||[]):[]),[l,r,y]),x=(e,t)=>{S(e,t,a)},R=m[r]||{labelText:r},A=!!l,Z="row-rule-".concat(u,"-").concat(t);return(0,p.tZ)(p.HY,{children:(0,p.BX)(E,{id:Z,hasOperator:A,"data-testid":Z,children:[(0,p.tZ)(C.xu,{id:"column-rule-".concat(u,"-1"),children:(0,p.tZ)(g.fieldSelector,{ariaLabel:(0,o.localized)("Field selector for row {{rowIndex}}",{rowIndex:t}),options:v,excludeOptions:I,value:r,operator:l,handleOnChange:e=>{x("field",e)},fieldGroupKey:"groupName"})}),A&&(0,p.tZ)(C.xu,{id:"column-rule-".concat(u,"-2"),children:(0,p.tZ)(g.operatorSelector,{ariaLabel:(0,o.localized)("{{field}} operator",{field:R.labelText}),field:r,options:_,value:l,handleOnChange:e=>{x("operator",e)},popoverWidth:"200px"})}),(0,p.tZ)(C.xu,{id:"column-rule-".concat(u,"-3"),children:(0,p.tZ)(g.valueEditor,{ariaLabel:(0,o.localized)("Field editor for row {{rowIndex}}",{rowIndex:t}),field:r,operator:l,value:s,metaData:h,type:b(r,l),inputType:f(r,l),values:T(r,l),handleOnChange:e=>{x("value",e)},...k&&(null===c||void 0===c?void 0:c.message)&&{errorMessage:c.message}})}),(0,p.tZ)(C.kC,{id:"column-rule-".concat(u,"-4"),alignItems:"flex-start",children:(0,p.tZ)(g.removeRuleAction,{onClick:e=>{e.preventDefault(),e.stopPropagation(),w(a)}})})]})})}));S.defaultProps={id:null,field:null,operator:null,value:null,schema:null,displayErrors:!1};const w=S;var I=e=>{var{combinator:t,rules:a,translationTokens:r,schema:i,displayErrors:l}=e,{controls:s,createRule:d,onRuleAdd:u}=i,h=(0,n.useMemo)((()=>({all:(0,o.localized)("Meets all conditions"),any:(0,o.localized)("Meets any conditions"),actions:(0,o.localized)("Actions to perform")})),[]),g="row-rule-group-".concat(t);return(0,p.BX)(C.kC,{id:g,"data-testid":g,marginBottom:T.default.spacing[2],flexDirection:"column",children:[(0,p.tZ)(c.__,{required:!0,labelText:h[t]}),(0,p.tZ)(C.kC,{marginTop:T.default.spacing[2],flexDirection:"column",children:a.map(((e,a)=>{var{id:n,field:o,value:s,operator:d,validation:c,metaData:u}=e;return"deleted"!==o&&(0,p.tZ)(w,{rowIndex:a,key:n,id:n,field:o,value:s,operator:d,schema:i,translationTokens:r,validation:c,combinator:t,metaData:u,displayErrors:l})}))}),(0,p.tZ)(C.xu,{id:"column-add-".concat(t,"-container"),children:(0,p.tZ)(s.addRuleAction,{label:(0,o.localized)(r.addRule.labelToken),onClick:e=>{e.preventDefault(),e.stopPropagation();var t=d();u(t)},rules:a})})]})};I.defaultProps={rules:[],combinator:"all",schema:{},displayErrors:!1};const k=I;var _=a(67009);const x=e=>{var{onClick:t}=e;return(0,p.tZ)(c.hU,{onClick:t,size:"lg",children:(0,p.tZ)(_.RemoveIcon,{})})},R=(0,n.memo)((e=>{var{onClick:t,label:a}=e;return(0,p.tZ)(c.dM,{onClick:t,children:a})}));var A={removeRule:{labelToken:(0,o.localizationKey)("Remove")},addRule:{labelToken:(0,o.localizationKey)("Add")}},Z=(0,i.WAo)((e=>(0,i.hXT)((t=>(0,i.q9t)(t.value,e)),D))),D=[{value:"contains",labelToken:(0,o.localizationKey)("Contains")},{value:"does_not_contain",labelToken:(0,o.localizationKey)("Does not contain")},{value:"contains_any",labelToken:(0,o.localizationKey)("Contains any")},{value:"contains_none",labelToken:(0,o.localizationKey)("Contains none")},{value:"equals",labelToken:(0,o.localizationKey)("Equals")},{value:"not_equals",labelToken:(0,o.localizationKey)("Does not equal")},{value:"parent_equals",labelToken:(0,o.localizationKey)("Parent equals")},{value:"parent_not_equals",labelToken:(0,o.localizationKey)("Parent does not equal")},{value:"present",labelToken:(0,o.localizationKey)("Present")},{value:"not_present",labelToken:(0,o.localizationKey)("Not present")},{value:"hours_since:greater_or_equal_than",labelToken:(0,o.localizationKey)("Greater than")},{value:"hours_since:less_or_equal_than",labelToken:(0,o.localizationKey)("Less than")},{value:"hours_since:is",labelToken:(0,o.localizationKey)("Is")},{value:"add",labelToken:(0,o.localizationKey)("Add")},{value:"remove",labelToken:(0,o.localizationKey)("Remove")},{value:"current_user",labelToken:(0,o.localizationKey)("Current user")},{value:"requester",labelToken:(0,o.localizationKey)("Requester")},{value:"assignee",labelToken:(0,o.localizationKey)("Primary Assignee")},{value:"changed",labelToken:(0,o.localizationKey)("Changed")},{value:"changed_to",labelToken:(0,o.localizationKey)("Changed to")},{value:"in",labelToken:(0,o.localizationKey)("Within")},{value:"not_in",labelToken:(0,o.localizationKey)("Outside")},{value:"greater_than",labelToken:(0,o.localizationKey)("Greater than")},{value:"less_than",labelToken:(0,o.localizationKey)("Less than")},{value:"is",labelToken:(0,o.localizationKey)("Is")},{value:"greater_or_equal_than",labelToken:(0,o.localizationKey)("Greater than or equal to")},{value:"less_or_equal_than",labelToken:(0,o.localizationKey)("Less than or equal to")}],N={addRuleAction:R,removeRuleAction:x,fieldSelector:y,operatorSelector:y,valueEditor:f,ruleGroup:k},O=a(6945),M=a(18181),L=(0,n.memo)((e=>{var{query:t,combinator:a,onQueryChange:l,controlElements:s,fields:{options:d,optionsMap:c},oneTimeFields:u,resetOnFieldChange:h,getValueEditorType:g,getValidations:v,displayErrors:m}=e,f=(0,n.useCallback)(((e,t,a)=>(0,O.CK)({getValidations:v,field:e,operator:t,metaData:a})),[v]),y=(0,n.useCallback)((()=>t||[]),[t]),b=(e,t)=>{if(g){var a=g(e,t);if(a)return a}return"text"},T=(t,a)=>{if(e.getValues){var n=e.getValues(t,a);if(n)return n}return[]},C=t=>{if(e.getOperators){var a=e.getOperators(t);if(a)return a}return e.operators},E=e=>{var t,a=T(e.field,e.operator),n=b(e.field,e.operator);return null!==(t=e.operator)&&void 0!==t&&t.startsWith("hours_since:")?M.dy:["present","not_present","changed"].includes(e.operator)?null:"multi-select"===n?"":"multi-creatable-select"===n?[]:"function"===typeof n?null:a.length?(0,o.getFirstValue)(a):"checkbox"!==n&&""},S=(e,t,a)=>{var n={...a,touched:!0,validation:f(a.field,a.operator,a.metaData)("operator"===e?a.value:t),[e]:t};if(h&&"field"===e){var r=(0,o.getFirstValue)(C(n.field)),i=E({...n,operator:r});return{...n,operator:r,value:i,touched:!1,validation:f(n.field,r,n.metaData)(i)}}if("operator"===e){var l=E(n);return{...n,validation:f(n.field,n.operator,n.metaData)(l),value:l,touched:!1}}return n},w=(0,n.useCallback)((e=>{if(l){var t=(0,i.d9v)(e);l(t)}}),[l]),[I,k]=(0,n.useState)(y()),_={fields:d,fieldsMap:c,excludeOptions:I.map((e=>{var{field:t}=e;return t})).filter((e=>u.includes(e))),combinator:a,createRule:()=>{var e=(0,o.getFirstValue)(d),t=(0,o.getFirstValue)(C(e));return{id:(0,r.x0)(10),field:e,value:"",operator:t,touched:!1,validation:f(e,t)("")}},onRuleAdd:e=>{var t=E(e),a=(0,i.R3I)({...e,value:t,touched:!1,validation:f(e.field)(t)},I);k(a),w(a)},onRuleRemove:e=>{var t=(0,i.d1t)((0,i.OH4)("id",e),I);k(t),w(t)},onPropChange:(e,t,a)=>{var n=I.map((n=>n.id===a?S(e,t,n):n));k(n),w(n)},controls:{...N,...s},getOperators:C,getValueEditorType:b,getInputType:(t,a)=>{if(e.getInputType){var n=e.getInputType(t,a);if(n)return n}return"text"},getValues:T};return(0,n.useEffect)((()=>{k(y())}),[y]),(0,p.tZ)(_.controls.ruleGroup,{translationTokens:{...A,...e.translationTokens},rules:I,combinator:a,schema:_,displayErrors:m})}));L.defaultProps={query:[],fields:{options:[],optionsMap:{}},oneTimeFields:[],operators:D,combinator:"all",translationsTokens:A,controlElements:null,getOperators:null,getValidations:null,getValueEditorType:null,getInputType:null,getValues:null,onQueryChange:null,resetOnFieldChange:!0,displayErrors:!1};const P=L},17078:(e,t,a)=>{a.d(t,{$m:()=>w,E:()=>D,Fg:()=>_,Qs:()=>N,UO:()=>g,um:()=>b});var n=a(8845),r=a(58064),i=a(6775),o=a(34737),l=(0,r.vgT)("isNew"),s=(0,r.jge)("uid"),d=(0,r.qCK)(s,(0,r.d1t)(l)),c=(0,r.qCK)(s,(0,r.hXT)(l)),u=(0,r.CEd)(["id","touched","validation","metaData"]),p=(0,r.UID)(u),h=(0,r.qCK)((0,r.KJl)(i.isNilOrEmpty,(0,r.Bxt)([]),i.splitByComma),(e=>{var t;return null===e||void 0===e||null===(t=e.trim)||void 0===t?void 0:t.call(e)})),g=(0,r.qCK)(r.xHg,(0,r.UID)((0,r.KJl)((0,r.e$l)("options"),(0,r.vgT)("options"),r.yRu))),v=(0,r.UID)((0,r.z6y)({uid:r.yRu,displayName:r.yRu,isNew:r.T})),m=(0,r.UID)((0,r.z6y)({uid:(0,r.vgT)("uid"),displayName:e=>null!==e&&void 0!==e&&e.deleted?(0,i.localized)("{{fullName}} (Deleted)",{fullName:(0,i.fullNameOrEmail)(e)}):(0,i.fullNameOrEmail)(e),userType:(0,r.vgT)("userType"),deleted:(0,r.vgT)("deleted")})),f=(0,r.UID)((0,r.CEd)(["order"])),y=(0,r.MRu)((0,r.vgT)("order")),b=()=>[{isDefaultOption:!0,uid:"REQUESTER",displayName:(0,i.localized)("general.requester")},{isDefaultOption:!0,uid:"REQUESTER_CC",displayName:"".concat((0,i.localized)("general.requester")," ").concat((0,i.localized)("general.cc"))},{isDefaultOption:!0,uid:"ASSIGNEE",displayName:(0,i.localized)("general.assignee")}],T=e=>{var{user:t,valueSelectorKey:a}=e;return{id:t.id,[a]:t[a],[o.lj]:t[o.lj],[o.nf]:t.deleted?(0,i.localized)("{{fullName}} (Deleted)",{fullName:(0,i.fullNameOrEmail)(t)}):(0,i.fullNameOrEmail)(t),email:t.email,userType:t.entityType||t.userType}},C=e=>{var{valueKey:t="id",idValue:a,field:n,naText:r}=e,o=r||(0,i.localized)("N/A");return["requester","assignee","assignedAppUserId","requesterUid","additionalAssignedTechnicianIds"].includes(n)?T({valueSelectorKey:t,user:{[t]:a,firstName:o}}):{id:a,name:o,..."location"===n&&{organizationName:o}}},E=e=>{var{field:t,value:a,operator:n,metaData:l,valueKey:s="uid"}=e;return a&&(e=>{var{operator:t,metaData:a,valueKey:n,value:l,field:s}=e,d=["contains_any","contains_none"].includes(t),c=["equals","not_equals"].includes(t);if(d||c){var u={...(0,r.u4g)(((e,t)=>(e[t[n]]=T({user:t,valueSelectorKey:n}),e)),{},(0,i.getAsArray)(a)),current_user:{...(0,o.PF)(),[n]:"current_user"}};if(d)return(0,r.UID)((e=>u[e]||C({valueKey:n,idValue:e,field:s})),l.split(",")||[]);if(c)return u[l]||C({valueKey:n,idValue:l,field:s})}})({operator:n,metaData:l,valueKey:s,value:a,field:t})||a},S=e=>{var{field:t,value:a,operator:o,metaData:l}=e,s=a;return s&&(["requester","assignee","additionalAssignedTechnicianIds"].includes(t)?s=E({value:s,field:t,operator:o,metaData:l,...["assignee","additionalAssignedTechnicianIds"].includes(t)&&{valueKey:"id"}}):["location","organization"].includes(t)&&(s=(e=>{var{value:t,operator:a,metaData:n,field:o}=e;if(t&&["contains_any","contains_none"].includes(a)){var l=(0,i.arrayToMapWithKey)("id",(0,i.getAsArray)(n)),s=(0,i.localized)("N/A");return(0,r.UID)((e=>l[e]||C({field:o,idValue:e,naText:s})),t.split(",")||[])}return t})({value:s,operator:o,metaData:l,field:t}))),{id:(0,n.x0)(10),...e,value:s}},w=e=>(0,r.UID)(S,e||[]),I=e=>{var{rule:t,property:a}=e,{value:n,property:r,organization:i,user:o}=a,{field:l}=t;if(n&&"ticket"===l&&["assignedAppUserId","organization","requesterUid","additionalAssignedTechnicianId"].includes(r)){var s="requesterUid"===r?"uid":"id";return["assignedAppUserId","requesterUid","additionalAssignedTechnicianId"].includes(r)?o?T({user:o,valueSelectorKey:s}):C({field:l,idValue:n,valueKey:s}):i||C({field:l,idValue:n})}return n},k=(e,t)=>{var{to:a,allowResponse:n}=e;return{keys:a.keys.map((e=>"string"===typeof e?t.find((t=>{var{uid:a}=t;return a.toLocaleLowerCase()===e.toLocaleLowerCase()})):e)),emails:v(a.emails),uids:m(a.users),allowResponse:n}},_=(e,t,a)=>{var l,s=[...b(),(0,o.PF)()],d=(0,r.u4g)(((e,i)=>{if("SEND_TEMPLATE_EMAIL"===i.type)e.push({id:(0,n.x0)(10),field:"SEND_TEMPLATE_EMAIL",uid:i.uid,order:i.order,value:{...k(i.params,s),templateId:i.params.templateId,template:a.find((e=>e.id===i.params.templateId))},metaData:{toUsers:i.params.to.users}});else if("SEND_EMAIL"===i.type)e.push({id:(0,n.x0)(10),field:"SEND_EMAIL",uid:i.uid,order:i.order,value:{...k(i.params,s),subject:i.params.subject,body:i.params.body,uploads:t},metaData:{toUsers:i.params.to.users}});else if("ADD_TICKET_COMMENT"===i.type){var o,l;e.push({id:(0,n.x0)(10),field:"ADD_TICKET_COMMENT",uid:null===i||void 0===i?void 0:i.uid,order:null===i||void 0===i?void 0:i.order,value:{body:null===i||void 0===i||null===(o=i.params)||void 0===o?void 0:o.body,public:null===i||void 0===i||null===(l=i.params)||void 0===l?void 0:l.public}})}else if("TICKET_LOG_ENTRY_TIME_TRACKER"===i.type){var d,c;e.push({id:(0,n.x0)(10),field:"TICKET_LOG_ENTRY_TIME_TRACKER",uid:null===i||void 0===i?void 0:i.uid,order:null===i||void 0===i?void 0:i.order,value:null===i||void 0===i||null===(d=i.params)||void 0===d?void 0:d.value,operator:null===i||void 0===i||null===(c=i.params)||void 0===c?void 0:c.unit})}else"SEND_NOTIFICATION"===i.type?i.params.channels.map((t=>e.push({id:(0,n.x0)(10),field:i.type,uid:null===i||void 0===i?void 0:i.uid,order:t.order,value:t.channelId,operator:t.channelType}))):(0,r.UID)((t=>{if((0,r.q9t)(t.field,["ticket","attributes"]))(0,r.UID)((a=>{e.push({id:(0,n.x0)(10),field:t.field,uid:null===i||void 0===i?void 0:i.uid,order:t.order,operator:a.property,value:I({rule:t,property:a}),metaData:(null===a||void 0===a?void 0:a.user)||(null===a||void 0===a?void 0:a.organization)})}),null===t||void 0===t?void 0:t.properties);else if((0,r.q9t)(t.field,["add_cc_list","set_cc_list"])){var[a,o]=t.properties;e.push({id:(0,n.x0)(10),field:t.field,uid:null===i||void 0===i?void 0:i.uid,order:t.order,value:[...v(a.value),...m(o.users)],metaData:{users:o.users}})}else(0,r.q9t)(t.field,["add_tags","remove_tags","set_tags"])&&e.push({id:(0,n.x0)(10),field:t.field,uid:null===i||void 0===i?void 0:i.uid,order:t.order,value:h(t.value)})}),i.params.changes);return e}),[])(e);return(0,i.isNumber)(null===(l=d[0])||void 0===l?void 0:l.order)?f(y(d)):d},x=(0,i.mappedIndex)(((e,t)=>({...e,order:t}))),R=e=>{var{field:t,operator:a,value:n}=e||{};return n&&"ticket"===t&&["assignedAppUserId","organization","requesterUid","additionalAssignedTechnicianId"].includes(a)?n["requesterUid"===a?"uid":"id"]||null:n},A=e=>{var{value:t,operator:a,field:n}=e;return t&&["assignee","requester","location","organization","additionalAssignedTechnicianIds"].includes(n)?(e=>{var{value:t,key:a="id"}=e;return Array.isArray(t)?(0,r.UID)((0,r.vgT)(a),t).join(","):t[a]})({value:t,..."requester"===n&&{key:"uid"}}):t},Z=e=>{var{conditions:t,removeDeleted:a=!1}=e;return(0,r.u4g)(((e,t)=>(a&&"deleted"===t.field||e.push({...u(t),value:A(t)}),e)),[],t)},D=e=>{var{conditions:t,copy:a,system:n}=e,{all:r,any:i}=t||{},o=a&&n&&(null===r||void 0===r?void 0:r.length)>1;return{all:r?Z({conditions:r,removeDeleted:o}):null,any:r?Z({conditions:i}):null}},N=e=>e?p((e=>{var t=x(e),a=(0,r.u4g)(((e,t)=>{var{order:a}=t;if("SEND_TEMPLATE_EMAIL"===(null===t||void 0===t?void 0:t.field))e.SEND_TEMPLATE_EMAIL.push({order:a,type:"SEND_TEMPLATE_EMAIL",params:{to:{keys:null===t||void 0===t?void 0:t.value.keys.map((e=>{var t,a;return null!==(t=null===e||void 0===e||null===(a=e.uid)||void 0===a?void 0:a.toUpperCase())&&void 0!==t?t:e})),emails:s(null===t||void 0===t?void 0:t.value.emails),uids:s(null===t||void 0===t?void 0:t.value.uids)},templateId:null===t||void 0===t?void 0:t.value.templateId,allowResponse:null===t||void 0===t?void 0:t.value.allowResponse},...(null===t||void 0===t?void 0:t.uid)&&{uid:t.uid}});else if("SEND_EMAIL"===(null===t||void 0===t?void 0:t.field))e.SEND_EMAIL.push({order:a,type:"SEND_EMAIL",params:{to:{keys:null===t||void 0===t?void 0:t.value.keys.map((e=>{var t,a;return null!==(t=null===e||void 0===e||null===(a=e.uid)||void 0===a?void 0:a.toUpperCase())&&void 0!==t?t:e})),emails:s(null===t||void 0===t?void 0:t.value.emails),uids:s(null===t||void 0===t?void 0:t.value.uids)},subject:null===t||void 0===t?void 0:t.value.subject,body:null===t||void 0===t?void 0:t.value.body,allowResponse:null===t||void 0===t?void 0:t.value.allowResponse},...(null===t||void 0===t?void 0:t.uid)&&{uid:t.uid}});else{var n=e.TICKET_CHANGE_VALUE.params.changes;if((0,r.q9t)(t.field,["ticket","attributes"])){var o=(0,r.sEJ)((0,r.OH4)("field",null===t||void 0===t?void 0:t.field),n)||{order:a,field:null===t||void 0===t?void 0:t.field,properties:[]},l={...o,properties:[...o.properties,{property:null===t||void 0===t?void 0:t.operator,value:R(t)}]};null!==t&&void 0!==t&&t.uid&&(e.TICKET_CHANGE_VALUE.uid=t.uid),e.TICKET_CHANGE_VALUE.params={changes:[...(0,r.d1t)((0,r.OH4)("field",null===t||void 0===t?void 0:t.field),n),l]}}else if("SEND_NOTIFICATION"===t.field)null!==t&&void 0!==t&&t.uid&&(e.SEND_NOTIFICATION.uid=t.uid),e.SEND_NOTIFICATION.params.channels.push({order:a,channelId:t.value,channelType:t.operator});else if("TICKET_LOG_ENTRY_TIME_TRACKER"===t.field)null!==t&&void 0!==t&&t.uid&&(e.TICKET_LOG_ENTRY_TIME_TRACKER.uid=t.uid),e.TICKET_LOG_ENTRY_TIME_TRACKER.order=a,e.TICKET_LOG_ENTRY_TIME_TRACKER.params={unit:t.operator,value:parseInt(t.value,10)};else if("ADD_TICKET_COMMENT"===t.field)null!==t&&void 0!==t&&t.uid&&(e.ADD_TICKET_COMMENT.uid=t.uid),e.ADD_TICKET_COMMENT.order=a,e.ADD_TICKET_COMMENT.params={body:t.value.body,public:t.value.public};else if((0,r.q9t)(t.field,["add_cc_list","set_cc_list"])){var u=e.TICKET_CHANGE_VALUE.params.changes,p={...(0,r.sEJ)((0,r.OH4)("field",null===t||void 0===t?void 0:t.field),u)||{order:a,field:null===t||void 0===t?void 0:t.field,properties:[]},properties:[{property:"emails",value:c(t.value)},{property:"uids",value:d(t.value)}]};null!==t&&void 0!==t&&t.uid&&(e.TICKET_CHANGE_VALUE.uid=t.uid),e.TICKET_CHANGE_VALUE.params={changes:[...(0,r.d1t)((0,r.OH4)("field",null===t||void 0===t?void 0:t.field),u),p]}}else(0,r.q9t)(t.field,["add_tags","remove_tags","set_tags"])&&(null!==t&&void 0!==t&&t.uid&&(e.TICKET_CHANGE_VALUE.uid=t.uid),e.TICKET_CHANGE_VALUE.params={changes:[...n,{order:a,field:null===t||void 0===t?void 0:t.field,value:(0,i.joinByComma)(t.value)}]})}return e}),{SEND_TEMPLATE_EMAIL:[],SEND_EMAIL:[],SEND_NOTIFICATION:{type:"SEND_NOTIFICATION",params:{channels:[]}},TICKET_CHANGE_VALUE:{type:"TICKET_CHANGE_VALUE",params:{changes:[]}},TICKET_LOG_ENTRY_TIME_TRACKER:{type:"TICKET_LOG_ENTRY_TIME_TRACKER",params:{}},ADD_TICKET_COMMENT:{type:"ADD_TICKET_COMMENT",params:{}}})(t);return[...(0,r.xbD)(a.SEND_TEMPLATE_EMAIL)?[]:a.SEND_TEMPLATE_EMAIL,...(0,r.xbD)(a.SEND_EMAIL)?[]:a.SEND_EMAIL,...(0,r.xbD)(a.TICKET_CHANGE_VALUE.params.changes)?[]:[a.TICKET_CHANGE_VALUE],...(0,r.xbD)(a.TICKET_LOG_ENTRY_TIME_TRACKER.params)?[]:[a.TICKET_LOG_ENTRY_TIME_TRACKER],...(0,r.xbD)(a.ADD_TICKET_COMMENT.params)?[]:[a.ADD_TICKET_COMMENT],...(0,r.xbD)(a.SEND_NOTIFICATION.params.channels)?[]:[a.SEND_NOTIFICATION]]})(e)):null},11029:(e,t,a)=>{a.d(t,{Z:()=>L});var n=a(41554),r=a(4519),i=a(58064),o=a(6775),l=a(47361),s=a(48096),d=a(27702),c=a(14081),u=a(99787),p=a(89042),h=a(71989),g=a(60036),v=a(50176),m=a(75493),f=a(77537);var y=(0,n.Z)("div",{target:"e14hk3rl0"})({name:"cfkofj",styles:"display:flex;flex-flow:column"}),b={DAILY:(0,o.localizationKey)("<%bold>Daily:<%> Runs the automation on a schedule. If the device is offline when the scheduled task triggers, the automation will not run and will not be queued."),WEEKLY:(0,o.localizationKey)("<%bold>Weekly:<%> Runs the automation on a schedule. If the device is offline when the scheduled task triggers, the automation will not run and will not be queued."),MONTHLY:(0,o.localizationKey)("<%bold>Monthly:<%> Runs the automation on a schedule. If the device is offline when the scheduled task triggers, the automation will not run and will not be queued."),EVERY:(0,o.localizationKey)("<%bold>Every:<%> Sets the automation to run at regular intervals, based on the time you specify (hours). If the device is offline at the chosen interval, the automation will not run and will not be queued.")},T=()=>[{value:"HOURLY",text:(0,o.localized)("Hours"),min:1,max:23}];class C extends r.Component{constructor(){super(...arguments),this.changeRepeatsType=e=>{var{schedule:t,updateSchedule:a}=this.props;a((0,i.ATH)(t,{repeats:e,repeatsEveryCount:1}))},this.changeWeekDaysSelection=e=>{if(e.length){var{schedule:t,updateSchedule:a}=this.props;t.daysOfWeek=e,a((0,i.ATH)(t,{daysOfWeek:e}))}},this.getDaysOfMonth=()=>{var e=(0,i.w6H)(1,31).map((e=>({value:e,text:e})));return e.push({value:0,text:(0,o.localized)("last")}),e},this.changeDayOfMonth=e=>{var{schedule:t,updateSchedule:a}=this.props;t.dayOfMonth=Number(e),a((0,i.ATH)(t,{dayOfMonth:Number(e)}))},this.changeRecurrence=(e,t)=>{var{schedule:a,updateSchedule:n}=this.props,r=Number(e.replace(/\D/g,"")),o=(0,i.qCK)((0,i.gxm)((0,i.lt)(i.__,1),(0,i.Bxt)(1)),(0,i.VV$)(t.maxRecurrence),(0,i.yAE)(1))(r);n((0,i.ATH)(a,{repeatsEveryCount:o}))},this.changeInterval=e=>{var{schedule:t,updateSchedule:a}=this.props;a((0,i.ATH)(t,{repeatsEveryCount:parseInt(e,10)}))},this.changeScheduleInterval=e=>{var{schedule:t,updateSchedule:a}=this.props;a((0,i.ATH)(t,{scheduleInterval:e}))},this.toolTipRepeatsContent=e=>(0,o.localizedWith)(b[e],{bold:e=>{var{localizedText:t}=e;return(0,f.tZ)("strong",{children:t})}})}render(){var e,t,{schedule:a,repeatsOptions:n,repeatsDisabled:r,visibleRecurEvery:l}=this.props,b=null!==(e=n.find((e=>e.value===a.repeats)))&&void 0!==e?e:n[0],C=null===(t=T())||void 0===t?void 0:t.find((e=>{var{value:t}=e;return t===a.scheduleInterval||"HOURLY"}));return(0,f.BX)(y,{children:[(0,f.BX)(d.Z,{children:[(0,f.tZ)(c.Z,{componentClass:u.Z,xs:3,className:"text-align-left",children:(0,f.BX)(m.kC,{children:[(0,f.tZ)("span",{children:(0,o.localized)("Repeats")}),a.repeats&&(0,f.tZ)(v.MZ,{text:this.toolTipRepeatsContent(a.repeats),triggerColor:"colorTextWeakest",triggerSize:"sm",triggerAriaLabel:(0,o.localized)("More information")})]})}),(0,f.tZ)(c.Z,{xs:9,children:(0,f.tZ)(s.ZP,{name:"repeats",value:b,options:n,onChange:e=>this.changeRepeatsType(e.value),placeholder:(0,o.localized)("Select..."),getOptionLabel:e=>e.text(),isDisabled:r})})]}),"WEEKLY"===a.repeats&&(0,f.BX)(d.Z,{children:[(0,f.tZ)(c.Z,{componentClass:u.Z,xs:3,className:"text-align-left",children:(0,f.tZ)("span",{children:(0,o.localized)("On Days")})}),(0,f.tZ)(c.Z,{xs:9,children:(0,f.tZ)(h.Z,{selectedDays:a.daysOfWeek,changeSelection:this.changeWeekDaysSelection})})]}),"MONTHLY"===a.repeats&&(0,f.BX)(d.Z,{children:[(0,f.tZ)(c.Z,{componentClass:u.Z,xs:3,className:"text-align-left",children:(0,f.tZ)("span",{children:(0,o.localized)("Day of Month")})}),(0,f.tZ)(c.Z,{xs:9,children:(0,f.tZ)(s.ZP,{name:"day",value:this.getDaysOfMonth().find((e=>e.value===a.dayOfMonth)),options:this.getDaysOfMonth(),onChange:e=>this.changeDayOfMonth(e.value),placeholder:(0,o.localized)("Select..."),getOptionLabel:(0,i.vgT)("text")})})]}),"EVERY"===a.repeats&&(0,f.BX)(d.Z,{children:[(0,f.tZ)(c.Z,{componentClass:u.Z,xs:3,className:"text-align-left",children:(0,f.tZ)("span",{children:(0,o.localized)("Recur Every")})}),(0,f.BX)(c.Z,{xs:9,className:"p-l-none p-r-none",children:[(0,f.tZ)(c.Z,{xs:6,children:(0,f.tZ)(g.__,{height:"38px",className:"form-control",type:"number",min:C.min,max:C.max,value:a.repeatsEveryCount||"",onChange:e=>{if(""===e.target.value)this.changeInterval("");else{var t=Math.max(C.min,Math.min(C.max,parseInt(e.target.value,10)));this.changeInterval(t)}},onBlur:e=>""===e.target.value&&this.changeInterval(C.min),onKeyDown:e=>["e","E","-","+","."].includes(e.key)&&e.preventDefault()})}),(0,f.tZ)(c.Z,{xs:6,children:(0,f.tZ)(s.ZP,{name:"intervalOptions",value:C,options:T(),onChange:e=>this.changeScheduleInterval(e.value),getOptionLabel:(0,i.vgT)("text")})})]})]}),l&&b.hasRecurrence&&(0,f.BX)(d.Z,{children:[(0,f.tZ)(c.Z,{componentClass:u.Z,xs:3,className:"text-align-left",children:(0,f.tZ)("span",{children:(0,o.localized)("Recur every")})}),(0,f.tZ)(c.Z,{xs:4,children:(0,f.tZ)(p.Z,{className:"form-control",type:"number",min:1,max:b&&b.maxRecurrence,value:a.repeatsEveryCount,onChange:e=>this.changeRecurrence(e.target.value,b)})}),(0,f.tZ)(c.Z,{xs:2,className:"p-t-md",children:(0,f.tZ)("p",{children:b&&b.recurrenceText()})})]})]})}}var E=a(43077),S=a.n(E),w=a(15289),I=a.n(w);var k=(0,n.Z)("div",{target:"et002p40"})({name:"cfkofj",styles:"display:flex;flex-flow:column"});class _ extends r.PureComponent{constructor(){super(...arguments),this.changeOccurrencesEnd=e=>{var{schedule:t,updateSchedule:a}=this.props,n={occurenceCount:e||1};a((0,i.BPw)(t,{end:n}))},this.changeEndType=(e,t)=>{var{schedule:a,updateSchedule:n}=this.props,r={type:e,...["NEVER","AFTER"].includes(e)&&{endDate:null},..."ON"===e&&{endDate:(0,o.getNMonthsDateFromNow)(1,t)}};n((0,i.BPw)(a,{end:r}))},this.changeEndDate=e=>{var{schedule:t,updateSchedule:a,dateFormat:n=o.serverScheduleDateFormat,isValidEndDate:r}=this.props,l=(0,o.getDateLocale)(e);if(!l.isValid()||r&&!r(l))a(t);else{var s={endDate:l.format(n)};a((0,i.BPw)(t,{end:s}))}}}render(){var{schedule:e,endOptions:t,dateFormat:a=o.serverScheduleDateFormat,isValidEndDate:n}=this.props,{endDate:r,type:i,occurenceCount:l}=e.end,h=S()(r,a);return(0,f.BX)(k,{children:[(0,f.BX)(d.Z,{children:[(0,f.tZ)(c.Z,{componentClass:u.Z,xs:3,className:"text-align-left",children:(0,f.tZ)("span",{children:(0,o.localized)("Ends")})}),(0,f.tZ)(c.Z,{xs:9,children:(0,f.tZ)(s.ZP,{name:"ends",value:t.find((e=>e.value===i)),options:t,onChange:e=>this.changeEndType(e.value,a),placeholder:(0,o.localized)("Select..."),getOptionLabel:e=>e.text()})})]}),"AFTER"===i&&(0,f.BX)(d.Z,{children:[(0,f.tZ)(c.Z,{componentClass:u.Z,xs:3,className:"text-align-left",children:(0,f.tZ)("span",{children:(0,o.localized)("Occurrences")})}),(0,f.tZ)(c.Z,{xs:7,children:(0,f.tZ)(p.Z,{className:"form-control",type:"number",min:1,value:l,onChange:e=>this.changeOccurrencesEnd(Number(e.target.value))})})]}),"ON"===i&&(0,f.BX)(d.Z,{children:[(0,f.tZ)(c.Z,{componentClass:u.Z,xs:3,className:"text-align-left",children:(0,f.tZ)("span",{children:(0,o.localized)("End Date")})}),(0,f.tZ)(c.Z,{xs:9,children:(0,f.tZ)(I(),{value:(0,o.getDateLocale)(h),timeFormat:!1,onChange:this.changeEndDate,isValidDate:n})})]})]})}}var x=a(37495),R=a(8326),A=a(71936);const Z=e=>{var{dateTime:t,onDateTimeChange:a,width:n="100%",isValidDate:r}=e,i=(0,o.getDivisionTimeZone)();return(0,f.BX)(m.xu,{display:"flex",alignItems:"center",width:n,children:[(0,f.tZ)(m.xu,{minWidth:155,flex:1,children:(0,f.tZ)(I(),{value:t,onChange:a,isValidDate:r,displayTimeZone:i})}),(0,f.BX)(m.xu,{width:80,display:"flex",justifyContent:"center",alignItems:"center",children:[(0,f.tZ)(A.Z,{output:i,children:(0,f.tZ)(x.G,{icon:R.g4A})}),(0,f.tZ)("span",{className:"p-l-sm white-space-nowrap",children:(0,o.getDivisionTimeZoneAbbreviation)()})]})]})};var D=a(34928);class N extends r.PureComponent{constructor(){super(...arguments),this.changeStartDate=e=>{var{schedule:t,updateSchedule:a,dateFormat:n=o.serverScheduleDateFormat,isValidStartDate:r}=this.props,l=(0,o.getDateTimeLocale)(e);!l.isValid()||r&&!r(l)?a(t):a((0,i.ATH)(t,{startDate:l.format(n),runAtHour:l.hour(),runAtMinute:l.minute()}))},this.isPastDate=e=>{var t=(0,D.foG)(),a=S().tz(t);return e.clone().tz(t).isBefore(a,"day")}}render(){var{schedule:e,timeZone:t,visibleTimeZone:a=!0,startAtInfo:n,dateFormat:r=o.serverScheduleDateFormat,isValidStartDate:i}=this.props,{startDate:l,runAtHour:s,runAtMinute:c}=e,p=S().tz("".concat(l," ").concat(s,":").concat(c),"".concat(r," HH:mm"),t),h=this.isPastDate(p),v=(0,f.tZ)(g.N6,{xs:9,children:a?(0,f.tZ)(Z,{dateTime:p,onDateTimeChange:this.changeStartDate,isValidDate:i}):(0,f.tZ)(m.xu,{flex:1,children:(0,f.tZ)(I(),{value:(0,o.getDateTimeLocale)(p),onChange:this.changeStartDate,isValidDate:i})})});return(0,f.BX)(d.Z,{children:[(0,f.BX)(g.N6,{componentClass:u.Z,xs:3,className:"text-align-left",children:[(0,f.tZ)("span",{children:(0,o.localized)("Start At")}),n&&(0,f.tZ)(A.Z,{output:n})]}),h?(0,f.tZ)(A.Z,{output:(0,o.localized)("You can't select a date / time in the past"),placement:"left",children:v}):(0,f.tZ)(f.HY,{children:v})]})}}var O=(0,n.Z)("div",{target:"ef7qb480"})("display:flex;flex-flow:column;overflow:visible;height:",(e=>{var{fixedHeight:t}=e;return t?"500px":""}),";");class M extends r.PureComponent{constructor(e){super(e),this.updateSchedule=e=>{this.setState(e,(()=>{if(this.props.onScheduleUpdate){var t="EVERY"===e.repeats?(0,i.yGi)("scheduleInterval","HOURLY")(e):e;this.props.onScheduleUpdate(t)}}))};var{schedule:t,dateFormat:a}=this.props;this.state=null!==t&&void 0!==t?t:(0,l.Kj)(a)}render(){var{repeatsOptions:e=l.cL,repeatsDisabled:t=!1,visibleRecurEvery:a=!0,endOptions:n=l.VY,visibleEnd:r=!0,visibleTimeZone:i=!0,startAtInfo:s,dateFormat:d=o.serverScheduleDateFormat,isValidStartDate:c,isValidEndDate:u}=this.props,{repeats:p}=this.state;return(0,f.BX)(O,{fixedHeight:this.props.fixedHeight,children:[(0,f.tZ)("h3",{children:(0,o.localized)("Schedule")}),(0,f.tZ)(C,{schedule:this.state,updateSchedule:this.updateSchedule,repeatsOptions:e,repeatsDisabled:t,visibleRecurEvery:a}),p&&"NEVER"!==p&&(0,f.BX)(f.HY,{children:[(0,f.tZ)(N,{schedule:this.state,updateSchedule:this.updateSchedule,timeZone:(0,o.getDivisionTimeZone)(),visibleTimeZone:i,startAtInfo:s,dateFormat:d,isValidStartDate:c}),r&&(0,f.tZ)(_,{schedule:this.state,updateSchedule:this.updateSchedule,endOptions:n,dateFormat:d,isValidEndDate:u})]})]})}}M.defaultProps={fixedHeight:!0};const L=M},9346:(e,t,a)=>{a.d(t,{Z:()=>S});var n=a(4519),r=a(89042),i=a(40580),o=a.n(i),l=a(58064),s=a(50176),d=a(37200),c=a(6775),u=a(34928),p=a(87082),h=a(31605),g=a(75493),v=a(7824),m=a(71936),f=a(87013),y=a(26155),b=a(77537),T=(0,l.d1t)((0,l.OH4)("disabled",!0)),C={name:(0,u.eWj)("Name"),appName:(0,u.eWj)("Application Name"),biosSerialNumber:(0,u.eWj)("BIOS Serial Number"),clientName:(0,u.eWj)("Client Name"),description:(0,u.eWj)("Description"),deviceName:(0,u.eWj)("Device Name"),displayName:(0,u.eWj)("Display Name"),exclusions:(0,u.eWj)("Exclusions"),extension:(0,u.eWj)("Extension"),quickBooksName:(0,u.eWj)("QuickBooks Name"),ipAddress:(0,u.eWj)("IP Address"),id:(0,u.eWj)("ID"),lastLoggedInUser:(0,u.eWj)("Last Logged In User"),macAddress:(0,u.eWj)("MAC Address"),mappingStatus:(0,u.eWj)("Mapping Status"),mask:(0,u.eWj)("Mask"),osName:(0,u.eWj)("OS Name"),packageName:(0,u.eWj)("Package Name"),publicIp:(0,u.eWj)("Public IP"),releaseId:(0,u.eWj)("Release ID"),scheduleName:(0,u.eWj)("Schedule Name"),summary:(0,u.eWj)("Summary"),subject:(0,u.eWj)("Subject"),siteName:(0,u.eWj)("Site Name"),systemName:(0,u.eWj)("System Name"),targetType:(0,u.eWj)("Target Type"),wifiName:(0,u.eWj)("Wi-Fi Name (SSID)")};class E extends n.PureComponent{constructor(e){super(e),this.rowRefs={},this.rowsDataMap={},this.state=this.getDefaultState(),this.onCheckAll=this.onCheckAll.bind(this),this.onCheck=this.onCheck.bind(this),this.onSingleCheckRow=this.onSingleCheckRow.bind(this),this.onMultiRowCheck=this.onMultiRowCheck.bind(this),this.onKeyDownSelect=this.onKeyDownSelect.bind(this),this.onShowSelectedOnly=this.onShowSelectedOnly.bind(this),this.getColumns=this.getColumns.bind(this),this.getDataList=this.getDataList.bind(this),this.getDefaultState=this.getDefaultState.bind(this),this.getInitialState=this.getInitialState.bind(this),this.setDefaultSelectedRows=this.setDefaultSelectedRows.bind(this),this.handleRowClick=this.handleRowClick.bind(this),this.rowRenderer=this.rowRenderer.bind(this),this.createRowsDataMap=this.createRowsDataMap.bind(this),this.addAllSelected=this.addAllSelected.bind(this),this.removeAllSelected=this.removeAllSelected.bind(this),this.clearSelection=this.clearSelection.bind(this),this.dispatchCallback=this.dispatchCallback.bind(this),this.onSearchChange=this.onSearchChange.bind(this),this.onFilterChange=this.onFilterChange.bind(this),this.filterData=this.filterData.bind(this),this.autoScrollIntoView=this.autoScrollIntoView.bind(this)}getDefaultState(){return{loading:!1,activeRow:0,mode:"neutral",filterText:"",filteredData:null,filterTab:"all",showSelectedOnly:!1,shouldContentOverlay:!1,selected:{rows:{},length:0},...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}async getInitialState(){var{props:{onGetInitialState:e},state:t}=this;if(e){var a=await e(t);this._isMounted&&this.setState(this.getDefaultState(a))}}filterInitialData(){var e=this.filterData(this.state.filterText,this.props.filters);this.onFilterChange(e,this.props.filters)}async componentDidUpdate(e){var{keepSelectionOnDataChange:t,data:a}=this.props;e.data!==a&&(await this.getInitialState(),this.createRowsDataMap(),!t&&this.setDefaultSelectedRows(),this.filterInitialData())}async componentDidMount(){var{keepSelectionOnDataChange:e}=this.props;this._isMounted=!0,document.addEventListener("keydown",this.onKeyDownSelect),await this.getInitialState(),this.createRowsDataMap(),!e&&this.setDefaultSelectedRows(),this.filterInitialData()}componentWillUnmount(){this._isMounted=!1,document.removeEventListener("keydown",this.onKeyDownSelect),this.props.onUnmount&&this.props.onUnmount(this.state)}getDataList(){var{state:{selected:e,filteredData:t,showSelectedOnly:a},props:{data:n}}=this;return a&&e.length?Object.values(e.rows):t||n}createRowsDataMap(){var{data:e,dataKey:t}=this.props;this.rowsDataMap=e.reduce(((e,a)=>(e[a[t]]=a,e)),{})}setDefaultSelectedRows(){var{dataKey:e,defaultSelectedRows:t,onCheck:a}=this.props,n={rows:{},length:0};t.forEach((e=>{this.rowsDataMap[e]&&(n.rows[e]=this.rowsDataMap[e],n.length++)})),(0,l.VO0)(this.state.selected.rows).forEach((t=>{this.rowsDataMap[t[e]]&&!n.rows[t[e]]&&(n.rows[t[e]]=this.rowsDataMap[t[e]],n.length++)})),this._isMounted&&this.setState({selected:n},(()=>{a({selected:this.state.selected})}))}clearSelection(){var{onCheck:e}=this.props;this._isMounted&&this.setState({activeRow:0,mode:"neutral",selected:{rows:{},length:0},showSelectedOnly:!1},(()=>{e({selected:this.state.selected})}))}onKeyDownSelect(e){var{props:{dataKey:t,onEnterPressed:a,onCheck:n,singleRowCheck:r},state:{mode:i,activeRow:o,showSelectedOnly:l},list:s}=this;if("INPUT"!==e.target.tagName&&!l){var d={...this.state.selected};if(s.length){if(13===e.keyCode)return a&&a({rowData:s[o],index:o,event:e,mode:i});if(27===e.keyCode)return this.clearSelection();if(!r&&e.shiftKey&&38===e.keyCode){e.preventDefault();var c="select"!==i?o:Math.max(o-1,0),u="select"!==i?o:Math.min(o+1,s.length-1);return d.rows[s[c][t]]?(o===s.length-1||o&&!d.rows[s[u][t]])&&(delete d.rows[s[o][t]],d.length--):(d.rows[s[c][t]]=s[c],d.length++),this.setState({activeRow:c,mode:"select",selected:d},(()=>{n({selected:this.state.selected}),this.autoScrollIntoView({rowData:s[c]})}))}if(!r&&e.shiftKey&&40===e.keyCode){e.preventDefault();var p="select"!==i?o:Math.min(o+1,s.length-1),h="select"!==i?o:Math.max(o-1,0);return d.rows[s[p][t]]?o&&(o===s.length-1||d.rows[s[h][t]])||(delete d.rows[s[o][t]],d.length--):(d.rows[s[p][t]]=s[p],d.length++),this.setState({activeRow:p,mode:"select",selected:d},(()=>{n({selected:this.state.selected}),this.autoScrollIntoView({rowData:s[p]})}))}if(38===e.keyCode){e.preventDefault();var g="select"!==i?o:o-1>=0?o-1:0;return d.rows={},d.rows[s[g][t]]=s[g],d.length=1,this.setState({mode:"select",activeRow:g,selected:d},(()=>{n({selected:this.state.selected,rowData:s[g],checked:!0}),this.autoScrollIntoView({rowData:s[g]})}))}if(40===e.keyCode){e.preventDefault();var v="select"!==i?o:o+1<s.length?o+1:s.length-1;return d.rows={},d.rows[s[v][t]]=s[v],d.length=1,this.setState({mode:"select",activeRow:v,selected:d},(()=>{n({selected:this.state.selected,rowData:s[v],checked:!0}),this.autoScrollIntoView({rowData:s[v]})}))}}}}onShowSelectedOnly(){var{data:e}=this.props,{selected:t}=this.state;t.length!==e.length&&this.setState((e=>{var{showSelectedOnly:t}=e;return{showSelectedOnly:!t}}))}removeAllSelected(e){var t={...this.state.selected},{dataKey:a}=this.props;return e.forEach((e=>{t.rows[e[a]]&&(delete t.rows[e[a]],t.length--)})),t}addAllSelected(e){var t={...this.state.selected},{dataKey:a}=this.props;return e.forEach((e=>{t.rows[e[a]]||(t.rows[e[a]]=e,t.length++)})),t}onCheckAll(e){var{props:{singleRowCheck:t,onCheck:a},list:n}=this;if(!t){var r=T(n),i=e?this.removeAllSelected(r):this.addAllSelected(r);this.setState((e=>{var{showSelectedOnly:t}=e;return{activeRow:0,mode:"neutral",selected:i,showSelectedOnly:!!i.length&&t}}),(()=>{a({selected:i})}))}}onSingleCheckRow(e,t){var{selected:a}=this.state,{dataKey:n,onCheck:r,preventClearSelection:i}=this.props;a.rows[e[[n]]]?i||this.clearSelection():this.setState({mode:"select",activeRow:t,selected:{rows:{[e[n]]:e},length:1}},(()=>{r({rowData:e,checked:!0,selected:this.state.selected})}))}onCheck(e,t,a,n){var{singleRowCheck:r}=this.props;e.disabled||(r?this.onSingleCheckRow(e,t):this.onMultiRowCheck(e,t,a,n))}onMultiRowCheck(e,t,a,n){a.persist();var{props:{dataKey:r,onCheck:i},state:{activeRow:o},list:l}=this,s={...this.state.selected},d=n,c="select";a&&a.nativeEvent.shiftKey?(o<=t?l.slice(o,t+1):l.slice(t,o+1)).forEach((e=>{s.rows[e[r]]||(s.rows[e[r]]=e,s.length++)})):(s.rows[e[r]]?(delete s.rows[e[r]],s.length--):(s.rows[e[r]]=e,s.length++),d||s.length||(c="neutral"));this.setState((e=>{var{showSelectedOnly:a}=e;return{mode:c,selected:s,activeRow:s.length?t:0,showSelectedOnly:!!s.length&&a}}),(()=>{i({rowData:e,selected:s,checked:d,event:a})}))}handleRowClick(e,t,a){var{state:{mode:n,selected:r},props:{singleCheckOnRowClick:i,onRowClick:o,singleRowCheck:l},onCheck:s}=this;if((i||l)&&this.onSingleCheckRow(e,t),r.length&&void 0!==t)return s(e,t,a);this.autoScrollIntoView({rowData:e}),o&&o({rowData:e,index:t,mode:n,event:a})}autoScrollIntoView(e){var{rowData:t}=e,{props:{dataKey:a},rowRefs:n}=this;n[t[a]]&&n[t[a]].scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}rowRenderer(e){var{className:t,columns:a,index:n,key:r,rowData:i,style:o}=e,{props:{dataKey:l},state:{mode:s,activeRow:d,selected:c},rowRefs:u,handleRowClick:p}=this,h={"aria-rowindex":n+1,"aria-label":"row",tabIndex:0,onClick:e=>{p(i,n,e)}};return(0,y.createElement)("div",{ref:e=>u[i[l]]=e,...h,key:r,role:"row",style:o,className:"".concat(t," ").concat(c.rows[i[l]]?"selected checked":""," ").concat("neutral"!==s&&d===n?"active-row":""," ").concat(i.disabled?"no-hover disabled-row":"")},a)}getColumns(e,t){var{props:{columns:a,dataKey:n,singleRowCheck:r,disableSelectAll:i,disabledCheckboxTooltip:o,disableSelectRow:l,selectionLimit:s},state:{selected:d},onCheckAll:u,onCheck:p}=this;return[...r?[]:[{dataKey:"checkbox",width:37,className:"table-cell table-cell-checkbox",headerClassName:"table-cell-checkbox",headerRenderer:a=>{var{onChange:n}=a;return i||(0,c.isNotNilOrEmpty)(s)?null:(0,b.tZ)(f.Z,{checked:t,onChange:()=>u(t),disabled:!e.length})},cellRenderer:e=>{var{rowData:t,rowIndex:a}=e,r=!!d.rows[t[n]],i=t.disabled||l||!r&&d.length>=s;return i&&o?(0,b.tZ)(m.Z,{output:o,children:(0,b.tZ)(f.Z,{checked:!0,disabled:!0})}):(0,b.tZ)(f.Z,{checked:r,disabled:i,onChange:e=>p(t,a,e,e.target.checked)})}}],...a(this)]}dispatchCallback(e){var{type:t}=e;if(this._isMounted)switch(t){case"CLEAR_SELECTION":return void this.clearSelection();case"SELECT_ALL":return void this.onCheckAll();default:return}}onFilterChange(e,t){var{onFilter:a}=this.props;this._isMounted&&this.setState({filteredData:e,mode:"neutral"},(()=>{a&&a(t)}))}onSearchChange(e,t){var{onSearch:a}=this.props;this._isMounted&&this.setState({filterText:e,filteredData:t,mode:"neutral"},(()=>{a&&a([e,t])}))}filterData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,{filterTab:a}=this.state,{data:n,filterOptions:r,filterRowData:i,getDefaultFilters:s,searchable:c,filterTabs:u,filterRenderer:p}=this.props,h=e.trim().toLowerCase(),g=c&&h,v=t&&r&&i&&s&&!o()(t,s()),m=t&&u&&"all"!==a,f=t&&p&&i;return g||v||m||f?(0,l.hXT)((e=>{var n,r=v||f?null===i||void 0===i?void 0:i(e,t):!m||(null===(n=t[a])||void 0===n?void 0:n.find((t=>o()(e,t)))),l=!g||c.some((t=>(0,d.q9)(e,t,h)));return r&&l}),n):null}render(){var e,t,{state:{filterText:a,filteredData:n,showSelectedOnly:i,selected:o,loading:l},props:{id:d,sort:f,sortBy:y,sortDirection:E,noRowsRenderer:S,rowHeight:w,headerHeight:I,onSort:k,onScroll:_,onRowRightClick:x,onRowMouseOut:R,onRowMouseOver:A,onAction:Z,onOutsideClick:D,singleRowCheck:N,className:O,rowClassName:M,gridClassName:L,headerClassName:P,filtersSearchBarSingleRow:z,filtersContainerClassName:B,searchBarContainerClassName:W,dataKey:U,actions:F,data:K,onRowsRendered:H,hideResultCount:G,disableHeader:j,searchable:V,searchTooltipText:X,filters:q,filterRowData:Y,filterOptions:J,getDefaultFilters:$,customFilterActions:Q,searchRenderer:ee,actionsRenderer:te,disableActionList:ae,filterTabs:ne,filterRenderer:re,onHeaderClick:ie,resultLabelRenderer:oe,customTableRenderer:le},getColumns:se,getDataList:de,rowRenderer:ce,dispatchCallback:ue,onShowSelectedOnly:pe,onFilterChange:he,onSearchChange:ge,filterData:ve}=this,me=de(),fe=$&&$(),ye=T(me),be=ye.length>0&&!ye.some((e=>!o.rows[e[U]])),Te=se(me,be),Ce=X?"":"".concat((0,u.kIE)("Search by"),": ").concat(V.map((e=>{var t;return(0,u.kIE)(null!==(t=C[e])&&void 0!==t?t:e)})).join(", ")),Ee={id:d,list:me,columns:Te,sort:f,sortBy:y,sortDirection:E,rowRenderer:ce,noRowsRenderer:S,onSort:k,onScroll:_,onRowRightClick:x,onRowMouseOut:R,onRowMouseOver:A,rowHeight:w,headerHeight:I,className:O,rowClassName:M,gridClassName:L,headerClassName:P,onRowsRendered:H,disableHeader:j,onHeaderClick:ie,onSortedList:e=>this.list=e};return this.list=me,(0,b.tZ)(h.Z,{className:"flex-full display-flex flex-column table-container",handleClickOutside:e=>{D&&D(o,{dispatchCallback:ue,event:e})},children:(0,b.BX)(b.HY,{children:[l&&(0,b.tZ)("div",{className:"data-fetching-overlay"}),(0,b.BX)(g.xu,{display:"flex",flexDirection:z?"row":"column",children:[re?(0,b.tZ)(g.xu,{marginRight:"16px",children:re({handleFilter:e=>{he(ve(a,e),e)}})}):!!q&&!!J&&!!Y&&!!$&&(0,b.BX)(g.xu,{display:"flex",width:z?"auto":"100%",className:B,children:[(0,b.tZ)(p.ZP,{filters:q,filterOptions:J,defaultFilters:fe,onClearFilters:()=>{var e=ve(a,fe);he(e,fe)},onFilterChange:e=>{var t={...q,...e},n=ve(a,t);he(n,t)},className:"m-b-xs"}),Q&&Q()]}),ee?ee({...this.state,onFilterChange:he,onChange:e=>ge(e.target.value,ve(e.target.value,q))}):!!V.length&&(0,b.tZ)("div",{className:"position-relative m-b-sm ".concat(W),children:(0,b.BX)("div",{className:"position-relative display-flex align-items-center",children:[(0,b.tZ)(g.Fe,{position:"absolute",right:10,children:(0,b.tZ)(m.Z,{token:X,output:Ce})}),(0,b.tZ)(r.Z,{disabled:i,value:a,placeholder:(0,u.kIE)("Search"),style:{width:"100%",paddingRight:"35px"},onKeyDown:e=>{(0,c.isEnterKey)(e)&&e.preventDefault()},onChange:e=>{var{target:{value:t}}=e;ge(t,ve(t,q))}})]})})]}),ne&&(0,b.tZ)(s.mQ,{hidePanel:!0,tabs:[{labelToken:(0,u.eWj)("All"),value:"all",count:null!==(e=null===K||void 0===K?void 0:K.length)&&void 0!==e?e:0},...ne.map((e=>{var t,a;return{...e,count:null!==(t=null===q||void 0===q||null===(a=q[e.value])||void 0===a?void 0:a.length)&&void 0!==t?t:0}}))],onChange:e=>{var{value:t}=e;this.setState({filterTab:t},(()=>{he(ve(a,q))}))}}),(0,b.BX)("div",{className:"m-l-xs ".concat(ae?"m-b-xs":"list-actions m-b-sm"," ").concat(j?"m-b-xs":""),children:[!!n&&!G&&(0,b.tZ)("span",{className:"m-r-sm",children:me.length?(0,u.kIE)("{{results}} Result(s) in {{total}}",{results:me.length,total:K.length}):(0,u.kIE)("No results match")}),oe({filteredData:n,hideResultCount:G,data:K,selected:o,singleRowCheck:N,showSelectedOnly:i,onShowSelectedOnly:pe,id:d}),F.map((e=>{var t,{id:r,actionRenderer:i,token:s,label:d=(()=>null),className:c="",position:p="left"}=e,h=async t=>{this.setState({loading:!0}),await Z(e,o,{dispatchCallback:ue,event:t}),this._isMounted&&this.setState({loading:!1})};return null!==(t=null===i||void 0===i?void 0:i({action:e,onClick:h,filterText:a,filteredData:n,data:K,list:me,selected:o,dispatchCallback:ue}))&&void 0!==t?t:(0,b.tZ)("button",{type:"button",className:"btn-link ".concat("right"===p?"float-right m-l-sm":"m-r-sm"," ").concat(c),disabled:l,onClick:h,children:s?(0,u.kIE)(s):d()},r)})),te&&te({loading:l,selected:o,dispatchCallback:ue})]}),null!==(t=null===le||void 0===le?void 0:le(Ee))&&void 0!==t?t:(0,b.tZ)(v.Z,{...Ee})]})})}}E.defaultProps={dataKey:"id",rowHeight:45,headerHeight:45,className:"horizontal-tiles list-group",rowClassName:"table-row",headerClassName:"table-header",filtersSearchBarSingleRow:!1,defaultSelectedRows:[],actions:[],searchable:[],singleRowCheck:!1,preventClearSelection:!1,singleCheckOnRowClick:!1,hideResultCount:!1,disableHeader:!1,disableSelectAll:!1,disableSelectRow:!1,keepSelectionOnDataChange:!1,onAction:(e,t)=>{var{action:a}=e;return a(t)},onCheck:()=>{},resultLabelRenderer:e=>{var{filteredData:t,hideResultCount:a,data:n,selected:r,singleRowCheck:i,showSelectedOnly:o,onShowSelectedOnly:l,id:s}=e;return(0,b.BX)(b.HY,{children:[!t&&!a&&(0,b.BX)("span",{className:"m-r-sm",children:[n.length," ",1===n.length?(0,u.kIE)("Result"):(0,u.kIE)("Results")]}),!i&&!!r.length&&r.length===n.length&&(0,b.tZ)("span",{className:"m-r-sm",children:(0,u.kIE)("All {{selected}} Selected",{selected:n.length})}),!i&&!!r.length&&r.length!==n.length&&(0,b.BX)("button",{type:"button",className:"btn-link m-r-sm ".concat(o?"text-underline":""),onClick:l,children:[r.length," ",(0,u.kIE)("Selected")]},s)]})}};const S=E},19600:(e,t,a)=>{a.d(t,{fP:()=>i});var n=a(41554),r=a(12411),i=(0,n.Z)("div",{target:"e16wmukf3"})("font-style:italic;color:",r.colors.ninjaMedium,";");r.colors.ninjaMedium,r.colors.ninjaBlack,r.colors.ninjaMedium,r.colors.ninjaWhite,r.colors.ninjaLight},80013:(e,t,a)=>{a.d(t,{Z:()=>v});var n=a(41554),r=a(67009),i=a(55460),o=a(50176),l=a(8456),s=a(72542),d=a(75493),c=a(6775),u=a(77537),p=(0,n.Z)("div",{target:"e16vi7u52"})("border-radius:",l.default.borderRadius[1],";background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundSubtle}),";.drag-label{padding:",(0,i.Oy)(2,2,0,2),";color:",(e=>{var{theme:t}=e;return t.colorTextWeakest}),";}"),h=(0,n.Z)("div",{target:"e16vi7u51"})("flex:auto;max-height:",(e=>{var{maxHeight:t}=e;return null!==t&&void 0!==t?t:"initial"}),";min-height:",(e=>{var{minHeight:t}=e;return null!==t&&void 0!==t?t:"initial"}),";",(e=>{var{height:t}=e;return t&&"height: ".concat(t,";")})," padding:",l.default.spacing[2],";overflow-y:auto;cursor:",(e=>{var{isDisabled:t}=e;return!t&&"grab"}),";"),g=(0,n.Z)("div",{target:"e16vi7u50"})("display:flex;justify-content:space-between;align-items:center;padding:",(0,i.Oy)(2,4),";margin-top:",l.default.spacing[2],";border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeak}),";border-radius:",l.default.borderRadius[1],";background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundWidget}),";font-size:",l.default.typography.fontSize.body,";color:",(e=>{var{theme:t}=e;return t.colorTextWeak}),";&:hover{background-color:",(e=>{var{theme:t,isDisabled:a}=e;return!a&&t.colorForegroundHover}),';}div[draggable="true"]:first-of-type>&{margin-top:0;}&.dragging{cursor:grabbing;}');function v(e){var{dragLabel:t,keyProp:a="value",keyProps:n=[],elements:i,onChange:v,onRemoveElement:m,renderElement:f,renderActions:y,noRowsLabel:b,height:T,maxHeight:C,minHeight:E,listBottomRef:S,isDisabled:w,loading:I}=e;return(0,u.BX)(p,{children:[t&&(0,u.tZ)("div",{className:"drag-label",children:(0,u.tZ)(o.xv,{size:"xs",italic:!0,children:t})}),(0,u.BX)(h,{height:T,maxHeight:C,minHeight:E,isDisabled:w,children:[(0,u.tZ)(s.Z,{keyProp:a,keyProps:n,elements:i,onChange:v,isDisabled:w,noRowsLabel:b,onRemoveElement:m,loading:I,renderElement:(e,t,i,s)=>{var{isRemovable:p=!0}=e;return(0,u.BX)(g,{className:i?"dragging":"",tabIndex:-1,isDisabled:w,children:[(0,u.BX)(d.kC,{alignItems:"center",flex:"1",minWidth:"1px",minHeight:"32px",children:[(0,u.tZ)(d.xu,{marginRight:l.default.spacing[3],children:!w&&(0,u.tZ)(r.GripLinesIcon,{size:"sm",color:"colorTextWeak"})}),(0,u.tZ)(d.xu,{flex:"1",minWidth:"1px",children:f(e)})]}),(0,u.BX)(d.kC,{children:[null===y||void 0===y?void 0:y(e,s),p&&!w&&(0,u.tZ)(o.hU,{size:"sm",handleClick:r=>{var i;a&&(i=e[a]),null!==n&&void 0!==n&&n.length&&n.forEach((t=>{(0,c.isNotNilOrEmpty)(e[t])&&(i=e[t])})),t(r,i,e)},children:(0,u.tZ)(r.RemoveIcon,{color:"colorTextWeak"})})]})]})}}),(0,u.tZ)("div",{ref:S})]})]})}},46972:(e,t,a)=>{a.d(t,{$_:()=>n.$_,AF:()=>n.AF,Cg:()=>n.Cg,Dh:()=>n.Dh,FK:()=>n.FK,GQ:()=>n.GQ,Mr:()=>n.Mr,bK:()=>n.bK,cp:()=>n.cp,eC:()=>n.eC,x9:()=>n.x9});var n=a(67707);a(81427)},70222:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(4519),r=(a(58385),a(64912)),i=a.n(r),o=a(6775),l=a(77537);class s extends n.Component{componentDidMount(){this.switchery=new(i())(this.switch,{color:"#337ab7",size:this.props.size||"small",speed:"0.0s"}),this.switch.onchange=this.handleChange.bind(this)}componentWillUnmount(){this.switch.onchange=null,this.switchery.destroy()}componentDidUpdate(e){var t,a,n,r,i=null!==(t=null===(a=this.props)||void 0===a||null===(n=a.checked)||void 0===n?void 0:n.call(a))&&void 0!==t?t:null;(0,o.isNotNil)(i)&&i!==(null===e||void 0===e||null===(r=e.checked)||void 0===r?void 0:r.call(e))&&this.switch&&(this.switch.checked=i,this.switch.dispatchEvent(new CustomEvent("change")))}async handleChange(e){this.props.toggleWarning?await this.props.toggleWarning(!this.switch.checked)?this.props.onChange(this.switch.checked):(this.switch.checked=!this.switch.checked,this.switch.dispatchEvent(new CustomEvent("change"))):this.props.onChange(this.switch.checked)}render(){return(0,l.tZ)("input",{type:"checkbox",defaultChecked:this.props.defaultChecked||!1,disabled:this.props.disabled,ref:e=>{this.switch=e}})}}},71936:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(41554),r=a(26155),i=a(13904),o=a.n(i),l=a(32992),s=a.n(l),d=a(37495),c=a(8326),u=a(91108),p=a(34928),h=a(77537),g=["id","placement","positionTop","positionLeft","arrowOffsetTop","arrowOffsetLeft","bsClass"],v=(0,n.Z)(o(),{shouldForwardProp:e=>(0,u.default)(e)||g.includes(e),target:"e48g8ns0"})(".tooltip-inner{max-width:",(e=>{var{tooltipMaxWidth:t}=e;return null!==t&&void 0!==t?t:"200px"}),";text-align:",(e=>{var{tooltipTextAlign:t}=e;return null!==t&&void 0!==t?t:"center"}),";}&&&{",(e=>{var{hideTooltip:t}=e;return t&&"visibility: hidden;"}),";}");function m(e){var{id:t,placement:a,children:n,token:i,className:o,iconClassName:l,output:u,transform:g,textCss:m,tooltipMaxWidth:f,tooltipTextAlign:y,hideTooltip:b,delay:T}=e;return(0,h.tZ)(s(),{delay:T,placement:a||"top",overlay:(0,h.tZ)(v,{id:t||"tooltip-top",tooltipMaxWidth:f,tooltipTextAlign:y,hideTooltip:b,children:i?(0,h.tZ)("span",{css:(0,r.css)(m,""),className:o,children:(0,p.kIE)(i)}):(0,h.tZ)("span",{css:(0,r.css)(m,""),className:"break-word ".concat(o),children:u})}),...b&&{animation:!1},children:n||(0,h.tZ)(d.G,{icon:c.sqG,className:"m-l-sm ".concat(l),transform:g})})}},79334:(e,t,a)=>{a.d(t,{Z:()=>u});a(4519);var n=a(48096),r=a(58064),i=a(50176),o=a(55460),l=a(6775),s=a(75493),d=a(77537),c=[{value:"INCLUDE_ALL_VOLUMES",label:(0,l.localizedF)("All Volumes"),checkList:"INCLUDE",volumeName:"ALL_VOLUMES"},{value:"INCLUDE_BOOT_VOLUME",label:(0,l.localizedF)("Boot Volume"),checkList:"INCLUDE",volumeName:"BOOT_VOLUME"},{value:"EXCLUDE_BOOT_VOLUME",label:(0,l.localizedF)("Excluding Boot Volume"),checkList:"EXCLUDE",volumeName:"BOOT_VOLUME"},{value:"EXCLUDE_BOOT_AND_RECOVERY_VOLUMES",label:(0,l.localizedF)("Excluding Boot & Recovery Volumes"),checkList:"EXCLUDE",volumeName:"BOOT_AND_RECOVERY_VOLUMES"}];function u(e){var{onChange:t,values:{volumeName:a,checkList:u},validation:p}=e;return(0,d.BX)(d.HY,{children:[(0,d.tZ)(s.xu,{margin:(0,o.Oy)(2,0,1),children:(0,d.tZ)(i.xv,{bold:!0,size:"sm",token:(0,l.localizationKey)("Parameters")})}),(0,d.tZ)(n.ZP,{getOptionLabel:e=>{var{label:t}=e;return t()},options:c,id:"defragOptions",value:c.find((0,r.goX)({volumeName:a,checkList:u})),onChange:e=>{t({volumeName:e.volumeName,checkList:e.checkList})}})]})}},36152:(e,t,a)=>{a.d(t,{Z:()=>u});a(4519);var n=a(48096),r=a(58064),i=a(50176),o=a(55460),l=a(6775),s=a(75493),d=a(77537),c=[{value:!1,label:(0,l.localizedF)("Disable")},{value:!0,label:(0,l.localizedF)("Enable")}];function u(e){var{onChange:t,values:{enabled:a}}=e;return(0,d.BX)(d.HY,{children:[(0,d.tZ)(s.xu,{margin:(0,o.Oy)(2,0,1),children:(0,d.tZ)(i.xv,{bold:!0,size:"sm",token:(0,l.localizationKey)("State")})}),(0,d.tZ)(n.ZP,{getOptionLabel:e=>{var{label:t}=e;return t()},options:c,id:"mediaOptions",value:c.find((0,r.OH4)("value",a)),onChange:e=>t("enabled",e.value)})]})}},79286:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(41554),r=a(58064),i=a(50176),o=a(55460),l=a(67009),s=a(6775),d=a(75493),c=a(65689),u=a(28551),p=a(11734),h=a(77537),g=(0,n.Z)("div",{target:"eluupmz1"})("height:400px;padding:",(0,o.Oy)(0,2,2,2),";border-radius:",(0,o.Oy)(0,0,1,1),";background-color:",(e=>{var{theme:t}=e;return t.color.black["005"]}),";overflow-y:auto;"),v=(0,n.Z)("div",{target:"eluupmz0"})("height:",(0,o.Oy)(4),";border-radius:",(0,o.Oy)(1,1,0,0),";background-color:",(e=>{var{theme:t}=e;return t.color.black["005"]}),";");const m=e=>{var{scriptVariables:t=[],onChange:a,validation:n,values:m}=e,f=e=>{var[t,n]=(0,r.YMb)(Object.entries(e)),i="scriptVariables.".concat(t);a(i,n)},y=e=>{var{name:t,type:a,description:n,required:r}=e;return(0,h.BX)(d.kC,{gap:(0,o.Oy)(2),alignItems:"center",children:[(0,h.BX)(i.xv,{size:"sm",children:[t,"CHECKBOX"!==a&&r?" *":""]}),n&&(0,h.tZ)(i.u,{label:(0,s.localized)(n),children:(0,h.tZ)(l.RegularInfoCircleIcon,{size:"sm"})})]})},b=(0,r.YMb)((0,p.nX)(n.message));return(0,h.tZ)(h.HY,{children:t.length>0&&(0,h.BX)(h.HY,{children:[(0,h.tZ)(v,{}),(0,h.tZ)(g,{children:t.map((e=>{var t,a,r,l,p,g,v,b,T,C,E,S,w,I,k,_=(0,h.tZ)(h.HY,{}),x=e.calculatedName,R=m.scriptVariables[x];switch(e.type){case"TEXT":_=(0,h.tZ)(i.II,{value:R,ariaLabel:(0,s.localized)("Text field"),onChange:e=>f({[x]:(0,c.vC)(e.target.value)}),placeholder:(0,s.localized)("Add Value"),errorMessage:null===(t=n.message)||void 0===t||null===(a=t.scriptVariables)||void 0===a?void 0:a[x]});break;case"INTEGER":_=(0,h.tZ)(i.II,{value:R,ariaLabel:(0,s.localized)("Integer field"),onChange:e=>{f({[x]:(0,c.vh)(e.target.value)})},placeholder:(0,s.localized)("Enter Integer Value"),type:"number",onKeyDown:e=>{c.qF.includes(e.key)&&e.preventDefault()},onPaste:e=>{var t;e.preventDefault();var a=(0,c.vh)(null===(t=e.clipboardData)||void 0===t?void 0:t.getData("Text"));f({[x]:a})},errorMessage:null===(r=n.message)||void 0===r||null===(l=r.scriptVariables)||void 0===l?void 0:l[x]});break;case"DECIMAL":_=(0,h.tZ)(i.II,{value:R,ariaLabel:(0,s.localized)("Decimal field"),step:"0.1",onChange:e=>{f({[x]:(0,c.Xh)(e.target.value)})},placeholder:(0,s.localized)("Enter Decimal Value"),type:"number",onKeyDown:e=>{c.jW.includes(e.key)&&e.preventDefault()},onPaste:e=>{var t;e.preventDefault();var a=(0,c.Xh)(null===(t=e.clipboardData)||void 0===t?void 0:t.getData("Text"));f({[x]:a})},errorMessage:null===(p=n.message)||void 0===p||null===(g=p.scriptVariables)||void 0===g?void 0:g[x]});break;case"CHECKBOX":_=(0,h.tZ)(d.xu,{margin:(0,o.Oy)(3,0,0,0),children:(0,h.tZ)(i.XZ,{label:y(e),checked:!!R,onChange:()=>f({[x]:!R}),fontWeight:500})});break;case"DATE":_=(0,h.tZ)(u.x,{className:"dateTimePicker",value:R,ariaLabel:(0,s.localized)("Date value"),onChange:e=>f({[x]:String(e)}),validationError:null===(v=n.message)||void 0===v||null===(b=v.scriptVariables)||void 0===b?void 0:b[x],mandatory:e.required,allowPastDates:!0,isoFormat:!0});break;case"DATETIME":_=(0,h.tZ)(u.x,{className:"dateTimePicker",timeFormat:!0,value:R,ariaLabel:(0,s.localized)("Date and time value"),onChange:e=>f({[x]:String(e)}),validationError:null===(T=n.message)||void 0===T||null===(C=T.scriptVariables)||void 0===C?void 0:C[x],mandatory:e.required,allowPastDates:!0,isoFormat:!0});break;case"DROPDOWN":var A=null===(E=e.valueList)||void 0===E?void 0:E.map((e=>({value:e,labelText:e})));_=(0,h.tZ)(i.Ph,{matchWidth:!0,options:A,value:R,triggerAriaLabel:(0,s.localized)("Dropdown field"),onChange:e=>f({[x]:e}),labelRenderer:()=>R?(0,h.tZ)(i.xv,{size:"sm",children:R}):(0,h.tZ)(i.xv,{size:"sm",color:{code:"black",shade:"065"},token:(0,s.localizationKey)("Select Value")}),errorMessage:null===(S=n.message)||void 0===S||null===(w=S.scriptVariables)||void 0===w?void 0:w[x]});break;case"IPADDRESS":_=(0,h.tZ)(i.II,{value:R,"data-testid":x,ariaLabel:(0,s.localized)("IP Address field"),onChange:e=>{f({[x]:e.target.value.replace(/[^\d.]/gi,"")})},placeholder:(0,s.localized)("Enter IP Address Value"),errorMessage:null===(I=n.message)||void 0===I||null===(k=I.scriptVariables)||void 0===k?void 0:k[x]})}var{name:Z,type:D,description:N,required:O}=e;return(0,h.BX)(d.xu,{marginBottom:(0,o.Oy)(3),children:["CHECKBOX"!==e.type&&(0,h.tZ)(y,{name:Z,type:D,description:N,required:O}),_]},x)}))}),(0,h.tZ)(d.xu,{marginTop:3,children:b&&(0,h.tZ)(i.g7,{variant:"danger",children:(0,s.localized)(b)})})]})})}},45059:(e,t,a)=>{a.d(t,{Z:()=>u});a(4519);var n=a(48096),r=a(58064),i=a(50176),o=a(55460),l=a(6775),s=a(75493),d=a(77537),c=[{value:!0,label:(0,l.localizedF)("Turn On")},{value:!1,label:(0,l.localizedF)("Turn Off")}];function u(e){var{onChange:t,values:{enabled:a}}=e;return(0,d.BX)(d.HY,{children:[(0,d.tZ)(s.xu,{margin:(0,o.Oy)(2,0,1),children:(0,d.tZ)(i.xv,{bold:!0,size:"sm",token:(0,l.localizationKey)("Action")})}),(0,d.tZ)(n.ZP,{getOptionLabel:e=>{var{label:t}=e;return t()},id:"systemRestoreOptions",options:c,value:c.find((0,r.OH4)("value",a)),onChange:e=>t("enabled",e.value)})]})}},16670:(e,t,a)=>{a.d(t,{Z:()=>f});var n=a(41554),r=a(4519),i=a(58064),o=a(50176),l=a(44164),s=a(55460),d=a(6775),c=a(25835),u=a(48096),p=a(48548),h=a(75493),g=a(77537),v=[{value:!0,label:(0,d.localizedF)("Start")},{value:!1,label:(0,d.localizedF)("Stop")}],m=(0,n.Z)("div",{target:"emw3vqt0"})("margin:",(0,s.Oy)(2,0,1),";");function f(e){var{onChange:t,validateForm:a,validation:n,values:{start:s,serviceName:f}}=e,[y,b]=(0,p.DJ)([]),[T,C]=(0,p.DJ)(!1),E=(0,l.u)();(0,r.useEffect)((()=>{(async()=>{try{C(!0);var e=await(0,d.fetchJson)("/webapp/winservice");if("SUCCESS"!==e.resultCode)throw new c.Kf(e);var t=(0,i.qCK)((0,d.sortByFieldNameCaseInsensitive)("label","ASC"),(0,i.UID)((e=>({value:e.serviceName,label:"".concat(e.displayName," (").concat(e.serviceName,")")}))))(e.windowsServices);b(t)}catch(a){throw(0,d.showErrorMessage)((0,d.localized)("Windows Services could not load")),a}finally{C(!1)}})()}),[C,b]);var S=y.find((0,i.OH4)("value",f));return(0,g.BX)(g.HY,{children:[(0,g.tZ)(m,{children:(0,g.tZ)(o.xv,{bold:!0,size:"sm",token:(0,d.localizationKey)("Service"),...!1===n.success.serviceName&&{color:E.color.red}})}),(0,g.tZ)(u.ZP,{hideSelectedOptions:!0,isClearable:!0,isSearchable:!0,onBlur:()=>{a(["serviceName"])},onChange:e=>t({serviceName:null===e||void 0===e?void 0:e.value,displayName:null===e||void 0===e?void 0:e.label}),getOptionLabel:e=>{var{value:t,label:a}=e;return t===(null===S||void 0===S?void 0:S.value)?t:a},options:y,value:S||"",placeholder:T?(0,d.localized)("Loading"):""}),(0,g.tZ)(h.Fe,{color:E.color.red,children:!1===n.success.serviceName&&n.message.serviceName}),(0,g.tZ)(m,{children:(0,g.tZ)(o.xv,{bold:!0,size:"sm",token:(0,d.localizationKey)("Action")})}),(0,g.tZ)(u.ZP,{getOptionLabel:e=>{var{label:t}=e;return t()},options:v,id:"windowsServiceStartOptions",value:v.find((0,i.OH4)("value",s)),onChange:e=>t("start",e.value)})]})}},98331:(e,t,a)=>{a.d(t,{U:()=>r,l:()=>n});var n={id:"create-product"},r={id:"edit-product"}},80182:(e,t,a)=>{a.d(t,{A_:()=>ke,Nd:()=>_e,WN:()=>Ze,Nb:()=>Ie,hf:()=>xe,IT:()=>Ce,mj:()=>Te,bW:()=>be});var n=a(50176),r=a(6775),i=a(4519),o=a(91386),l=a.n(o),s=a(55460),d={onChange:l().func.isRequired,values:l().object.isRequired,validation:l().object.isRequired,disabled:l().bool,enabledFields:l().objectOf(l().bool),fieldLabelTokens:l().objectOf(l().string),fieldTooltipInfoTokens:l().objectOf(l().string),useDynamicQuantity:l().bool,showDynamicQuantityValue:l().bool},c={...d,name:l().string.isRequired,nameToken:l().string,mandatory:l().bool},u=(l().arrayOf(l().shape({labelText:l().string.isRequired,value:l().oneOfType([l().string,l().number]).isRequired})),(0,s.Oy)(3),e=>{var{name:t,enabledFields:a}=e;return!!a&&!a[t]}),p=a(8456),h=a(75493),g=a(77537);const v=(0,i.memo)((e=>{var t,a,{onChange:i,values:o,validation:l,disabled:s=!1,options:d,name:c,nameToken:u,isMulti:v=!1,marginTop:m=p.default.spacing[3],mandatory:f=!1,getValue:y}=e,b="psa-product-".concat(c,"-label"),T=null===l||void 0===l||null===(t=l.message)||void 0===t?void 0:t[c],C=null!==(a=null===y||void 0===y?void 0:y())&&void 0!==a?a:o[c],E=e=>{i(c,e)},S=v?(0,g.tZ)(n.Vc,{isMulti:!0,required:f,width:"100%",options:d,value:C,onChange:E,disabled:s,errorMessage:T,labelText:(0,r.localized)(u)}):(0,g.tZ)(n.Ph,{labelId:b,options:d,value:C||null,onChange:E,disabled:s,required:f,errorMessage:T,labelText:(0,r.localized)(u),triggerAriaLabel:(0,r.localized)(u)});return(0,g.tZ)(h.xu,{marginTop:m,children:S})}));var m=a(27225);const f=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:o}=e,l=(0,i.useMemo)((()=>m._L.map((e=>{var{value:t,labelF:a}=e;return{value:t,labelText:a()}}))),[]);return(0,g.tZ)(v,{onChange:t,values:a,validation:n,disabled:u({name:"autoRoundTimeEntries",enabledFields:o}),options:l,name:"autoRoundTimeEntries",nameToken:(0,r.localizationKey)("Auto round time entries")})}));var y=a(34928);const b=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:r}=e;return(0,g.tZ)(v,{onChange:t,values:a,validation:n,disabled:u({name:"billing",enabledFields:r}),options:(0,m.F4)(),name:"billing",nameToken:(0,y.eWj)("Billing")})}));var T=a(58064),C=a(80687),E=(0,T.gxm)((0,T.qCK)((e=>(0,T.gt)(e,m.PK)),(e=>Number(e))),(0,T.Bxt)(m.PK));const S=e=>{var{id:t,onChange:a,value:r,disabled:o=!1,placeholder:l,decimalPlaces:s=2,isInteger:d=!1,language:c,removeTrailingZeros:u=!1,currency:p,labelToken:h,errorMessage:v,mandatory:m}=e,[f,y]=(0,i.useState)(""),[b,T]=(0,i.useState)(!1),{language:S,decimalSeparator:w,decimalPlaces:I,validNumberRegExp:k}=(0,i.useMemo)((()=>(e=>{var{_language:t,_decimalPlaces:a,isInteger:n}=e,r=(0,C.Cx)(t),i=(0,C.Yz)(r),o=n?0:a,l=n?"":"(\\".concat(i,"\\d{0,").concat(o,"})?");return{language:r,decimalPlaces:o,decimalSeparator:i,validNumberRegExp:new RegExp("^-?([1-9]\\d*|0)".concat(l,"$"))}})({_decimalPlaces:s,_language:c,isInteger:d})),[c,s,d]);return(0,g.tZ)(n.II,{...t&&{id:t},...l&&{placeholder:l},labelToken:h,errorMessage:v,onBeforeInput:e=>{var t=(0,C.CM)(e);(0,C.cS)({targetValue:t,decimalSeparator:w})||k.test(t)||e.preventDefault()},disabled:o,onBlur:()=>{T(!1)},onFocus:()=>{T(!0),y((0,C.u$)({numericValue:r,decimalSeparator:w}))},required:m,value:b?f:(0,C.NY)({value:r,language:S,decimalPlaces:I,removeTrailingZeros:u,currency:p}),onChange:e=>{var{target:{value:t}}=e;if(!o&&a){if((0,C.cS)({targetValue:t,decimalSeparator:w}))return a(""),void y(t);var{numericValue:n,changed:r}=(0,C.n5)({targetValue:t,decimalSeparator:w}),i=E(n);a(i),y(r?i:t)}}})};var w=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,disabled:i=!1,name:o,nameToken:l,placeholderToken:s,mandatory:d,currency:c="USD"}=e,u="psa-product-".concat(o),v=n.message[o];return(0,g.tZ)(h.xu,{marginBottom:p.default.spacing[3],children:(0,g.tZ)(S,{id:u,labelToken:l,disabled:i,currency:c,errorMessage:v,mandatory:d,onChange:e=>{t(o,e)},value:a[o],decimalPlaces:m.Zl,placeholder:(0,r.localized)(s)})})}));w.propType=c;const I=w;const k=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:r,currency:i}=e;return(0,g.tZ)(I,{onChange:t,values:a,validation:n,disabled:u({name:"cost",enabledFields:r}),name:"cost",nameToken:(0,y.eWj)("Cost"),placeholderToken:(0,y.eWj)("Enter cost"),mandatory:!0,currency:i})}));var _=a(41554);var x=(0,_.Z)(n.II,{target:"erq5d1a0"})({name:"1gbdh31",styles:"height:120px;resize:none"});const R=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:r,fieldTooltipInfoTokens:i}=e,o=n.message.description,l=(0,y.eWj)("Description"),s=null===i||void 0===i?void 0:i.description,d=(0,y.kIE)("Enter description");return(0,g.tZ)(h.xu,{marginBottom:p.default.spacing[3],children:(0,g.tZ)(x,{required:!0,_isTextArea:!0,id:"psa-product-description",resize:"vertical",ariaLabel:l,labelToken:l,placeholder:d,errorMessage:o,value:a.description,onChange:e=>t({description:e.target.value}),maxLength:250,disabled:u({name:"description",enabledFields:r}),tooltipText:(0,y.kIE)(s)})})}));const A=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:r}=e;return(0,g.tZ)(v,{onChange:t,values:a,validation:n,disabled:u({name:"licensingType",enabledFields:r}),options:(0,m.uF)(),name:"licensingType",nameToken:(0,y.eWj)("Licensing")})}));var Z=e=>{var{onChange:t,values:a,validation:n,disabled:i=!1,name:o,nameToken:l}=e,s="psa-product-".concat(o),d=n.message[o];return(0,g.tZ)(S,{errorMessage:d,mandatory:!0,id:s,onChange:e=>{t(o,e)},value:a[o],disabled:i,decimalPlaces:m.WN,labelToken:(0,r.localized)(l),placeholder:(0,r.localized)(l),removeTrailingZeros:!0})},D=[{name:"onSiteMultiplier",nameToken:(0,r.localizationKey)("Onsite multiplier")},{name:"remoteMultiplier",nameToken:(0,r.localizationKey)("Remote multiplier")},{name:"normalHoursMultiplier",nameToken:(0,r.localizationKey)("Normal hours multiplier")},{name:"offHoursMultiplier",nameToken:(0,r.localizationKey)("Off-hours multiplier")}];const N=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:r}=e;return D.map((e=>{var{name:i,nameToken:o}=e;return(0,g.tZ)(h.xu,{marginTop:p.default.spacing[3],children:(0,g.tZ)(Z,{onChange:t,values:a,validation:n,disabled:u({name:i,enabledFields:r}),name:i,nameToken:o})},i)}))}));const O=(0,i.memo)((e=>{var t,{onChange:a,values:r,validation:i,enabledFields:o,fieldLabelTokens:l}=e,s=i.message.name,d=null!==(t=null===l||void 0===l?void 0:l.name)&&void 0!==t?t:(0,y.eWj)("Name");return(0,g.tZ)(h.xu,{marginBottom:p.default.spacing[3],children:(0,g.tZ)(n.II,{required:!0,id:"psa-product-name",type:"text",errorMessage:s,labelToken:d,ariaLabel:(0,y.kIE)(d),placeholder:(0,y.kIE)("Enter name"),value:r.name,onChange:e=>a({name:e.target.value}),maxLength:50,disabled:u({name:"name",enabledFields:o})})})}));const M=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:r,currency:i}=e;return(0,g.tZ)(I,{onChange:t,values:a,validation:n,disabled:u({name:"price",enabledFields:r}),name:"price",nameToken:(0,y.eWj)("Price"),placeholderToken:(0,y.eWj)("Enter price"),mandatory:!0,currency:i})}));var L=a(97634),P=a(25003),z=a(16041);const B=(0,i.memo)((e=>{var{onChange:t,values:a,validation:i,disabled:o=!1,name:l,nameToken:s,step:d,min:c,max:u=z.P6,mandatory:v}=e,m=i.message[l],f=(0,r.localized)(s);return(0,g.tZ)(h.xu,{marginTop:p.default.spacing[3],children:(0,g.tZ)(n.vF,{step:d,min:c,max:u,required:v,ariaLabel:f,labelText:f,value:a[l],disabled:o,error:m,onChange:e=>t({[l]:e>u?u:e})})})}));const W=(0,i.memo)((e=>{var{id:t,nameToken:a,name:r,onChange:i,values:o,validation:l,mandatory:s=!1,disabled:d=!1,maxLength:c=50}=e,u=l.message[r];return(0,g.tZ)(h.xu,{marginTop:p.default.spacing[3],children:(0,g.tZ)(n.II,{id:t,required:s,labelToken:a,placeholder:(0,y.kIE)(a),value:o[r],onChange:e=>i({[r]:e.target.value}),maxLength:c,disabled:d,errorMessage:u})})}));var U="ninja-psa-quantity";const F=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:o,fieldLabelTokens:l,productInfo:s,useDynamicQuantity:d,showDynamicQuantityValue:c,editDynamicQuantity:p}=e,{_values:h,disableQuantity:v}=(0,i.useMemo)((()=>{if(!d||!s)return{_values:{quantity:a.quantity},disableQuantity:!1};var{value:e,shouldDisable:t}=(e=>{var{productInfo:t,quantity:a,showDynamicQuantityValue:n,editDynamicQuantity:i}=e,{type:o}=t,l=P.H[o];return l===P.C.DYNAMIC?{value:n&&!(0,T.kKJ)(a)||i?null!==a&&void 0!==a?a:"":(0,r.localized)("Dynamically calculated"),shouldDisable:!i&&(0,L.F)(l)}:{value:(0,r.defaultToEmpty)((0,L.q)(l,a)),shouldDisable:(0,L.F)(l)}})({productInfo:s,quantity:a.quantity,showDynamicQuantityValue:c,editDynamicQuantity:p});return{_values:{quantity:e},disableQuantity:t}}),[s,a.quantity,d,c,p]);return v?(0,g.tZ)(W,{id:U,nameToken:(null===l||void 0===l?void 0:l.quantity)||(0,r.localizationKey)("Quantity"),name:"quantity",onChange:t,values:h,validation:n,mandatory:!0,disabled:!0,maxLength:250}):(0,g.tZ)(B,{id:U,onChange:t,values:h,validation:n,disabled:u({name:"quantity",enabledFields:o}),name:"quantity",nameToken:(null===l||void 0===l?void 0:l.quantity)||(0,r.localizationKey)("Quantity"),step:1,min:0,max:m.KR,mandatory:!0})}));const K=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:r,currency:i}=e;return(0,g.tZ)(I,{onChange:t,values:a,validation:n,disabled:u({name:"price",enabledFields:r}),name:"price",nameToken:(0,y.eWj)("Retail price"),placeholderToken:(0,y.eWj)("Enter retail price"),mandatory:!0,currency:i})}));const H=(0,i.memo)((e=>{var{onChange:t,values:a,disabled:i=!1,name:o,nameToken:l,mandatory:s}=e,d="psa-product-".concat(o);return(0,g.tZ)(n.XZ,{id:d,checked:a[o],disabled:i,onChange:()=>t(o,!a[o]),label:(0,r.localized)(l),ariaLabel:(0,r.localized)(l)})}));var G=(0,i.memo)((e=>{var{enabledFields:t,...a}=e;return(0,g.tZ)(H,{...a,name:"taxable",nameToken:(0,y.eWj)("Taxable"),disabled:u({name:"taxable",enabledFields:t})})}));G.propTypes=d;const j=G;const V=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:r}=e;return(0,g.tZ)(v,{onChange:t,values:a,validation:n,disabled:u({name:"term",enabledFields:r}),options:(0,m.r3)(),name:"term",nameToken:(0,y.eWj)("Term")})}));var X=a(24331),q=a(80013),Y=a(19600),J=a(67566),$=new Set([J.M5.HARDWARE,J.M5.SOFTWARE,J.M5.LABOR_BILLED]);const Q=(0,i.memo)((e=>{var{onChange:t,values:a,validation:o,enabledFields:l,products:s=[]}=e,d="productIds",{groupProductOptions:c,optionsMap:v}=(0,i.useMemo)((()=>{var e={};return{groupProductOptions:(0,r.sortByFieldNameCaseInsensitive)("label","ASC",(0,T.u4g)(((t,a)=>{if($.has(a.type)){var n={value:a.id,label:a.name,isActive:a.isActive};t.push(n),e[n.value]=n}return t}),[],s)),optionsMap:e}}),[s]),m=a[d],f=new Set(m),y=m.map((e=>v[e]||{value:e,label:(0,r.localized)("Deleted")})),b=c.filter((e=>e.isActive&&!f.has(e.value))),C=u({name:d,enabledFields:l}),E=o.message[d]?"error":null;return(0,g.BX)(h.xu,{children:[(0,g.BX)(n.xv,{color:"colorTextStrong",type:"body",children:[(0,r.localized)("Products"),(0,g.tZ)("span",{"aria-hidden":"true",children:"*"})]}),!C&&(0,g.tZ)(h.xu,{marginTop:p.default.spacing[1],padding:"0 2px 0 2px",children:(0,g.tZ)(X.Z,{useSelectStyling:!0,width:"100%",value:null,ariaAttributes:{"aria-label":(0,r.localized)("Products")},searchPlaceholderToken:(0,r.localized)("Add product to group..."),valueRenderer:()=>(0,g.tZ)(n.xv,{color:"colorTextWeakest",type:"body",children:(0,r.localized)("Add product to group...")}),options:b,onSelect:e=>t(d,[...m,e.value]),validationState:E,errorMessage:o.message[d]})}),(0,g.BX)(h.xu,{marginTop:p.default.spacing[1],children:[!C&&(0,g.tZ)(h.xu,{marginTop:p.default.spacing[2],marginBottom:p.default.spacing[2],children:(0,g.tZ)(Y.fP,{children:(0,r.localized)("Drag products to arrange order")})}),(0,g.tZ)(q.Z,{keyProp:"value",elements:y,onChange:e=>t(d,e.map((e=>e.value))),onRemoveElement:e=>t(d,m.filter((t=>t!==e))),renderElement:e=>(0,g.tZ)("span",{children:e.label}),isDisabled:C,height:"370px",fadeAtBottom:!0})]})]})}));var ee=(e,t)=>e.map((e=>({...e,disabled:t})));const te=(0,i.memo)((e=>{var{onChange:t,values:a,options:i,name:o,disabled:l=!1,nameToken:s}=e;return(0,g.tZ)(n.Ee,{ariaLabel:(0,r.localized)(s),options:ee(i,l),onValueChange:e=>t(o,e),value:a[o]})}));const ae=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:i}=e;return(0,g.tZ)(h.xu,{marginTop:p.default.spacing[3],children:(0,g.tZ)(te,{onChange:t,values:a,validation:n,disabled:u({name:"allGroups",enabledFields:i}),name:"allGroups",options:[{value:m.lv.any,label:(0,r.localized)("Any group"),description:(0,r.localized)("Rules will be applied to devices in any of the selected groups.")},{value:m.lv.all,label:(0,r.localized)("All groups"),description:(0,r.localized)("Rules will be applied to devices in all of the selected groups.")}]})})}));var ne="matchAllRoles";const re=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:i}=e;return(0,g.tZ)(h.xu,{marginTop:p.default.spacing[3],children:(0,g.tZ)(te,{name:ne,onChange:t,values:a,validation:n,disabled:u({name:ne,enabledFields:i})||a.anyRole,options:[{value:m.lv.any,label:(0,r.localized)("Any specified role"),description:(0,r.localized)("If an end user has any of the specified roles in the multi-select this should increment the count.")},{value:m.lv.all,label:(0,r.localized)("All specified roles"),description:(0,r.localized)("Only if an end user has all of the specified roles in the multi-select this should increment the count.")}]})})}));const ie=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:i,userRolesData:o}=e;return(0,g.tZ)(v,{isMulti:!0,name:"userRoles",onChange:(e,a)=>{t(e,(0,T.UID)((e=>o.optionsMap[e].role),a))},values:a,validation:n,disabled:u({name:"userRoles",enabledFields:i}),options:o.options,nameToken:(0,r.localizationKey)("Application user roles"),getValue:()=>{var e;return null===(e=a.userRoles)||void 0===e?void 0:e.map((e=>{var{id:t,type:a}=e;return t||a}))}})}));var oe="nodeRoles";const le=(0,i.memo)((e=>{var{onChange:t,values:a,validation:r,enabledFields:o,options:l,validateFormFields:s}=e,[d,c]=(0,i.useState)(a[oe]);return(0,g.BX)(h.xu,{children:[(0,g.tZ)(n.Ee,{value:a.anyRole?m.Gx:m.so,labelText:(0,y.kIE)("Role"),options:[{label:(0,y.kIE)("All roles"),value:m.Gx,disabled:u({name:oe,enabledFields:o})},{label:(0,y.kIE)("Specific role"),value:m.so,disabled:u({name:oe,enabledFields:o})}],onValueChange:e=>{t({anyRole:e===m.Gx}),c(e)}}),(0,g.tZ)(v,{isMulti:!0,mandatory:!0,name:oe,options:l,onChange:t,values:a,validation:r,disabled:u({name:oe,enabledFields:o})||a.anyRole,nameToken:(0,y.eWj)("Roles")},d)]})}));var se="endUserRoles";const de=(0,i.memo)((e=>{var{onChange:t,values:a,validation:r,enabledFields:i,options:o,validateFormFields:l}=e;return(0,g.BX)(h.xu,{children:[(0,g.tZ)(n.Ee,{value:a.anyRole?m.Gx:m.so,labelText:(0,y.kIE)("End user roles"),options:[{label:(0,y.kIE)("All roles"),value:m.Gx,disabled:u({name:se,enabledFields:i})},{label:(0,y.kIE)("Specific roles"),value:m.so,disabled:u({name:se,enabledFields:i})}],onValueChange:e=>{var a=e===m.Gx;t({anyRole:a,...a&&{[se]:[],matchAllRoles:m.lv.any}})}}),(0,g.tZ)(v,{isMulti:!0,mandatory:!0,name:se,options:o,onChange:t,values:a,validation:r,disabled:u({name:se,enabledFields:i})||a.anyRole,nameToken:(0,y.eWj)("Roles")})]})}));var ce="groupIds";const ue=(0,i.memo)((e=>{var{onChange:t,values:a,validation:n,enabledFields:r,options:i,searchesMap:o}=e;return(0,g.tZ)(v,{isMulti:!0,name:ce,options:i,onChange:t,values:a,validation:n,disabled:u({name:ce,enabledFields:r}),nameToken:(0,y.eWj)("Group")})}));var pe=a(7683),he=a(83521),ge=(0,T.d1t)((e=>{var{value:t}=e;return["SYSTEM_ADMINISTRATOR","SYSTEM_AUTOMATION"].includes(t)}));const ve=e=>{var{onChange:t,values:a,validation:o,disabled:l=!1,enabledFields:s}=e,{fetchingUserRoles:d,userRoleOptions:c}=(0,i.useContext)(he.w),v=ge(c),m=l||u({name:"allowAllTechnicians",enabledFields:s}),f=(0,i.useMemo)((()=>a.allowAllTechnicians?"allTechnicians":"specificTechnicians"),[a.allowAllTechnicians]),y=(0,i.useMemo)((()=>d?[]:a.permissionUserRoles),[a.permissionUserRoles,d]);return d?(0,g.tZ)(pe.Z,{}):(0,g.BX)(h.xu,{children:[(0,g.tZ)(n.Ee,{labelText:(0,r.localized)("Technician roles with access"),options:[{label:(0,r.localized)("All technicians"),value:"allTechnicians",disabled:m},{label:(0,r.localized)("Specific technicians"),value:"specificTechnicians",disabled:m}],value:f,onValueChange:e=>{t({allowAllTechnicians:"allTechnicians"===e})}}),(0,g.BX)(h.xu,{marginTop:p.default.spacing[2],marginLeft:p.default.spacing[8],children:[(0,g.tZ)(n.uT,{as:"span",color:"colorTextWeakest",type:"bodyXs",children:(0,r.localized)("Technician roles")}),(0,g.tZ)(n.Vc,{isMulti:!0,width:"100%",options:v,value:y,onChange:e=>{t({permissionUserRoles:e})},disabled:m||a.allowAllTechnicians})]})]})};const me=(0,_.Z)(h.xu,{target:"eu5t3280"})({name:"14rveov",styles:"padding:0px 2px"});var fe=a(37073);const ye=e=>e.disabledTabs.includes(fe.U5.PERMISSIONS)?null:{label:(0,r.localized)("Permissions"),renderer:()=>(0,g.tZ)(me,{children:(0,g.tZ)(ve,{...e})})};const be=e=>{var t=(0,r.hasErrors)(e.validation.success),a=ye(e);return(0,g.tZ)(n.ei,{ariaLabel:e.ariaLabel||(0,r.localized)("Product Form"),tabs:[{required:!0,hasError:t(["name","description"]),label:(0,r.localized)("General"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(O,{...e}),(0,g.tZ)(R,{...e})]})},{required:!0,hasError:t(["price","cost","quantity"]),label:(0,r.localized)("Billing"),renderer:()=>(0,g.BX)(me,{children:[e.showMoneyFields&&(0,g.BX)(g.HY,{children:[(0,g.tZ)(M,{...e}),(0,g.tZ)(k,{...e})]}),(0,g.tZ)(j,{...e}),(0,g.tZ)(b,{...e}),(0,g.tZ)(F,{...e})]})},...a?[a]:[]]})};const Te=e=>{var t=(0,r.hasErrors)(e.validation.success),a=ye(e);return(0,g.tZ)(n.ei,{ariaLabel:e.ariaLabel||(0,r.localized)("Product Form"),tabs:[{required:!0,hasError:t(["name","description"]),label:(0,r.localized)("General"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(O,{...e}),(0,g.tZ)(R,{...e})]})},{required:!0,hasError:t(["price","cost","quantity"]),label:(0,r.localized)("Billing"),renderer:()=>(0,g.BX)(me,{children:[e.showMoneyFields&&(0,g.BX)(g.HY,{children:[(0,g.tZ)(K,{...e}),(0,g.tZ)(k,{...e})]}),(0,g.tZ)(j,{...e}),(0,g.tZ)(b,{...e}),(0,g.tZ)(F,{...e})]})},{label:(0,r.localized)("Advanced"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(A,{...e}),(0,g.tZ)(V,{...e})]})},...a?[a]:[]]})};const Ce=e=>{var t=(0,r.hasErrors)(e.validation.success),a=ye(e);return(0,g.tZ)(n.ei,{ariaLabel:e.ariaLabel||(0,r.localized)("Product Form"),tabs:[{required:!0,hasError:t(["name","description"]),label:(0,r.localized)("General"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(O,{...e}),(0,g.tZ)(R,{...e})]})},{required:!0,hasError:t(["price","cost","quantity"]),label:(0,r.localized)("Billing"),renderer:()=>(0,g.BX)(me,{children:[e.showMoneyFields&&(0,g.BX)(g.HY,{children:[(0,g.tZ)(M,{...e}),(0,g.tZ)(k,{...e})]}),(0,g.tZ)(j,{...e}),(0,g.tZ)(b,{...e}),e.useDynamicQuantity&&(0,g.tZ)(F,{...e})]})},{required:!0,hasError:t(["productIds"]),label:(0,r.localized)("Advanced"),renderer:()=>(0,g.tZ)(me,{children:(0,g.tZ)(Q,{...e})})},...a?[a]:[]]})};var Ee=a(37844),Se=a(48548),we=a(65805);const Ie=e=>{var[t,a]=(0,Se.DJ)(!1),[o,l]=(0,Se.DJ)({searches:[],nodeRoles:[]}),s=(0,r.hasErrors)(e.validation.success),d=ye(e),{nodeRoleOptions:c}=(0,i.useMemo)((()=>{var{nodeRoles:e}=o.nodeRoles.reduce(((e,t)=>{var a={value:t.id,labelText:t.name};return e.nodeRoles.push(a),e}),{nodeRoles:[]});return{nodeRoleOptions:(0,r.sortByFieldNameCaseInsensitive)("labelText","ASC",e)}}),[o.nodeRoles]),{searchOptions:u}=(0,i.useMemo)((()=>{var{searches:e}=o.searches.reduce(((e,t)=>{var{search:a}=t,n={value:a.id,labelText:a.name};return e.searches.push(n),e}),{searches:[]});return{searchOptions:(0,r.sortByFieldNameCaseInsensitive)("labelText","ASC",e)}}),[o.searches]);return(0,i.useEffect)((()=>{if(!t){(async()=>{try{var[e,t]=await Promise.all([(0,Ee.ziI)(),(0,Ee.fk5)()]);a(!0),l({searches:e||[],nodeRoles:(0,we.JU)(t||[])})}catch(n){(0,r.reportErrorAndShowMessage)(n,(0,r.localizationKey)("Error fetching initial data"))}})()}}),[t,a,l]),t?(0,g.tZ)(n.ei,{ariaLabel:e.ariaLabel||(0,r.localized)("Managed Product Form"),tabs:[{required:!0,hasError:s(["name","description"]),label:(0,r.localized)("General"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(O,{...e}),(0,g.tZ)(R,{...e})]})},{required:!0,hasError:s(["price","cost"]),label:(0,r.localized)("Billing"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(M,{...e}),(0,g.tZ)(k,{...e}),(0,g.tZ)(j,{...e}),(0,g.tZ)(b,{...e})]})},{required:!0,hasError:s(["nodeRoles","quantity"]),label:(0,r.localized)("Advanced"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(le,{...e,options:c}),(0,g.tZ)(ue,{...e,options:u}),(0,g.tZ)(ae,{...e}),e.useDynamicQuantity&&(0,g.tZ)(F,{...e})]})},...d?[d]:[]]}):(0,g.tZ)(pe.Z,{})};const ke=e=>{var t=(0,r.hasErrors)(e.validation.success),a=ye(e);return(0,g.tZ)(n.ei,{ariaLabel:e.ariaLabel||(0,r.localized)("Product Form"),tabs:[{required:!0,hasError:t(["name","description"]),label:(0,r.localized)("General"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(O,{...e}),(0,g.tZ)(R,{...e})]})},{required:!0,hasError:t(["price","cost","quantity"]),label:(0,r.localized)("Billing"),renderer:()=>(0,g.BX)(me,{children:[e.showMoneyFields&&(0,g.BX)(g.HY,{children:[(0,g.tZ)(M,{...e}),(0,g.tZ)(k,{...e})]}),(0,g.tZ)(j,{...e}),(0,g.tZ)(b,{...e}),(0,g.tZ)(F,{...e})]})},...a?[a]:[]]})};const _e=e=>{var{fetchingUserRoles:t,userRoleOptions:a,userRolesOptionsMap:o}=(0,i.useContext)(he.w),l={options:a,optionsMap:o},s=(0,r.hasErrors)(e.validation.success),d=ye(e);return t?(0,g.tZ)(pe.Z,{}):(0,g.tZ)(n.ei,{ariaLabel:e.ariaLabel||(0,r.localized)("Product Form"),tabs:[{required:!0,hasError:s(["name","description"]),label:(0,r.localized)("General"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(O,{...e}),(0,g.tZ)(R,{...e}),(0,g.tZ)(ie,{...e,userRolesData:l})]})},{required:!0,hasError:s(["price","cost","onSiteMultiplier","remoteMultiplier","normalHoursMultiplier","offHoursMultiplier"]),label:(0,r.localized)("Billing"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(M,{...e}),(0,g.tZ)(k,{...e}),(0,g.tZ)(j,{...e}),(0,g.tZ)(b,{...e}),(0,g.tZ)(N,{...e})]})},{label:(0,r.localized)("Advanced"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(f,{...e}),e.useDynamicQuantity&&(0,g.tZ)(F,{...e})]})},...d?[d]:[]]})};const xe=e=>{var[t,a]=(0,Se.DJ)(!1),[o,l]=(0,Se.DJ)({nodeRoles:[],searches:[]}),s=(0,r.hasErrors)(e.validation.success),d=(0,i.useMemo)((()=>ye(e)),[e]),{endUserRoleOptions:c,endUserRolesMap:u}=(0,i.useMemo)((()=>{var{endUserRoles:e,endUserRolesMap:t}=(o.nodeRoles||[]).reduce(((e,t)=>{var a={value:t.id,labelText:t.name};return e.endUserRoles.push(a),e.endUserRolesMap[t.id]={option:a,endUserRole:t},e}),{endUserRoles:[],endUserRolesMap:{}});return{endUserRoleOptions:(0,r.sortByFieldNameCaseInsensitive)("labelText","ASC",e),endUserRolesMap:t}}),[o.nodeRoles]);return(0,i.useEffect)((()=>{if(!t){(async()=>{try{var e=await(0,Ee.AyQ)();a(!0),l({nodeRoles:(0,we.JU)(e||[])})}catch(t){(0,r.reportErrorAndShowMessage)(t,(0,r.localizationKey)("Error fetching initial data"))}})()}}),[t,a,l]),t?(0,g.tZ)(n.ei,{ariaLabel:e.ariaLabel||(0,r.localized)("Managed End-User Product Form"),tabs:[{required:!0,hasError:s(["name","description"]),label:(0,r.localized)("General"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(O,{...e}),(0,g.tZ)(R,{...e})]})},{required:!0,hasError:s(["price","cost"]),label:(0,r.localized)("Billing"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(M,{...e}),(0,g.tZ)(k,{...e}),(0,g.tZ)(j,{...e}),(0,g.tZ)(b,{...e})]})},{required:!0,hasError:s(["endUserRoles","anyRole","matchAllRoles"]),label:(0,r.localized)("Advanced"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(de,{...e,options:c,endUserRolesMap:u}),(0,g.tZ)(re,{...e}),e.useDynamicQuantity&&(0,g.tZ)(F,{...e})]})},...d?[d]:[]]}):(0,g.tZ)(pe.Z,{})};var Re=(0,i.memo)((e=>{var{value:t,onChange:a,errorMessage:n,fieldTooltipInfoTokens:i,disabled:o}=e;return(0,g.tZ)(h.xu,{marginTop:p.default.spacing[3],children:(0,g.tZ)(B,{name:"includedStorage",nameToken:(0,r.localizationKey)("Included storage (GB)"),values:{includedStorage:t},onChange:e=>{a(e.includedStorage)},validation:{message:{includedStorage:n}},step:1,min:0,max:z.P6,disabled:o})})})),Ae=(0,i.memo)((e=>{var{value:t,onChange:a,disabled:i}=e;return(0,g.BX)(h.xu,{display:"flex",flexDirection:"column",marginTop:p.default.spacing[4],children:[(0,g.tZ)(n.__,{labelText:(0,r.localized)("Storage inclusion type"),labelFor:"storage-inclusion-type"}),(0,g.tZ)(h.kC,{flex:8,children:(0,g.tZ)(te,{name:"storageInclusionType",id:"storage-inclusion-type",values:{storageInclusionType:t?"true":"false"},options:[{value:"true",label:(0,r.localized)("Per Device")},{value:"false",label:(0,r.localized)("Total")}],onChange:(e,t)=>a("true"===t),nameToken:(0,r.localizationKey)("Storage inclusion type"),disabled:i})})]})}));const Ze=e=>{var[t,a]=(0,Se.DJ)(!1),[o,l]=(0,Se.DJ)({searches:[],nodeRoles:[]}),s=(0,r.hasErrors)(e.validation.success),d=ye(e),{nodeRoleOptions:c}=(0,i.useMemo)((()=>{var{nodeRoles:e}=o.nodeRoles.reduce(((e,t)=>{var a={value:t.id,labelText:t.name};return e.nodeRoles.push(a),e}),{nodeRoles:[]});return{nodeRoleOptions:(0,r.sortByFieldNameCaseInsensitive)("labelText","ASC",e)}}),[o.nodeRoles]),{searchOptions:p}=(0,i.useMemo)((()=>{var e=o.searches.map((e=>{var{search:t}=e;return{value:t.id,labelText:t.name}}));return{searchOptions:(0,r.sortByFieldNameCaseInsensitive)("labelText","ASC",e)}}),[o.searches]);return(0,i.useEffect)((()=>{if(!t){(async()=>{try{var[e,t]=await Promise.all([(0,Ee.ziI)(),(0,Ee.fk5)()]);a(!0),l({searches:e||[],nodeRoles:(0,we.JU)(t||[])})}catch(n){(0,r.reportErrorAndShowMessage)(n,(0,r.localizationKey)("Error fetching initial data"))}})()}}),[t,a,l]),t?(0,g.tZ)(n.ei,{ariaLabel:e.ariaLabel||(0,r.localized)("Managed product form"),tabs:[{required:!0,hasError:s(["name","description"]),label:(0,r.localized)("General"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(O,{...e}),(0,g.tZ)(R,{...e})]})},{required:!0,hasError:s(["price","cost"]),label:(0,r.localized)("Billing"),renderer:()=>(0,g.BX)(me,{children:[(0,g.tZ)(M,{...e}),(0,g.tZ)(k,{...e}),(0,g.tZ)(j,{...e}),(0,g.tZ)(b,{...e})]})},{required:!0,hasError:s(["nodeRoles","includedStorage"]),label:(0,r.localized)("Advanced"),renderer:()=>{var t;return(0,g.BX)(me,{children:[(0,g.tZ)(le,{...e,options:c}),(0,g.tZ)(ue,{...e,options:p}),(0,g.tZ)(ae,{...e}),(0,g.tZ)(Re,{value:e.values.includedStorage,errorMessage:null===(t=e.validation.message)||void 0===t?void 0:t.includedStorage,fieldTooltipInfoTokens:e.fieldTooltipInfoTokens,onChange:t=>e.onChange("includedStorage",t),disabled:u({name:"includedStorage",enabledFields:e.enabledFields})}),(0,g.tZ)(Ae,{value:e.values.isStorageIncludedPerDevice,onChange:t=>e.onChange("isStorageIncludedPerDevice",t),disabled:u({name:"isStorageIncludedPerDevice",enabledFields:e.enabledFields})}),e.useDynamicQuantity&&(0,g.tZ)(F,{...e})]})}},...d?[d]:[]]}):(0,g.tZ)(pe.Z,{spinnerColor:"colorTextStrong",color:"colorTextStrong"})}},97634:(e,t,a)=>{function n(e,t){switch(e){case"STATIC":return t;case"QUANTITY_ONE":return 1;default:return null}}function r(e){return["DYNAMIC","QUANTITY_ONE"].includes(e)}a.d(t,{F:()=>r,q:()=>n})},18375:(e,t,a)=>{a.d(t,{Z:()=>P});var n=a(4519),r=a(75100),i=a(58064),o=a(51749),l=a(50176),s=a(67009),d=a(8456),c=a(37844),u=a(48548),p=a(6775),h=a(7683),g=a(75493),v=a(74657),m=a(21184),f=a(91742),y=a(32175),b=a(5250),T=a(41632),C=a(14051),E=a(77537),S=e=>(0,b.KQ)(e,{hideClose:!0}).map((e=>({...e,id:e.value,LabelComponent:e=>{var{id:t,labelText:a}=e;return(0,C.uZ)({value:t,labelText:a})}}))),w=e=>{var t,{options:a,value:n}=e;return(0,E.tZ)(l.xv,{type:"body",color:"colorTextStrong",children:null===(t=a.find((0,i.OH4)("value",n)))||void 0===t?void 0:t.labelText})},I=(0,n.memo)((e=>{var{readonly:t,onChange:a,values:r,validation:o,ticketFormsOptions:s,statusList:c}=e,{ticketFormId:u,tags:h,priority:v,severity:m,status:f,useOwnerAsRequester:b}=r,{priorityOptions:C,severityOptions:I,statusOptions:k}=(0,n.useMemo)((()=>{var e={value:null,labelText:(0,p.localized)("Use Policy")};return{priorityOptions:[e,...(0,y.h2)({showNone:!1,labelKey:"labelText"})],severityOptions:[e,...(0,y.tJ)({showNone:!1,labelKey:"labelText"})],statusOptions:S(c)}}),[c]);return(0,E.BX)(g.kC,{flexDirection:"column",gap:d.default.spacing[2],margin:"0 ".concat(d.default.spacing[1]),children:[(0,E.tZ)(l.Ph,{labelId:"ticket-create-form",labelText:(0,p.localized)("Form"),value:u,onChange:e=>a("ticketFormId",e),options:s,errorMessage:o.message.ticketFormId,required:!0,disabled:t}),(0,E.BX)(g.xu,{children:[(0,E.tZ)(l.__,{labelText:(0,p.localized)("Tags"),id:"ticket-create-tags"}),(0,E.tZ)(T.Z,{selected:(0,i.jge)("value",h||[]),disableEditor:t,onChange:e=>a("tags",e),ariaInputAttributes:{"aria-labelledby":"ticket-create-tags"}})]}),(0,E.tZ)(l.Ph,{labelId:"ticket-create-status",labelText:(0,p.localized)("Status"),value:f,onChange:e=>a("status",e),options:k,errorMessage:o.message.status,required:!0,disabled:t}),(0,E.tZ)(l.Ph,{labelId:"ticket-create-priority",labelText:(0,p.localized)("Priority"),value:v,onChange:e=>a("priority",e),options:C,disabled:t,labelRenderer:()=>(0,E.tZ)(w,{options:C,value:v})}),(0,E.tZ)(l.Ph,{labelId:"ticket-create-severity",labelText:(0,p.localized)("Severity"),value:m,onChange:e=>a("severity",e),options:I,disabled:t,labelRenderer:()=>(0,E.tZ)(w,{options:I,value:m})}),(0,E.tZ)(l.XZ,{label:(0,p.localized)("Use the device's user as requester"),ariaLabel:(0,p.localized)("Use the device's user as requester"),checked:b,disabled:t,onChange:()=>a("useOwnerAsRequester",!b)})]})}));const k=(0,r.$j)((e=>{var{ticketing:t}=e;return{statusList:t.status.list}}))(I);var _={DAYS:41,HOURS:999,MINUTES:59999},x=(0,n.memo)((e=>{var{readonly:t,values:a,onChange:r,validation:i,statusList:o}=e,{resetStatus:s,resetTimeUnit:c,resetTimeValue:u}=a,h=S(o),v=(0,n.useCallback)((e=>{r(u>_[e]?{resetTimeUnit:e,resetTimeValue:_[e]}:{resetTimeUnit:e})}),[r,u]);return(0,E.BX)(g.kC,{flexDirection:"column",gap:d.default.spacing[2],margin:"0 ".concat(d.default.spacing[1]),children:[(0,E.tZ)(l.Ph,{labelId:"condition-reset-reset-status",labelText:(0,p.localized)("Status"),value:s,onChange:e=>r("resetStatus",e),options:h,errorMessage:i.message.resetStatus,required:!0,disabled:t}),(0,E.BX)(g.kC,{gap:d.default.spacing[2],justifyContent:"space-between",alignItems:"end",children:[(0,E.tZ)(g.xu,{minWidth:180,children:(0,E.tZ)(l.vF,{labelText:(0,p.localized)("Add time entry"),disabled:t,min:0,max:_[c],onChange:e=>r("resetTimeValue",e),required:!1,useInlineLabel:!1,value:u,error:i.message.resetTimeValue})}),(0,E.tZ)(g.xu,{flex:"1 0",children:(0,E.tZ)(l.Ph,{id:"select-condition-reset-time",triggerAriaLabel:(0,p.localized)("Add time entry"),className:"flex-full",value:c,onChange:v,options:(0,y.wU)(),disabled:t})})]})]})}));const R=(0,r.$j)((e=>{var{ticketing:t}=e;return{statusList:t.status.list}}))(x);var A=(0,n.memo)((e=>{var{readonly:t,validation:a,onChange:r,values:o,validateFormFields:s,statusList:c}=e,{retriggerStatus:u,retriggerTags:h,retriggerPriority:v,retriggerSeverity:m,createNewTicket:f}=o,{priorityOptions:b,severityOptions:C,statusOptions:I}=(0,n.useMemo)((()=>{var e={value:null,labelText:(0,p.localized)("Use Current")};return{statusOptions:S(c),priorityOptions:[e,...(0,y.h2)({showNone:!1,labelKey:"labelText"})],severityOptions:[e,...(0,y.tJ)({showNone:!1,labelKey:"labelText"})]}}),[c]);return(0,n.useEffect)((()=>{f&&s(["retriggerStatus"])}),[f,s]),(0,E.BX)(g.kC,{flexDirection:"column",gap:d.default.spacing[2],margin:"0 ".concat(d.default.spacing[1]),children:[(0,E.tZ)(l.Ph,{labelId:"condition-retrigger-action",labelText:(0,p.localized)("Action"),value:f?y.s9:y.jE,onChange:e=>r("createNewTicket",e===y.s9),options:(0,y.gN)(),disabled:t}),!f&&(0,E.BX)(E.HY,{children:[(0,E.tZ)(l.Ph,{labelId:"condition-retrigger-status",labelText:(0,p.localized)("Status"),value:u,onChange:e=>r("retriggerStatus",e),options:I,errorMessage:a.message.retriggerStatus,required:!0,disabled:t}),(0,E.BX)(g.xu,{children:[(0,E.tZ)(l.__,{labelText:(0,p.localized)("Tags"),id:"condition-retrigger-tags"}),(0,E.tZ)(T.Z,{selected:(0,i.jge)("value",h||[]),disableEditor:t,onChange:e=>r("retriggerTags",e),ariaInputAttributes:{"aria-labelledby":"condition-retrigger-tags"}})]}),(0,E.tZ)(l.Ph,{labelId:"condition-retrigger-priority",labelText:(0,p.localized)("Priority"),value:v,onChange:e=>r("retriggerPriority",e),options:b,disabled:t,labelRenderer:()=>(0,E.tZ)(w,{options:b,value:v})}),(0,E.tZ)(l.Ph,{labelId:"condition-retrigger-severity",labelText:(0,p.localized)("Severity"),value:m,onChange:e=>r("retriggerSeverity",e),options:C,disabled:t,labelRenderer:()=>(0,E.tZ)(w,{options:C,value:m})})]})]})}));const Z=(0,r.$j)((e=>{var{ticketing:t}=e;return{statusList:t.status.list}}))(A);var D=(0,i.qCK)((0,i.UID)((0,i.z6y)({value:(0,i.vgT)("id"),labelText:(0,i.vgT)("name")})),(0,i.hXT)((0,i.OH4)("active",!0)),(0,i.yAE)([])),N=(0,i.wVM)([[(0,i.fS0)("SCRIPT_RULE"),(0,i.Bxt)((0,p.localizationKey)("Add script rule automation"))],[(0,i.fS0)("CONDITION_RULE"),(0,i.Bxt)((0,p.localizationKey)("Add condition rule automation"))],[(0,i.fS0)("ACTIVITY_RULE"),(0,i.Bxt)((0,p.localizationKey)("Add activity rule automation"))]]),O=(0,i.wVM)([[(0,i.fS0)("SCRIPT_RULE"),(0,i.Bxt)((0,p.localizationKey)("Edit script rule automation"))],[(0,i.fS0)("CONDITION_RULE"),(0,i.Bxt)((0,p.localizationKey)("Edit condition rule automation"))],[(0,i.fS0)("ACTIVITY_RULE"),(0,i.Bxt)((0,p.localizationKey)("Edit activity rule automation"))]]),M=(e,t)=>{var a=!!t.createNewTicket||!!e;return{success:a,message:a?"":(0,p.localized)("Required")}},L=(0,n.memo)((e=>{var{unmount:t,readonly:a=!1,id:r,fetchRulesetList:m,type:y,fetchTicketStatuses:b}=e,T=!!r,C="CONDITION_RULE"===y,[S,w]=(0,u.DJ)([]),[I,x]=(0,u.DJ)(!1),[A,L]=(0,u.DJ)(!1),P=(0,n.useCallback)((e=>({name:p.validations.required,ticketFormId:p.validations.required,status:p.validations.required,...C&&{resetTimeValue:t=>t?(0,v.CY)({max:_[e],value:t}):{success:!0,message:""},resetStatus:p.validations.required,retriggerStatus:M}})),[C]),{values:z,validation:B,validateForm:W,onChange:U,validateFormFields:F,updateValidate:K}=(0,u.cI)({fields:{enabled:!0,name:"",ticketFormId:null,status:null,priority:null,severity:null,tags:[],...C&&{resetStatus:null,resetTimeValue:0,resetTimeUnit:"HOURS",createNewTicket:!1,retriggerStatus:null,retriggerTags:[],retriggerPriority:null,retriggerSeverity:null},type:y,useOwnerAsRequester:!1},validate:P("HOURS")}),H=(0,n.useCallback)((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=(0,v.ei)(t);n&&(U(n),"resetTimeUnit"in n&&K(P(n.resetTimeUnit)))}),[U,P,K]);(0,n.useEffect)((()=>{(async()=>{if(r)try{var e,t,a,n,i,o,l,s,d,u,h,g,v,m,f,y,b,T,E,S,w,I,k,_,x,R,A,Z,D,N,O,M;L(!0);var{data:P,error:z}=await(0,c.CwA)(r);if(z)throw z;var{ticketRulesetById:B}=P;H({enabled:null===(e=null===B||void 0===B?void 0:B.enabled)||void 0===e||e,name:null!==(t=null===B||void 0===B?void 0:B.name)&&void 0!==t?t:"",ticketFormId:null!==(a=null===B||void 0===B||null===(n=B.conditionTriggerSettings)||void 0===n?void 0:n.ticketFormId)&&void 0!==a?a:null,status:null!==(i=null===B||void 0===B||null===(o=B.conditionTriggerSettings)||void 0===o?void 0:o.status)&&void 0!==i?i:null,priority:null!==(l=null===B||void 0===B||null===(s=B.conditionTriggerSettings)||void 0===s?void 0:s.priority)&&void 0!==l?l:null,severity:null!==(d=null===B||void 0===B||null===(u=B.conditionTriggerSettings)||void 0===u?void 0:u.severity)&&void 0!==d?d:null,tags:null!==(h=null===B||void 0===B||null===(g=B.conditionTriggerSettings)||void 0===g||null===(v=g.tags)||void 0===v?void 0:v.map((e=>({label:e,value:e}))))&&void 0!==h?h:[],useOwnerAsRequester:!(null===B||void 0===B||null===(m=B.conditionTriggerSettings)||void 0===m||!m.useOwnerAsRequester),...C&&{resetStatus:null!==(f=null===B||void 0===B||null===(y=B.conditionResetSettings)||void 0===y?void 0:y.status)&&void 0!==f?f:null,resetTimeValue:null!==(b=null===B||void 0===B||null===(T=B.conditionResetSettings)||void 0===T||null===(E=T.time)||void 0===E?void 0:E.value)&&void 0!==b?b:0,resetTimeUnit:null!==(S=null===B||void 0===B||null===(w=B.conditionResetSettings)||void 0===w||null===(I=w.time)||void 0===I?void 0:I.unit)&&void 0!==S?S:"HOURS",createNewTicket:null!==(k=null===B||void 0===B||null===(_=B.conditionReTriggerSettings)||void 0===_?void 0:_.createNewTicket)&&void 0!==k&&k,retriggerStatus:null!==(x=null===B||void 0===B||null===(R=B.conditionReTriggerSettings)||void 0===R?void 0:R.status)&&void 0!==x?x:null,retriggerTags:null!==(A=null===B||void 0===B||null===(Z=B.conditionReTriggerSettings)||void 0===Z?void 0:Z.tags.map((e=>({label:e,value:e}))))&&void 0!==A?A:[],retriggerPriority:null!==(D=null===B||void 0===B||null===(N=B.conditionReTriggerSettings)||void 0===N?void 0:N.priority)&&void 0!==D?D:null,retriggerSeverity:null!==(O=null===B||void 0===B||null===(M=B.conditionReTriggerSettings)||void 0===M?void 0:M.severity)&&void 0!==O?O:null}})}catch(z){(0,p.reportErrorAndShowMessage)(z)}finally{L(!1)}})()}),[r,H,L,C]),(0,n.useEffect)((()=>{(async()=>{try{x(!0);var e=await(0,c.D5d)();w(e)}catch(t){(0,p.reportErrorAndShowMessage)(t,(0,p.localizationKey)("Error fetching ticket forms"))}finally{x(!1)}})()}),[x,w]),(0,n.useEffect)(b,[b]);var[{fetching:G},j]=(0,o.Db)(T?f.qt:f.SI),{enabled:V,name:X,ticketFormId:q,tags:Y,status:J,priority:$,severity:Q,resetStatus:ee,resetTimeValue:te,resetTimeUnit:ae,createNewTicket:ne,retriggerStatus:re,retriggerTags:ie,retriggerPriority:oe,retriggerSeverity:le,type:se,useOwnerAsRequester:de}=z,ce=D(S),ue=I||A,pe=!1===B.success.ticketFormId||!1===B.success.status,he=!1===B.success.resetStatus||!1===B.success.resetTimeValue,ge=!1===B.success.retriggerStatus;return(0,E.tZ)(l.u_,{id:"ticket-ruleset-modal",size:"lg",unmount:t,titleGroup:{titleToken:T?O(y):N(y),descriptionToken:(0,p.localizationKey)("Configure the settings to be used on ticket creation and updates from conditions.")},buttons:[{type:"apply",labelToken:T?(0,p.localizationKey)("Save"):(0,p.localizationKey)("Create"),onClick:async()=>{if(W()){var{error:e}=await j({ruleset:{enabled:V,name:X,type:se,conditionTriggerSettings:{ticketFormId:q,priority:$,severity:Q,status:J,tags:(0,i.jge)("value",Y),useOwnerAsRequester:de},...C&&{conditionResetSettings:{status:ee,time:te?{value:te,unit:ae}:null},conditionReTriggerSettings:{createNewTicket:ne,status:null!==re&&void 0!==re?re:J,tags:ne?[]:(0,i.jge)("value",ie),priority:ne?null:oe,severity:ne?null:le}},...T?{id:r}:{}}});e?(0,p.reportErrorAndShowMessage)(e,T?(0,p.localizationKey)("Error updating ticket ruleset"):(0,p.localizationKey)("Error saving ticket ruleset")):((0,p.showSuccessMessage)(),null===t||void 0===t||t(),null===m||void 0===m||m())}},disabled:G||a}],children:(0,E.tZ)(g.kC,{justifyContent:"center",height:"450px",children:ue?(0,E.tZ)(h.Z,{}):(0,E.tZ)(l.ei,{ariaLabel:(0,p.localized)("Edit condition rule"),tabs:[{label:(0,p.localized)("General"),hasError:!1===B.success.name,required:!0,renderer:()=>(0,E.BX)(g.kC,{flexDirection:"column",marginTop:d.default.spacing[1],gap:d.default.spacing[2],children:[(0,E.BX)(g.kC,{flexDirection:"row",gap:d.default.spacing[1],alignItems:"center",children:[(0,E.tZ)(l.rs,{disabled:a,checked:V,onChange:e=>H("enabled",e),labelToken:(0,p.localizationKey)("Enabled")}),(0,E.tZ)(l.u,{label:(0,p.localized)("Enable or disable this condition rule"),children:(0,E.tZ)(s.RegularInfoCircleIcon,{size:"sm",color:"colorTextWeakest"})})]}),(0,E.tZ)(l.II,{name:"name",labelText:(0,p.localized)("Name"),placeholder:(0,p.localized)("Enter name"),value:X,errorMessage:B.message.name,onChange:H,onBlur:()=>W(["name"]),maxLength:50,required:!0})]})},{label:(0,p.localized)("Ticket creation"),hasError:pe,required:!0,renderer:()=>(0,E.tZ)(k,{onChange:H,values:z,validation:B,ticketFormsOptions:ce,readonly:a})},...C?[{label:(0,p.localized)("Condition reset"),hasError:he,required:!0,renderer:()=>(0,E.tZ)(R,{values:z,validation:B,onChange:H,readonly:a})},{label:(0,p.localized)("Condition retrigger"),hasError:ge,required:!0,renderer:()=>(0,E.tZ)(Z,{values:z,validation:B,onChange:H,validateFormFields:F,readonly:a})}]:[]]})})})}));const P=(0,r.$j)(null,{fetchTicketStatuses:m.xT})(L)},15556:(e,t,a)=>{a.d(t,{Z:()=>M});var n=a(4519),r=a(50176),i=a(89677),o=a(75493),l=a(75100),s=a(58064),d=a(71936),c=a(6775),u=a(24331),p=a(77537),h=(0,s.u4g)(((e,t)=>{var{id:a,name:n}=t;return(0,s.yGi)(a,n,e)}),{}),g=(0,s.qCK)((0,s.UID)((e=>{var[t,a]=e;return{id:parseInt(t,10),name:a}})),s.Zpf);const v=(0,l.$j)((e=>{var{psa:t}=e;return{types:t.Autotask.settings.companyFilterMap.types,accountCriteria:t.Autotask.settings.accountCriteria}}),{setSelectedTypes:e=>({type:"SET_AT_ACCOUNT_FILTER_TYPES",types:e})})((e=>{var{types:t,accountCriteria:a,setSelectedTypes:n}=e;return(0,p.BX)(o.xu,{display:"flex",margin:[0,"1px",4,4],flexDirection:"column",children:[(0,p.BX)("h4",{children:[(0,p.tZ)("span",{children:(0,c.localized)("Account Type Filter")}),"\xa0",(0,p.tZ)(d.Z,{token:(0,c.localizationKey)("Please select your PSA account filters to limit the accounts that are available for mapping.")})]}),(0,p.tZ)(u.Z,{width:"100%",minHeight:"32px",borderRadius:"2px",options:(0,c.sortByFieldNameCaseInsensitive)("name","ASC",a),value:g(t),rowHeight:30,isMulti:!0,searchableKey:"name",valueSelectorKey:"id",openOnFocus:!0,keepInView:!1,onSelect:e=>{(0,s.qCK)(n,h)(e||[])}})]})}));var m=a(40580),f=a.n(m),y=a(9346),b=a(15064),T=a(444),C=a(34928),E=a(75793),S=a(48548),w=a(7002),I={width:"100%",minHeight:"32px",borderRadius:"2px",rowHeight:30,searchableKey:"label",valueSelectorKey:"value",openOnFocus:!0};const k=(0,l.$j)((e=>{var{psa:t}=e;return{accountList:t.Autotask.settings.accountList}}))((e=>{var{unmount:t,mapping:a,accountList:n,nodeRoleMappings:r,companyFilterMapTypes:i,saveAccountOrganizationMapping:l}=e,{values:d,validation:h,validateForm:g,onChange:v}=(0,S.cI)({fields:{account:(0,s.kKJ)(a.accountId)?{}:{id:a.accountId,name:a.accountName},deviceRoleMapping:(0,s.kKJ)(a.installedProductCategoryMappingId)?{}:{id:a.installedProductCategoryMappingId,name:r.find((e=>e.id===a.installedProductCategoryMappingId)).name}},validate:{account:w.tV.required}});return(0,p.tZ)(E.Z,{overflow:!0,title:(0,c.localizationKey)("Account Mapping"),saveText:(0,c.localizationKey)("OK"),closeText:(0,c.localizationKey)("Cancel"),dialogClassName:"psa-modal",close:()=>t(),save:()=>{var e,n;g()&&(l({...a,accountId:d.account.id,accountName:d.account.name,installedProductCategoryMappingId:null!==(e=null===(n=d.deviceRoleMapping)||void 0===n?void 0:n.id)&&void 0!==e?e:null}),t())},children:(0,p.BX)(o.xu,{textAlign:"left",display:"flex",margin:[0,4,4,4],flexDirection:"column",children:[(0,p.BX)(o.xu,{children:[(0,p.tZ)("h4",{children:(0,c.localized)("Autotask Account")}),(0,p.tZ)(u.Z,{...I,pageSize:500,value:d.account,searchableKey:"name",valueSelectorKey:"id",validationState:!1===h.success.account?"error":null,onSelect:e=>{v("account",e)},...(0,c.isFeatureEnabled)("autotask_big_data")?{endpoint:"/psaat/v2/accountsPaginated",searchParams:e=>{var{query:t}=e;return{...t&&{accountNameParam:t}}},lastItemKey:"id",responseParser:e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.accountList)&&void 0!==t?t:[]}}:{options:(0,c.sortByFieldNameCaseInsensitive)("name","ASC",n)}})]}),(0,p.BX)(o.xu,{paddingTop:"20px",children:[(0,p.tZ)("h4",{children:(0,c.localized)("Ninja Device Role Mapping")}),(0,p.tZ)(u.Z,{...I,options:(0,c.sortByFieldNameCaseInsensitive)("name","ASC",r),value:d.deviceRoleMapping,searchableKey:"name",valueSelectorKey:"id",validationState:!1===h.success.deviceRoleMapping?"error":null,onSelect:e=>{v("deviceRoleMapping",e)}})]})]})})}));var _=a(7824),x=[{headerRenderer:c.headerRenderer,dataKey:"clientName",label:(0,c.localizationKey)("Ninja Organization"),width:1,flexGrow:1},{headerRenderer:c.headerRenderer,dataKey:"accountName",disableSort:!0,label:(0,c.localizationKey)("Autotask Company"),width:1,flexGrow:1,cellRenderer:e=>{var{cellData:t}=e;return t||"-"}}],R=e=>e.trim().toLowerCase();const A=(0,l.$j)((e=>{var{psa:t}=e;return{accountList:t.Autotask.settings.accountList,accountOrganizationMappings:t.Autotask.settings.accountOrganizationMappings}}),{saveAccountOrganizationMappings:T.yZ})((e=>{var{unmount:t,accountList:a,accountMapModalLoading:r,accountOrganizationMappings:i,saveAccountOrganizationMappings:l}=e,[s,d]=(0,n.useState)({}),{autoMapped:u,notMapped:h}=i.reduce(((e,t)=>{var a=s[R(t.clientName)];return a?e.autoMapped.push({...t,...a}):e.notMapped.push(t),e}),{autoMapped:[],notMapped:[]});return(0,n.useEffect)((()=>{var e=a.reduce(((e,t)=>{var{id:a,name:n}=t;return e[R(n)]={accountId:a,accountName:n},e}),{});d(e)}),[a]),(0,p.tZ)(E.Z,{title:(0,c.localizationKey)("Auto Map"),saveText:(0,c.localizationKey)("Auto Map"),closeText:(0,c.localizationKey)("Cancel"),dialogClassName:"psa-modal",save:()=>{l([...u,...h]),t()},close:()=>{t()},children:(0,p.BX)(o.xu,{padding:[0,3],children:[(0,p.BX)(o.xu,{textAlign:"left",color:"ninjaMedium",paddingBottom:2,children:[(0,p.tZ)("span",{children:u.length})," ",(0,c.localized)("organization(s) will be mapped.")]}),(0,p.tZ)(o.xu,{height:"282px",display:"flex",className:"panel-bordered",children:(0,p.tZ)(_.Z,{columns:x,list:u,className:"horizontal-tiles list-group",noRowsRenderer:(0,c.noRowsRenderer)((0,c.localizationKey)("No Mappings"),!1,"text-left m-l-xs")})})]})})}));var Z={id:"automap",token:(0,C.eWj)("Auto Map"),type:"autotask",position:"right",action:async()=>{(0,b.Z)((0,p.tZ)(A,{}),{withProvider:!0})}},D={id:"clear-mapping",token:(0,C.eWj)("Clear Mapping"),type:"autotask",action:async(e,t,a,n,r,i)=>{a(t.map((t=>e.rows[t.clientId]?{...t,accountId:null,accountName:null,installedProductCategoryMappingId:null,installedProductCategoryMappingName:null}:t))),n((0,s.d1t)((t=>{var{clientId:a}=t;return!!e.rows[a]}),r)),i({type:"CLEAR_SELECTION"})}};class N extends n.PureComponent{constructor(){super(...arguments),this.state={sortBy:"clientName",sortDirection:"DESC",selected:{length:0,rows:{}}},this.searchable=["clientName"],this.columns=()=>[{headerRenderer:c.headerRenderer,dataKey:"clientName",width:1,flexGrow:1,label:(0,c.localizationKey)("Ninja Organization")},{headerRenderer:c.headerRenderer,dataKey:"accountName",width:1,flexGrow:1,label:(0,c.localizationKey)("Autotask Company"),cellRenderer:e=>{var{cellData:t}=e;return t||"-"}},{headerRenderer:c.headerRenderer,dataKey:"installedProductCategoryMappingName",width:1,flexGrow:1,label:(0,c.localizationKey)("Ninja Device Role Mapping"),cellRenderer:e=>{var t,{rowData:a}=e;return(null===(t=this.props.nodeRoleMappings.find((e=>e.id===a.installedProductCategoryMappingId)))||void 0===t?void 0:t.name)||"-"}}],this.onRowClick=e=>{var{rowData:t,index:a}=e,{nodeRoleMappings:n,companyFilterMapTypes:r,accountOrganizationMappings:i,saveAccountOrganizationMappings:o,saveLocationMappings:l,locationMappings:d,setInlineWarning:u}=this.props;(0,b.Z)((0,p.tZ)(k,{nodeRoleMappings:n,mapping:t,companyFilterMapTypes:(0,s.qCK)(s.VO0,(0,s.IDH)(((e,t)=>({value:t,name:e}))))(r),saveAccountOrganizationMapping:e=>{var t=(0,C.NJ3)(e,i,"clientId"),a=(0,s.UID)((t=>t.clientId===e.clientId?{...t,autotaskAccountId:e.accountId,autotaskAccountName:e.accountName,autotaskLocationId:null,autotaskLocationName:null}:t),d),n=!f()(a,d);o(t),l(a),n&&u((0,c.localized)("Because of your update to the account mappings we have also updated some of your location mappings, please take a look under Location Mapping."))}}),{withProvider:!0})},this.getActions=e=>{var t=(0,c.isFeatureEnabled)("autotask_big_data")?[]:[Z];return e.length?[...t,D]:t}}render(){var{props:{accountOrganizationMappings:e,saveAccountOrganizationMappings:t,saveLocationMappings:a,locationMappings:n},state:{sortBy:r,sortDirection:i,selected:l},columns:s,searchable:d,getActions:u,onRowClick:h}=this;return(0,p.BX)(o.xu,{display:"flex",flex:1,marginLeft:4,flexDirection:"column",children:[(0,p.tZ)("h4",{children:(0,c.localized)("Account Mapping")}),(0,p.tZ)(o.xu,{display:"flex",flex:1,children:(0,p.tZ)(y.Z,{data:e,columns:s,sortBy:r,sortDirection:i,searchable:d,onRowClick:h,dataKey:"clientId",rowHeight:50,headerHeight:45,actions:u(l),noRowsRenderer:(0,c.noRowsRenderer)((0,c.localizationKey)("No accounts available"),!1,"no-padding"),sort:e=>{var{sortBy:t,sortDirection:a}=e;return this.setState({sortBy:t,sortDirection:a})},onCheck:e=>{var{selected:t}=e;this.setState({selected:t})},onAction:(r,i,o)=>{var{action:l}=r,{dispatchCallback:s}=o;l(i,e,t,a,n,s)}})})]})}}const O=(0,l.$j)((e=>{var{psa:t}=e;return{nodeRoleMappings:t.Autotask.settings.nodeRoleMappings,companyFilterMapTypes:t.Autotask.settings.companyFilterMap.types,accountOrganizationMappings:t.Autotask.settings.accountOrganizationMappings,locationMappings:t.Autotask.settings.locationMappings}}),{saveAccountOrganizationMappings:T.yZ,saveLocationMappings:T.Eq})(N);function M(e){return e.loading?(0,p.tZ)(i.Z,{}):(0,p.BX)(p.HY,{children:[e.warning&&(0,p.tZ)(o.xu,{margin:[0,"1px",4,4],children:(0,p.tZ)(r.LO,{children:(0,p.tZ)(r.xv,{size:"sm",children:e.warning})})}),(0,p.tZ)(v,{}),(0,p.tZ)(O,{...e})]})}},50509:(e,t,a)=>{a.d(t,{Z:()=>N});var n=a(4519),r=a(75100),i=a(6775),o=a(75493),l=a(7824),s=a(15064),d=a(37495),c=a(8326),u=a(58064),p=a(5917),h=a(37844),g=a(81242),v=a(60036),m=a(48548),f=a(75793),y=a(24331),b=a(77537),T={width:"100%",minHeight:"32px",borderRadius:"2px",rowHeight:30,searchableKey:"name",valueSelectorKey:"id",openOnFocus:!0},C=e=>({name:(0,g.cA)(e.name),id:e.id}),E=e=>({name:e.installedProductCategoryName,id:e.installedProductCategoryId}),S=e=>({name:e.productName,id:e.productId}),w=e=>{var{unmount:t,mapping:a,mappings:r,nodeRoleMap:l,productList:s,saveMappings:d}=e,c=(0,m.s4)(),p=new Set((0,u.jge)("nodeRoleId",r)),[h,g]=(0,n.useState)([]),[v,w]=(0,n.useState)([]),{values:{nodeRole:I,configurationType:k,autotaskProduct:_},onChange:x,validation:R,validateForm:A}=(0,m.cI)({fields:{nodeRole:l[null===a||void 0===a?void 0:a.nodeRoleId]?C(l[null===a||void 0===a?void 0:a.nodeRoleId]):{},configurationType:(0,u.kKJ)(null===a||void 0===a?void 0:a.installedProductCategoryId)?{}:E(a),autotaskProduct:(0,u.kKJ)(null===a||void 0===a?void 0:a.productId)?{}:S(a)},validate:{nodeRole:i.validations.required,configurationType:i.validations.required,autotaskProduct:i.validations.required}});return(0,n.useEffect)((()=>{g((0,u.qCK)((0,u.UID)(C),u.VO0)(l));(async()=>{try{var e=await(0,i.fetchJson)("/psaat/v3/installedProductCategoriesList");c.current&&w(e)}catch(t){(0,i.reportErrorAndShowMessage)(t)}})()}),[c,l]),(0,b.tZ)(f.Z,{overflow:!0,title:(0,i.localizationKey)("Edit Mapping"),saveText:(0,i.localizationKey)("OK"),closeText:(0,i.localizationKey)("Cancel"),dialogClassName:"psa-modal",close:()=>{t()},save:()=>{if(A()){var e=r.reduce(((e,t)=>{var{id:a}=t;return e>a?e:a}),0),n={id:(0,u.kKJ)(null===a||void 0===a?void 0:a.id)?e+1:null===a||void 0===a?void 0:a.id,nodeRoleId:I.id,productId:_.id,productName:_.name,installedProductCategoryId:k.id,installedProductCategoryName:k.name};d(n,a),t()}},children:(0,b.BX)(o.xu,{textAlign:"left",display:"flex",margin:[0,4,4,4],flexDirection:"column",children:[(0,b.BX)(o.xu,{children:[(0,b.BX)("h4",{children:[(0,i.localized)("Device Role"),"*"]}),(0,b.tZ)(y.Z,{...T,value:I,validationState:!1===R.success.nodeRole?"error":null,options:(0,u.qCK)((0,i.sortByFieldNameCaseInsensitive)("name","ASC"),(0,u.hXT)((e=>!p.has(e.id))))(h),onSelect:e=>{x("nodeRole",e)}})]}),(0,b.BX)(o.xu,{paddingTop:"20px",children:[(0,b.BX)("h4",{children:[(0,i.localized)("Configuration Type"),"*"]}),(0,b.tZ)(y.Z,{...T,options:(0,i.sortByFieldNameCaseInsensitive)("name","ASC",v),value:k,validationState:!1===R.success.configurationType?"error":null,onSelect:e=>{x("configurationType",e)}})]}),(0,b.BX)(o.xu,{paddingTop:"20px",children:[(0,b.BX)("h4",{children:[(0,i.localized)("Autotask Product"),"*"]}),(0,b.tZ)(y.Z,{...T,value:_,validationState:!1===R.success.autotaskProduct?"error":null,onSelect:e=>{x("autotaskProduct",e)},...(0,i.isFeatureEnabled)("autotask_big_data")?{pageSize:500,endpoint:"/psaat/v2/productsPaginated",searchParams:e=>{var{query:t}=e;return{...t&&{productNameParam:t}}},lastItemKey:"id",responseParser:e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.productList)&&void 0!==t?t:[]}}:{options:(0,i.sortByFieldNameCaseInsensitive)("name","ASC",s)}})]})]})})};w.defaultProps={mappings:[]};const I=(0,r.$j)((e=>{var{psa:t}=e;return{productList:t.Autotask.settings.productList}}))(w);var k=a(22374),_=a(12411),x=a(444),R=a(34928),A=e=>e.trim().toLowerCase();const Z=(0,r.$j)((e=>{var{psa:t}=e;return{nodeRoleMappings:t.Autotask.settings.nodeRoleMappings}}),{saveNodeRoleMappings:x.a7})((e=>{var t,a,r,f,{unmount:y,mapping:T,nodeRoleMappings:C,saveNodeRoleMappings:E}=e,S=(0,m.s4)(),[w,x]=(0,n.useState)(!1),[Z,D]=(0,n.useState)(null!==(t=null===T||void 0===T?void 0:T.nodeRoleInstalledProductCategoryMappings)&&void 0!==t?t:[]),[N,O]=(0,n.useState)({}),[M,L]=(0,n.useState)("deviceRole"),[P,z]=(0,n.useState)("ASC"),{values:{name:B,disableInstalledProductOnNodeDelete:W,overrideProductMapping:U},onChange:F,validation:K,validateForm:H}=(0,m.cI)({fields:{name:null!==(a=null===T||void 0===T?void 0:T.name)&&void 0!==a?a:"",disableInstalledProductOnNodeDelete:null!==(r=null===T||void 0===T?void 0:T.disableInstalledProductOnNodeDelete)&&void 0!==r&&r,overrideProductMapping:null===(f=null===T||void 0===T?void 0:T.overrideProductMapping)||void 0===f||f},validate:{name:e=>{var t=A(e),a=!t,n=C.some((e=>A(e.name)===t&&e.id!==(null===T||void 0===T?void 0:T.id))),r=!a&&!n;return{success:r,message:r?"":(0,i.localized)("Invalid")}}}}),G=[{headerRenderer:i.headerRenderer,dataKey:"nodeRoleName",width:1,flexGrow:2,label:(0,i.localizationKey)("Device Role"),cellDataGetter:e=>{var{rowData:t}=e,a=N[t.nodeRoleId];return a?null!==a&&void 0!==a&&a.custom?null===a||void 0===a?void 0:a.name:(0,g.cA)(null===a||void 0===a?void 0:a.name):""}},{headerRenderer:i.headerRenderer,dataKey:"productName",width:1,flexGrow:2,label:(0,i.localizationKey)("Product"),cellRenderer:e=>{var{cellData:t}=e;return t||"-"}},{headerRenderer:i.headerRenderer,dataKey:"installedProductCategoryName",width:1,flexGrow:2,label:(0,i.localizationKey)("Configuration Item Category"),cellRenderer:e=>{var{cellData:t}=e;return t||"-"}},{headerRenderer:i.headerRenderer,dataKey:"actions",width:40,label:()=>null,cellRenderer:e=>{var{rowData:t}=e;return(0,b.tZ)("span",{className:"action-links",children:(0,b.tZ)("button",{type:"button",className:"btn-link text-danger",onClick:e=>{e.stopPropagation(),function(e){var t=(0,u.d1t)((t=>t.nodeRoleId===e),Z);D(t)}(t.nodeRoleId)},children:(0,b.tZ)(d.G,{className:"action",icon:c.NBC})})})}}];function j(e,t){var a=(0,u.kKJ)(null===t||void 0===t?void 0:t.id)?Z.concat([e]):(0,R.NJ3)(e,Z);D(a)}return(0,n.useEffect)((()=>{(async()=>{try{x(!0);var e=await(0,h.fk5)();S.current&&O(e.reduce(((e,t)=>(e[t.id]=t,e)),{}))}catch(t){(0,i.reportErrorAndShowMessage)(t)}finally{S.current&&x(!1)}})()}),[S]),(0,b.tZ)(p.Z,{onSubmit:function(e){if(e.stopPropagation(),e.preventDefault(),H()){var t=C.reduce(((e,t)=>{var{id:a}=t;return e>a?e:a}),0),a={id:(0,u.kKJ)(null===T||void 0===T?void 0:T.id)?t+1:null===T||void 0===T?void 0:T.id,name:B,disableInstalledProductOnNodeDelete:W,nodeRoleInstalledProductCategoryMappings:Z,overrideProductMapping:U},n=(0,u.kKJ)(null===T||void 0===T?void 0:T.id)?C.concat([a]):(0,R.NJ3)(a,C);E(n),y()}},children:(0,b.tZ)(v.oA,{submittable:!0,maxHeight:"480px !important",title:(0,i.localizationKey)("Ninja Device Role Mapping"),saveText:(0,i.localizationKey)("OK"),closeText:(0,i.localizationKey)("Cancel"),dialogClassName:"wide-modal",close:y,children:(0,b.BX)(o.xu,{textAlign:"left",display:"flex",flexDirection:"column",overflow:"hidden",children:[(0,b.BX)(v.dS,{validationState:!1===K.success.name?"error":null,children:[(0,b.BX)("h4",{children:[(0,i.localized)("Name"),"*"]}),(0,b.tZ)(v.__,{autoFocus:!0,type:"text",name:"name",value:B,onChange:F})]}),(0,b.BX)(o.xu,{margin:[4,0,0,0],display:"flex",alignItems:"center",children:[(0,b.tZ)(k.XZ,{checkboxClass:"icheckbox_square-blue",onChange:()=>F("disableInstalledProductOnNodeDelete",!W),checked:W}),(0,b.tZ)(o.xu,{marginLeft:2,display:"inline-block",children:(0,i.localized)("Mark configuration inactive if corresponding ninja device is deleted")})]}),(0,b.BX)(o.xu,{margin:[4,0,4,0],display:"flex",alignItems:"center",children:[(0,b.tZ)(k.XZ,{checkboxClass:"icheckbox_square-blue",onChange:()=>F("overrideProductMapping",!U),checked:U}),(0,b.tZ)(o.xu,{marginLeft:2,display:"inline-block",children:(0,i.localized)("Overrides product")})]}),(0,b.BX)(o.xu,{display:"flex",justifyContent:"space-between",children:[(0,b.tZ)("h4",{children:(0,i.localized)("Ninja Device Role Mapping")}),(0,b.tZ)(v.Sn,{type:"button",onClick:()=>{(0,s.Z)((0,b.tZ)(I,{mappings:Z,nodeRoleMap:N,saveMappings:j}),{withProvider:!0})},children:(0,i.localized)("Add")})]}),(0,b.tZ)(o.xu,{width:"100%",height:"270px",display:"flex",borderRadius:"3px",backgroundColor:"white",border:"1px solid ".concat(_.colors.ninjaLight),children:(0,b.tZ)(l.Z,{columns:G,sortBy:M,sortDirection:P,rowHeight:45,headerHeight:45,list:w?[]:Z,noRowsRenderer:(0,i.noRowsRenderer)((0,i.localizationKey)("No role mappings available"),w,"no-padding m-l-xs"),onRowClick:e=>{var{rowData:t}=e;(0,s.Z)((0,b.tZ)(I,{mapping:t,mappings:Z,nodeRoleMap:N,saveMappings:j}),{withProvider:!0})},sort:e=>{var{sortBy:t,sortDirection:a}=e;L(t),z(a)}})})]})})})}));class D extends n.PureComponent{constructor(){super(...arguments),this.state={sortBy:"configurationTypeName",sortDirection:"DESC"},this.columns=[{headerRenderer:i.headerRenderer,dataKey:"name",width:1,flexGrow:2,label:(0,i.localizationKey)("Name")},{dataKey:"actions",width:1,flexGrow:.5,label:()=>null,headerRenderer:()=>{var{nodeRoleMappings:e}=this;return(0,b.tZ)(o.xu,{display:"flex",justifyContent:"flex-end",width:"100%",children:(0,b.tZ)("button",{className:"btn-link",type:"button",onClick:()=>(0,s.Z)((0,b.tZ)(Z,{nodeRoleMappings:e}),{withProvider:!0}),children:(0,i.localized)("Add")})})},cellRenderer:e=>{var{rowData:t,index:a}=e;return(0,b.tZ)("span",{className:"action-links",children:(0,b.tZ)("button",{type:"button",className:"btn-link text-danger",onClick:e=>{e.stopPropagation();var{nodeRoleMappings:a,saveNodeRoleMappings:n}=this.props;n((0,u.d1t)((e=>e.id===t.id),a))},children:(0,i.localized)("Delete")})})}}]}render(){var{props:{nodeRoleMappings:e},state:{sortBy:t,sortDirection:a},columns:n}=this;return(0,b.tZ)(o.xu,{display:"flex",flex:1,marginLeft:3,children:(0,b.tZ)(l.Z,{columns:n,sortBy:t,sortDirection:a,list:e,rowHeight:50,headerHeight:45,noRowsRenderer:(0,i.noRowsRenderer)((0,i.localizationKey)("No Mappings"),!1,"no-padding m-l-xs"),sort:e=>{var{sortBy:t,sortDirection:a}=e;return this.setState({sortBy:t,sortDirection:a})},onRowClick:e=>{var{rowData:t,index:a}=e;(0,s.Z)((0,b.tZ)(Z,{index:a,nodeRoleMappings:this.props.nodeRoleMappings,mapping:t}),{withProvider:!0})}})})}}const N=(0,r.$j)((e=>{var{psa:t}=e;return{nodeRoleMappings:t.Autotask.settings.nodeRoleMappings}}),{saveNodeRoleMappings:x.a7})(D)},33624:(e,t,a)=>{a.d(t,{Z:()=>d});a(4519);var n=a(75100),r=a(75493),i=a(22374),o=a(51057),l=a(34928),s=a(77537);const d=(0,n.$j)((e=>{var{psa:t}=e;return{helpdeskSettings:t.Autotask.helpdeskSettings}}),{setHelpdeskOptions:o.eh})((e=>{var{helpdeskSettings:t,setHelpdeskOptions:a}=e;return(0,s.BX)(r.xu,{marginLeft:4,children:[(0,s.tZ)(r.xu,{marginBottom:4,children:(0,s.tZ)("h4",{children:(0,l.kIE)("Options for the customization of Autotask ticket creation from help desk submit from the Systray icon")})}),(0,s.BX)(r.xu,{marginBottom:4,children:[(0,s.tZ)(i.XZ,{checkboxClass:"icheckbox_square-blue",checked:t.createContact,onChange:()=>{a({...t,createContact:!t.createContact})}}),(0,s.tZ)(r.Fe,{marginLeft:2,children:(0,l.kIE)("Create contact for email addresses not already in Autotask")})]}),(0,s.BX)(r.xu,{marginBottom:4,children:[(0,s.tZ)(i.XZ,{checkboxClass:"icheckbox_square-blue",checked:t.embedHelpRequestImagesInTickets,onChange:()=>{a({...t,embedHelpRequestImagesInTickets:!t.embedHelpRequestImagesInTickets})}}),(0,s.tZ)(r.Fe,{marginLeft:2,children:(0,l.kIE)("Embed images from a helpdesk request instead of providing a downlink")})]})]})}))},14339:(e,t,a)=>{a.d(t,{Z:()=>C});var n=a(4519),r=a(75100),i=a(6775),o=a(75493),l=a(7824),s=a(71936),d=a(15064),c=a(60036),u=a(48548),p=a(24331),h=a(77537),g={rowHeight:30,width:"100%",minHeight:"32px",borderRadius:"2px",searchableKey:"name",valueSelectorKey:"id",openOnFocus:!0,rowRenderer:e=>e.name||(0,i.localized)("None")},v=e=>{var{unmount:t,mapping:a,saveMapping:r}=e,l=(0,u.s4)(),[s,d]=(0,n.useState)(!1),[v,m]=(0,n.useState)([]),[f,y]=(0,n.useState)((e=>{var t,a;return{name:null!==(t=null===e||void 0===e?void 0:e.autotaskLocationName)&&void 0!==t?t:null,id:null!==(a=null===e||void 0===e?void 0:e.autotaskLocationId)&&void 0!==a?a:null}})(a));return(0,n.useEffect)((()=>{(async()=>{d(!0);try{var e=await(0,i.fetchJson)("/psaat/v3/locations/".concat(a.autotaskAccountId));l.current&&m(e)}catch(t){(0,i.reportErrorAndShowMessage)(t)}finally{l.current&&d(!1)}})()}),[l,a]),(0,h.tZ)(c.oA,{overflow:"visible !important",title:(0,i.localizationKey)("Edit Mapping"),saveText:(0,i.localizationKey)("OK"),closeText:(0,i.localizationKey)("Cancel"),dialogClassName:"psa-modal",close:()=>{t()},save:()=>{var e={...a,autotaskLocationId:f.id,autotaskLocationName:f.name};r(e,a),t()},children:(0,h.tZ)(o.xu,{textAlign:"left",display:"flex",margin:[0,4,2,4],flexDirection:"column",children:(0,h.BX)(o.xu,{children:[(0,h.tZ)("h4",{children:(0,i.localized)("Location")}),(0,h.tZ)(p.Z,{...g,loading:s,options:[{name:null,id:null},...(0,i.sortByFieldNameCaseInsensitive)("name","ASC",v)],value:f,onSelect:e=>{y(e)}})]})})})};v.defaultProps={mappings:[]};const m=v;var f=a(444),y=a(34928),b=e=>{var{cellData:t}=e;return t?(0,h.tZ)(s.Z,{output:t,className:"word-wrap",children:(0,h.tZ)("span",{className:"text-ellipsis",children:t})}):"-"};class T extends n.PureComponent{constructor(){super(...arguments),this.state={sortBy:"configurationTypeName",sortDirection:"DESC"},this.columns=[{cellRenderer:b,headerRenderer:i.headerRenderer,dataKey:"clientName",width:1,flexGrow:1,label:(0,y.eWj)("Ninja Organization")},{cellRenderer:b,headerRenderer:i.headerRenderer,dataKey:"locationName",width:1,flexGrow:1,label:(0,y.eWj)("Ninja Location")},{cellRenderer:b,headerRenderer:i.headerRenderer,dataKey:"autotaskAccountName",width:1,flexGrow:1,label:(0,y.eWj)("Autotask Company")},{cellRenderer:b,headerRenderer:i.headerRenderer,dataKey:"autotaskLocationName",width:1,flexGrow:1,label:(0,y.eWj)("Autotask Location")}]}render(){var{props:{locationMappings:e=[],saveLocationMappings:t},state:{sortBy:a,sortDirection:n},columns:r}=this;return(0,h.tZ)(o.xu,{display:"flex",flex:1,marginLeft:3,children:(0,h.tZ)(l.Z,{columns:r,sortBy:a,sortDirection:n,list:e,rowHeight:50,headerHeight:45,noRowsRenderer:(0,i.noRowsRenderer)((0,y.eWj)("No Mappings"),!1,"no-padding  m-l-xs"),sort:e=>{var{sortBy:t,sortDirection:a}=e;return this.setState({sortBy:t,sortDirection:a})},onRowClick:a=>{var{rowData:n,index:r}=a;(0,d.Z)((0,h.tZ)(m,{mapping:n,saveMapping:a=>{var n=(0,y.NJ3)(a,e,"locationId");t(n)}}))}})})}}const C=(0,r.$j)((e=>{var{psa:t}=e;return{locationMappings:t.Autotask.settings.locationMappings}}),{saveLocationMappings:f.Eq})(T)},75606:(e,t,a)=>{a.d(t,{Z:()=>c});a(4519);var n=a(75100),r=a(58064),i=a(75493),o=a(22374),l=a(444),s=a(6775),d=a(77537);const c=(0,n.$j)((e=>{var{psa:t}=e;return{deviceDataSyncAttributes:t.Autotask.settings.deviceDataSyncAttributes,syncAttributes:t.Autotask.settings.availableDeviceDataSyncAttributes}}),{setDeviceDataSyncAttributes:l.iQ})((e=>{var{deviceDataSyncAttributes:t,setDeviceDataSyncAttributes:a,syncAttributes:n}=e,l=(null===t||void 0===t?void 0:t.length)===n.length;return(0,d.BX)(i.xu,{marginLeft:4,overflowY:"auto",children:[(0,d.BX)(i.xu,{marginBottom:4,children:[(0,d.tZ)(o.XZ,{checked:l,checkboxClass:"icheckbox_square-blue",onChange:()=>{a(l?[]:n)}}),(0,d.tZ)(i.Fe,{marginLeft:2,fontWeight:600,color:"black",children:l?(0,s.localized)("general.unselectAll"):(0,s.localized)("general.selectAll")})]}),n.map((e=>{var n=t.includes(e);return(0,d.BX)(i.xu,{marginBottom:4,children:[(0,d.tZ)(o.XZ,{checkboxClass:"icheckbox_square-blue",onChange:()=>{var i=n?((e,t)=>(0,r.d1t)((t=>t===e),t))(e,t):((e,t)=>[...t,e])(e,t);a(i)},checked:n}),(0,d.tZ)(i.Fe,{marginLeft:2,color:"ninjaMedium",children:(0,s.localized)("configuration.psa.".concat(e))})]},e)}))]})}))},51514:(e,t,a)=>{a.d(t,{Eb:()=>o,Hn:()=>i,hu:()=>n,sZ:()=>r});var n="CLIENT_DEFAULT",r="SPECIFIED",i="NONE",o={id:i,name:"None"}},36191:(e,t,a)=>{a.d(t,{Z:()=>Ge});var n=a(4519),r=a(67675),i=a(59162),o=a(6775),l=a(7683),s=a(58064),d=a(75100),c=a(48096),u=a(44164),p=a(34928),h=a(71936),g=a(49026),v=a(64734),m=a(77537),f=(0,s.rO9)({id:s.BBt});function y(e){return(0,g.x)((0,s.UID)(f,e))}function b(e,t){var a=(0,p.kIE)("Deleted");return(0,s.UID)((e=>{var[n,r]=e,i=t[n];return{id:n,name:"".concat((null===i||void 0===i?void 0:i.name)||r).concat(i?"":" (".concat(a,")")),__originalName:r}}),(0,s.Zpf)(e||{}))}function T(e){return(0,s.u4g)(((e,t)=>{var{id:a,name:n,__originalName:r}=t;return(0,s.yGi)(a,r||n,e)}),{},e||[])}const C=(0,d.$j)((e=>{var{psa:t}=e;return{availableStatuses:t.ConnectWise.mappings.accounts.companyCriteria.companyStatusList,availableTypes:t.ConnectWise.mappings.accounts.companyCriteria.companyTypeList,statusesMap:t.ConnectWise.mappings.accounts.companyCriteria.companyStatusMap,typesMap:t.ConnectWise.mappings.accounts.companyCriteria.companyTypeMap,selectedTypes:t.ConnectWise.mappings.accounts.companyFilterMap.types,selectedStatuses:t.ConnectWise.mappings.accounts.companyFilterMap.statuses,validations:t.ConnectWise.validations}}),{setSelectedTypes:e=>({type:"SET_CW_COMPANY_FILTER_TYPES",types:e}),setSelectedStatuses:e=>({type:"SET_CW_COMPANY_FILTER_STATUSES",statuses:e}),validateSettings:v.o})((e=>{var{availableStatuses:t,availableTypes:a,statusesMap:r,typesMap:i,selectedStatuses:o,selectedTypes:l,setSelectedStatuses:d,setSelectedTypes:g,validations:v,validateSettings:f}=e,C=(0,u.u)(),E=(0,n.useMemo)((()=>y(t)),[t]),S=(0,n.useMemo)((()=>y(a)),[a]),w=(0,n.useMemo)((()=>b(l,i)),[l,i]),I=(0,n.useMemo)((()=>b(o,r)),[o,r]),k=(0,n.useMemo)((()=>function(e){var t,{companyCriteriaValidations:a,borderErrorColor:n}=e,{statuses:{message:r},types:{message:i}}=a,o=(r||i)&&(t=n,{control:e=>({...e,borderColor:t})});return{statuses:{message:r,...r&&{selectStyle:o}},types:{message:i,...i&&{selectStyle:o}}}}({companyCriteriaValidations:v.companyCriteria,borderErrorColor:C.colorBorderError})),[v.companyCriteria,C.colorBorderError]);return(0,m.BX)("div",{className:"display-flex flex-column m-b",children:[(0,m.BX)("h4",{className:"col-xs-12",children:[(0,p.kIE)("Company Criteria"),"\xa0",(0,m.tZ)(h.Z,{token:(0,p.eWj)("Please select your PSA company filters to limit the companies that are available for mapping.")})]}),(0,m.tZ)("div",{className:"col-xs-12",children:(0,m.BX)("div",{className:"row form-group display-flex",children:[(0,m.tZ)("label",{className:"col-xs-2 display-flex align-items-center m-n",children:(0,m.tZ)("span",{className:"p-l",children:(0,p.kIE)("Types")})}),(0,m.BX)("div",{className:"col-xs-10 no-padding",children:[(0,m.tZ)(c.ZP,{isMulti:!0,closeMenuOnSelect:!1,value:w,options:S,onChange:e=>{(0,s.qCK)(g,T)(e||[]),v.validated&&f()},getOptionValue:(0,s.vgT)("id"),getOptionLabel:(0,s.vgT)("name"),placeholder:(0,p.kIE)("Select Multiple..."),styles:k.types.selectStyle}),(0,m.tZ)("em",{className:"invalid",children:k.types.message})]})]})}),(0,m.tZ)("div",{className:"col-xs-12",children:(0,m.BX)("div",{className:"row form-group display-flex m-b-n",children:[(0,m.tZ)("label",{className:"col-xs-2 display-flex align-items-center m-n",children:(0,m.tZ)("span",{className:"p-l",children:(0,p.kIE)("Statuses")})}),(0,m.BX)("div",{className:"col-xs-10 no-padding",children:[(0,m.tZ)(c.ZP,{isMulti:!0,closeMenuOnSelect:!1,value:I,options:E,onChange:e=>{(0,s.qCK)(d,T)(e||[]),v.validated&&f()},placeholder:(0,p.kIE)("Select Multiple..."),getOptionValue:(0,s.vgT)("id"),getOptionLabel:(0,s.vgT)("name"),styles:k.statuses.selectStyle}),(0,m.tZ)("em",{className:"invalid",children:k.statuses.message})]})]})})]},"criteria")}));var E=a(76742),S=a(6868),w=a(96143),I=a(40307),k=a(32208),_=a(65805),x=a(50176),R=a(8456),A=a(75493),Z=a(37495),D=a(8326),N=a(97008);var O={name:"118m7ok",styles:"width:100%;display:flex;flex-wrap:wrap;align-items:center"};const M=(0,n.memo)((e=>{var{leftText:t,rightText:a}=e;return(0,m.BX)("span",{css:O,children:[t&&(0,m.tZ)(N.B,{text:t}),t&&(0,m.tZ)(Z.G,{icon:D.eFW,size:"sm",className:"m-l-xs m-r-xs"}),a&&(0,m.tZ)(N.B,{text:a})]})}));var L=a(9346),P={id:"cw-auto-map",token:(0,p.eWj)("Auto Map")},z={id:"cw-clear-mapping",token:(0,p.eWj)("Clear Mapping")},B={id:"cw-refetch-account-options",token:(0,p.eWj)("Refresh ConnectWise Data")},W={id:"cw-refetch-account-options",label:()=>(0,m.BX)("span",{children:[(0,p.kIE)("Refresh ConnectWise Data"),(0,m.tZ)("span",{className:"m-l-sm",children:(0,m.tZ)(Z.G,{icon:D.d8e,spin:!0})})]})},U=a(61320),F=a(42498),K=e=>{var{searchQuery:t,organizationData:a}=e,n=t.toLowerCase().trim();return n?(0,s.hXT)((e=>{var{clientName:t,companyName:a}=e;return(null===t||void 0===t?void 0:t.toLowerCase().includes(n))||(null===a||void 0===a?void 0:a.toLowerCase().includes(n))}),a):a};class H extends n.PureComponent{constructor(){super(...arguments),this.state={refreshingEntities:!1,selected:0,searchQuery:"",filteredOrganizationData:[]},this.columns=()=>[{headerRenderer:k.gS,dataKey:"clientName",label:()=>(0,m.tZ)(M,{leftText:(0,o.localized)("Ninja Organization"),rightText:(0,o.localized)("CW Company")}),width:1,flexGrow:1,cellRenderer:e=>{var{rowData:t,rowIndex:a}=e,{clientName:n,companyName:r,hideFirstColumn:i}=t;return(0,m.tZ)("span",{className:"full-width",children:!i&&(0,m.tZ)(M,{leftText:n,rightText:r||(0,o.localized)("Not Mapped")})})}},{headerRenderer:k.gS,dataKey:"companyName",disableSort:!0,label:()=>(0,m.tZ)(M,{leftText:(0,o.localized)("Location"),rightText:(0,o.localized)("CW Site")}),width:1,flexGrow:1,cellRenderer:e=>{var{rowData:t,rowIndex:a}=e,{companyId:n,locationName:r,psaSiteName:i}=t;return(0,m.tZ)("span",{className:"display-flex flex-full text-wrap",children:n&&(0,m.tZ)(M,{leftText:r,rightText:i||(0,o.localized)("None")})})}},{headerRenderer:k.gS,dataKey:"productMappingName",disableSort:!0,label:()=>(0,o.localized)("Products"),width:1,flexGrow:1,cellRenderer:e=>{var{rowData:t,rowIndex:a}=e,{productMappingName:n,productMappingType:r,areLocationsMapped:i,orgProductMappingName:o}=t;return(0,m.tZ)("span",{className:"display-flex flex-full text-wrap",children:i?(0,_.ov)(n||o,r):n})}},{headerRenderer:k.gS,dataKey:"configurationTypeMappingName",disableSort:!0,label:()=>(0,o.localized)("Configuration Types"),width:1,flexGrow:1,cellRenderer:e=>{var{rowData:t,rowIndex:a}=e,{configurationTypeMappingName:n,configurationTypeMappingType:r,areLocationsMapped:i,orgConfigurationTypeMappingName:o}=t;return(0,m.tZ)("span",{className:"display-flex flex-full text-wrap",children:i?(0,_.ov)(n||o,r):n})}}],this.refreshConnectWiseEntities=async()=>{var{refetchCWAccountOptions:e,getConfigurationTypeList:t,getConfigurationStatusList:a,getAgreementTypes:n,getProducts:r,clearCWAccountOrganizationSites:i}=this.props;try{this.setState({refreshingEntities:!0}),i(),await Promise.all([e(),t(),a(),n(),r()]),(0,o.showSuccessMessage)((0,o.localized)("Successfully updated ConnectWise entities"))}catch(l){(0,o.showErrorMessage)((0,o.localized)("Error while refreshing ConnectWise entities")),(0,o.ninjaReportError)(l)}finally{this.setState({refreshingEntities:!1})}},this.getFetchAccountOption=()=>{var{refreshingEntities:e}=this.state;return e?W:B},this.getActions=()=>{var{selected:e}=this.state,t=this.getFetchAccountOption();return e?[P,z,t]:[P,t]},this.filterData=(0,o.debounce)((e=>{this._isMounted&&this.setState({filteredOrganizationData:K({searchQuery:e,organizationData:this.props.organizationData})})}),200),this.updateQuerySearch=e=>{this.setState({searchQuery:e}),this.filterData(e)}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}componentDidUpdate(e){e.organizationData!==this.props.organizationData&&this.setState({filteredOrganizationData:K({searchQuery:this.state.searchQuery,organizationData:this.props.organizationData})})}render(){var{sort:e,sortBy:t,sortDirection:a,setSelectedAccountMappings:n,autoMap:r,confirmResetMapping:i}=this.props;return(0,m.BX)("div",{className:"display-flex flex-direction-column flex-full p-l",children:[(0,m.tZ)(A.xu,{maxWidth:"450px",marginBottom:R.default.spacing[2],children:(0,m.tZ)(x.E1,{width:"100%",placeholderText:(0,o.localized)("Search by organization or company name"),value:this.state.searchQuery,onChange:e=>this.updateQuerySearch(e.target.value),clearInput:()=>this.updateQuerySearch("")})}),(0,m.tZ)(L.Z,{id:"psa-account-mapping-table",sort:e,sortBy:t,sortDirection:a,columns:this.columns,dataKey:"clientId",data:this.state.filteredOrganizationData,rowHeight:45,headerHeight:45,noRowsRenderer:(0,k.uF)((0,o.localizationKey)("No Organizations")),onCheck:e=>{var{row:t,selected:a,checked:r}=e;this.setState({selected:a.length}),n((0,s.UID)((e=>parseInt(e,10)),(0,s.XPQ)(a.rows)))},onRowClick:e=>{var{rowData:{data:t}}=e;return this.props.openAccountOrganizationModal(t)},actions:this.getActions(),onAction:e=>{var{id:t}=e;switch(t){case P.id:r();break;case z.id:i();break;case B.id:this.refreshConnectWiseEntities();break;default:throw new Error("Invalid action")}}})]})}}const G=(0,d.$j)(null,{getConfigurationTypeList:U.KT,getConfigurationStatusList:U.mA,getAgreementTypes:F.nN,getProducts:F.Xp,clearCWAccountOrganizationSites:w.kC})(H);var j=a(5917),V=a(27702),X=a(14081),q=a(99787),Y=a(64520),J=a(34244),$=a(26155),Q=a(93235),ee=a(12411),te=a(55113),ae=a(58496),ne=(0,te.P1)((0,te.P1)([e=>e.mappings.accounts.accountOrganizationModal.mapping.locationSiteMappings,e=>e.mappings.accounts.locationSiteMappingSort.sortBy,e=>e.mappings.accounts.locationSiteMappingSort.sortDirection],((e,t,a)=>({data:e,sortBy:t,sortDirection:a}))),ae.Z);class re extends n.PureComponent{constructor(){super(...arguments),this.onEdit=(e,t)=>{e.stopPropagation(),e.preventDefault();var{companyId:a,openLocationSiteMappingModal:n}=this.props;n(t,a)},this.rowRenderer=e=>{var{index:t,key:a,rowData:n,style:r}=e,{mapping:{productMappingName:i,configurationTypeMappingName:o}}=this.props,{productMappingName:l,productMappingType:s,configurationTypeMappingName:d,configurationTypeMappingType:c}=n,u=(0,_.ov)(l||i,s),h=(0,_.ov)(d||o,c);return(0,m.BX)(A.kC,{key:a,style:r,className:"list-group-item horizontal-tile flex-tile cursor-default",onClick:e=>{this.onEdit(e,n)},alignItems:"center",children:[(0,m.tZ)(A.Fe,{className:"col-xs-6 text-ellipsis",textAlign:"left",children:(0,m.tZ)(N.B,{text:n.locationName})}),(0,m.tZ)(A.Fe,{className:"col-xs-6",textAlign:"left",children:n.psaSiteName||(0,p.kIE)("None")}),(0,m.tZ)(A.Fe,{className:"col-xs-6",textAlign:"left",children:u}),(0,m.tZ)(A.Fe,{className:"col-xs-6",textAlign:"left",children:h}),(0,m.tZ)(A.Fe,{className:"col-xs-6",textAlign:"left",children:n.agreementName||(0,p.kIE)("None")})]})}}render(){var{height:e,width:t,locations:a,sort:n,sortBy:r,sortDirection:i}=this.props;return(0,m.BX)(J.iA,{sort:n,sortBy:r,sortDirection:i,height:e,width:t,ref:e=>{this.Table=e},headerHeight:35,rowHeight:60,rowRenderer:this.rowRenderer,rowCount:a.length,rowGetter:e=>{var{index:t}=e;return a[t]},noRowsRenderer:(0,k.uF)((0,p.eWj)("No Mappings"),!1,"text-align-left col-xs-3"),className:"horizontal-tiles list-group",children:[(0,m.tZ)(J.sg,{headerRenderer:k.gS,dataKey:"locationName",label:(0,p.kIE)("Ninja Location"),width:1,flexGrow:1,headerClassName:"col-xs-6"}),(0,m.tZ)(J.sg,{headerRenderer:k.gS,dataKey:"psaSiteName",label:(0,p.kIE)("CW Site"),width:1,flexGrow:1,headerClassName:"col-xs-6"}),(0,m.tZ)(J.sg,{headerRenderer:k.gS,dataKey:"productMappingName",label:(0,p.kIE)("Product Mapping"),width:1,flexGrow:1,headerClassName:"col-xs-6"}),(0,m.tZ)(J.sg,{headerRenderer:k.gS,dataKey:"configurationTypeMappingName",label:(0,p.kIE)("Configuration Type Mapping"),width:1,flexGrow:1,headerClassName:"col-xs-6"}),(0,m.tZ)(J.sg,{headerRenderer:k.gS,dataKey:"psaAgreementName",label:(0,p.kIE)("Agreement"),width:1,flexGrow:1,headerClassName:"col-xs-6"})]})}}var ie=a(75793),oe=a(48548),le=a(51514);var se={name:"1flj9lk",styles:"text-align:left"},de=(e,t,a)=>(0,s.wVM)([[()=>t,(0,s.Bxt)(null)],[()=>a,(0,s.Bxt)(null)],[s.T,(0,s.Bxt)(e)]])(),ce=(e,t)=>(0,s.wVM)([[()=>e,(0,s.Bxt)(le.hu)],[()=>t,(0,s.Bxt)(le.Hn)],[s.T,(0,s.Bxt)(le.sZ)]])(),ue={name:e=>"".concat(e," - ").concat((0,o.localized)("Default"))},pe=(0,s.UID)((0,s.eiS)(["id","name"]));const he=e=>{var{location:t,companyId:a,availableSites:r,updateLocationSiteMapping:i,setSite:d,hideModal:u,productMappings:p,configurationTypeMappings:v,mapping:f,setLocationProductMapping:y,setLocationConfigurationTypeMapping:b,setLocationAgreement:T}=e,[C,E]=(0,oe.DJ)([]),[S,w]=(0,oe.DJ)(!0),I=(0,n.useMemo)((()=>pe(C)),[C]);(0,n.useEffect)((()=>{(async()=>{try{var{financeAgreementList:e}=await(0,o.fetchJson)("/psacw/v2/finance/agreements?companyId=".concat(a));E(e)}catch(t){(0,o.reportErrorAndShowMessage)(t,(0,o.localizationKey)("Error fetching Company agreements"))}finally{w(!1)}})()}),[a,E,w]);var{values:{site:k},validation:_,onChange:x}=(0,oe.cI)({fields:{site:{id:t.psaSiteId,name:t.psaSiteName},productMapping:{id:t.productMappingId,name:t.productMappingName},configurationTypeMapping:{id:t.configurationTypeMappingId,name:t.configurationTypeMappingName},agreement:{id:t.agreementId,name:t.agreementName}}});return(0,m.tZ)(j.Z,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),i(t,a),u()},children:(0,m.tZ)(ie.Z,{submittable:!0,overflow:!0,dataTitle:!0,title:(0,o.localized)('"{{locationName}}" Ninja Location to CW Site',{locationName:t.locationName}),close:u,closeText:(0,o.localizationKey)("Cancel"),saveText:(0,o.localizationKey)("OK"),showCloseButton:!1,dialogClassName:"psa-modal",disabledSaveBtn:S,children:S?(0,m.tZ)(l.Z,{}):(0,m.BX)("div",{className:"display-flex flex-column",children:[(0,m.BX)(V.Z,{validationState:_.message.site?"error":null,children:[(0,m.tZ)(X.Z,{xs:3,componentClass:q.Z,css:se,className:"m-b-none",children:(0,m.tZ)("span",{children:(0,o.localized)("CW Site")})}),(0,m.BX)(X.Z,{xs:9,children:[(0,m.tZ)(c.ZP,{name:"site",className:_.message.site?"invalid-single-select":"",value:(0,s.sEJ)((e=>e.id===k.id),r||[])||le.Eb,options:(0,g.x)([...r,le.Eb]),onChange:function(e){var{id:t,name:a}=e,n=t===le.Hn;d({psaSiteId:n?null:t,psaSiteName:n?null:a}),x({site:e})},placeholder:(0,o.localized)("Select..."),getOptionValue:(0,s.vgT)("id"),getOptionLabel:(0,s.vgT)("name")}),_.message.site&&(0,m.tZ)("em",{className:"invalid",children:_.message.site})]})]}),(0,m.BX)(V.Z,{validationState:_.message.productMapping?"error":null,children:[(0,m.tZ)(X.Z,{xs:3,componentClass:q.Z,css:se,className:"m-b-none",children:(0,m.tZ)("span",{children:(0,o.localized)("Product Mapping")})}),(0,m.BX)(X.Z,{xs:9,children:[(0,m.tZ)(c.ZP,{name:"productMapping",className:_.message.productMapping?"invalid-single-select":"",value:function(){var{productMappingType:e,productMappingId:a}=t,{productMappingId:n}=f;switch(e){case le.hu:return(0,s.qCK)((0,s.rO9)(ue),(0,s.sEJ)((0,s.OH4)("id",n)))(p);case le.Hn:return le.Eb;default:return(0,s.sEJ)((0,s.OH4)("id",a),p)}}(),options:(0,g.x)([...p,le.Eb]),onChange:function(e){var{id:t,name:a}=e,{productMappingId:n}=f,r=t===n,i=t===le.Hn;y({productMappingName:de(a,r,i),productMappingId:de(t,r,i),productMappingType:ce(r,i)}),i&&T({agreementId:null,agreementName:null}),x({productMapping:e,...i&&{agreement:le.Eb}})},placeholder:(0,o.localized)("Select..."),getOptionValue:(0,s.vgT)("id"),getOptionLabel:(0,s.vgT)("name")}),_.message.productMapping&&(0,m.tZ)("em",{className:"invalid",children:_.message.productMapping})]})]}),(0,m.BX)(V.Z,{validationState:_.message.configurationTypeMapping?"error":null,children:[(0,m.tZ)(X.Z,{xs:3,componentClass:q.Z,css:se,className:"m-b-none",children:(0,m.tZ)("span",{children:(0,o.localized)("Configuration Type Mapping")})}),(0,m.BX)(X.Z,{xs:9,children:[(0,m.tZ)(c.ZP,{name:"configurationTypeMapping",className:_.message.configurationTypeMapping?"invalid-single-select":"",value:function(){var{configurationTypeMappingType:e,configurationTypeMappingId:a}=t,{configurationTypeMappingId:n}=f;switch(e){case le.hu:return(0,s.qCK)((0,s.rO9)(ue),(0,s.sEJ)((0,s.OH4)("id",n)))(v);case le.Hn:return le.Eb;default:return(0,s.sEJ)((0,s.OH4)("id",a),v)}}(),options:(0,g.x)([...v,le.Eb]),onChange:function(e){var{id:t,name:a}=e,{configurationTypeMappingId:n}=f,r=t===n,i=t===le.Hn;b({configurationTypeMappingName:de(a,r,i),configurationTypeMappingId:de(t,r,i),configurationTypeMappingType:ce(r,i)}),x({configurationTypeMapping:e})},placeholder:(0,o.localized)("Select..."),getOptionValue:(0,s.vgT)("id"),getOptionLabel:(0,s.vgT)("name")}),_.message.configurationTypeMapping&&(0,m.tZ)("em",{className:"invalid",children:_.message.configurationTypeMapping})]})]}),(0,m.BX)(V.Z,{children:[(0,m.BX)(X.Z,{xs:3,componentClass:q.Z,css:se,className:"m-b-none",children:[(0,m.tZ)("span",{children:(0,o.localized)("Agreement")}),(0,m.tZ)(h.Z,{token:(0,o.localizationKey)("Agreement is optional. If set, devices in this location will be mapped to it. Otherwise, devices will be mapped using the Agreement Type defined in the Product mapping.")})]}),(0,m.tZ)(X.Z,{xs:9,children:(0,m.tZ)(c.ZP,{name:"agreement",value:function(){var{agreementId:e}=t;return e?(0,s.sEJ)((0,s.OH4)("id",e),I):le.Eb}(),options:(0,g.x)([...I,le.Eb]),onChange:function(e){var{id:t,name:a}=e,n=t===le.Hn;T({agreementId:de(t,!1,n),agreementName:de(a,!1,n)}),x({agreement:e})},placeholder:(0,o.localized)("Select..."),getOptionValue:(0,s.vgT)("id"),getOptionLabel:(0,s.vgT)("name"),isDisabled:!t.productMappingId&&t.productMappingType!==le.hu})})]})]})})})};var ge=a(41554),ve=a(7824);function me(e){var{possibleLocationMappings:t,sort:a,sortBy:n,sortDirection:r}=e;return(0,m.tZ)(ve.Z,{sort:a,sortBy:n,sortDirection:r,noRowsRenderer:(0,k.uF)((0,p.eWj)("There are no sites to be mapped")),className:"horizontal-tiles list-group",list:t,columns:[{headerRenderer:k.gS,dataKey:"clientName",label:(0,p.eWj)("Ninja Location"),width:1,flexGrow:1,cellRenderer:e=>{var{rowData:t}=e,{mapping:a}=t;return(0,m.tZ)("h4",{children:a.locationName})}},{headerRenderer:k.gS,dataKey:"companyName",disableSort:!0,label:(0,p.eWj)("CW Site"),width:1,flexGrow:1,cellRenderer:e=>{var{rowData:t}=e,{site:a}=t;return(0,m.tZ)("span",{children:a.name})}}]})}var fe=(0,ge.Z)("p",{target:"e16ywqf71"})("text-align:left;color:",ee.colors.ninjaMedium,";"),ye=(0,ge.Z)("div",{target:"e16ywqf70"})("height:282px;display:flex;background-color:",ee.colors.ninjaWhite,";");class be extends n.PureComponent{constructor(){super(...arguments),this.handleCancel=()=>{var{cancelLocationSiteAutoMapping:e,unmount:t}=this.props;e&&e(),t&&t()},this.handleSave=()=>{var{saveLocationSiteAutoMapping:e,unmount:t}=this.props;e&&e(),t&&t()}}render(){var{possibleLocationMappings:e,possibleLocationMappingsModalLoading:t}=this.props;return(0,m.tZ)(ie.Z,{title:(0,p.eWj)("Auto mapping results"),saveText:(0,p.eWj)("Auto Map"),closeText:(0,p.eWj)("Cancel"),disabledSaveBtn:!e.length,save:this.handleSave,close:this.handleCancel,dialogClassName:"psa-modal",children:t?(0,m.tZ)(l.Z,{}):(0,m.BX)("div",{className:"p-l p-r",children:[(0,m.BX)(fe,{children:[(0,m.tZ)("span",{children:e.length})," ",(0,p.kIE)("location(s) will be mapped")]}),(0,m.tZ)(ye,{className:"panel-bordered",children:(0,m.tZ)(me,{possibleLocationMappings:e})})]})})}}const Te=(0,d.$j)((e=>{var{psa:t}=e;return{possibleLocationMappings:t.ConnectWise.mappings.accounts.accountOrganizationModal.possibleLocationMappings,possibleLocationMappingsModalLoading:t.ConnectWise.mappings.accounts.possibleLocationMappingsModalLoading}}),{cancelLocationSiteAutoMapping:w.Dd,saveLocationSiteAutoMapping:w.G$})(be);var Ce=a(15064);var Ee={name:"iixuhr",styles:"display:flex;flex-flow:column;flex:1;height:340px;margin-top:-15px"},Se={name:"1tsml1o",styles:"display:flex;justify-content:flex-end;margin-top:-9px"},we=(0,$.css)("background-color:",ee.colors.white,";border:1px solid ",ee.colors.ninjaLight,";margin-top:20px;","");class Ie extends n.PureComponent{constructor(){super(...arguments),this.onAuto=e=>{e.stopPropagation(),e.preventDefault();var{autoMapLocations:t,companyId:a}=this.props;t&&t(a),(0,Ce.Z)((0,m.tZ)(Te,{}),{withProvider:!0})},this.onClear=e=>{e.stopPropagation(),e.preventDefault();var{clearLocationMappings:t}=this.props;t&&t()},this.onRefresh=e=>{e.stopPropagation(),e.preventDefault();var{refreshCompanySites:t,companyId:a}=this.props;t&&t(a)}}render(){var{modalVisibility:e,locations:t,companyId:a,openLocationSiteMappingModal:n,sort:r,sortBy:i,sortDirection:s,location:d,availableSites:c,updateLocationSiteMapping:u,setSite:p,hideModal:h,productMappings:g,configurationTypeMappings:v,accountOrganizationModal:{mapping:f},setLocationProductMapping:y,setLocationConfigurationTypeMapping:b,loading:T,setLocationAgreement:C}=this.props;return T?(0,m.tZ)(l.Z,{}):(0,m.BX)("div",{css:Ee,children:[(0,m.BX)("div",{css:Se,children:[(0,m.tZ)("button",{className:"btn-link action m-r",onClick:this.onAuto,children:(0,o.localized)("Auto")}),(0,m.tZ)("button",{className:"btn-link action m-r",onClick:this.onClear,children:(0,o.localized)("Clear")}),(0,m.tZ)("button",{className:"btn-link action m-r",onClick:this.onRefresh,children:(0,o.localized)("Refresh")})]}),(0,m.tZ)("div",{className:"display-flex flex-full overflow-hidden",css:we,children:(0,m.tZ)(J.qj,{children:e=>{var{height:o,width:l}=e;return(0,m.tZ)(re,{height:o,width:l,sort:r,sortBy:i,sortDirection:s,locations:t,companyId:a,openLocationSiteMappingModal:n,mapping:f})}})}),(0,m.tZ)(Q.Z,{show:e,className:"inmodal",children:(0,m.tZ)(he,{location:d,companyId:a,availableSites:c,updateLocationSiteMapping:u,setSite:p,hideModal:h,productMappings:g,configurationTypeMappings:v,mapping:f,setLocationProductMapping:y,setLocationConfigurationTypeMapping:b,setLocationAgreement:C})})]})}}const ke=(0,d.$j)((e=>{var{psa:t}=e;return{modalVisibility:t.ConnectWise.mappings.accounts.locationSiteMappingModalVisibility,locations:ne(t.ConnectWise),companyId:t.ConnectWise.mappings.accounts.accountOrganizationModal.mapping.companyId,sortBy:t.ConnectWise.mappings.accounts.locationSiteMappingSort.sortBy,sortDirection:t.ConnectWise.mappings.accounts.locationSiteMappingSort.sortDirection,location:t.ConnectWise.mappings.accounts.accountOrganizationModal.locationSiteModal.location,availableSites:t.ConnectWise.mappings.accounts.accountOrganizationModal.availableSites,productMappings:t.ConnectWise.mappings.products.productMappings,configurationTypeMappings:t.ConnectWise.mappings.configurations.configurationTypeMappings,accountOrganizationModal:t.ConnectWise.mappings.accounts.accountOrganizationModal,loading:t.ConnectWise.mappings.accounts.locationSiteLoading,possibleLocationMappings:t.ConnectWise.mappings.accounts.accountOrganizationModal.possibleLocationMappings,possibleLocationMappingsModalLoading:t.ConnectWise.mappings.accounts.possibleLocationMappingsModalLoading}}),{sort:(0,E.D)("CWLocationSiteMappingSort"),openLocationSiteMappingModal:w.$N,hideModal:(0,Y.C)("CWLocationSiteMappingModal"),updateLocationSiteMapping:w.DB,setSite:w.nH,setLocationProductMapping:w._K,setLocationConfigurationTypeMapping:w.Pt,autoMapLocations:w.X2,clearLocationMappings:w.Lx,refreshCompanySites:w.bd,setLocationAgreement:w.i})(Ie);var _e=a(60036);var xe={name:"1flj9lk",styles:"text-align:left"},Re={name:"1gammwy",styles:"margin-top:5px"};const Ae=(0,d.$j)((e=>{var{psa:t}=e;return{accountOrganizationModal:t.ConnectWise.mappings.accounts.accountOrganizationModal,loading:t.ConnectWise.mappings.accounts.accountOrganizationMappingModalLoading,productMappings:t.ConnectWise.mappings.products.productMappings,configurationTypeMappings:t.ConnectWise.mappings.configurations.configurationTypeMappings,companies:t.ConnectWise.mappings.accounts.companies}}),{updateAccountOrganizationModalMapping:S.Jp,updateAccountOrganizationMapping:S.lm,hideAccountModal:(0,Y.C)("CWAccountOrganizationMappingModal")})((e=>{var{accountOrganizationModal:{mapping:t},loading:a,productMappings:n,configurationTypeMappings:r,updateAccountOrganizationModalMapping:i,updateAccountOrganizationMapping:o,hideAccountModal:d,companies:u}=e,{values:{company:h},validation:v,onChange:f}=(0,oe.cI)({fields:{company:{id:t.companyId,name:t.companyName}},validate:{company:y}});function y(e){return{success:e.id,message:!e.id&&(0,p.kIE)("Required")}}return(0,m.tZ)(j.Z,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),y(h).success&&(o(t),d())},children:(0,m.tZ)(_e.oA,{submittable:!0,overflow:!0,dataTitle:!0,title:'"'.concat(t.clientName,'" ').concat((0,p.kIE)("Ninja Organization to CW Company Mapping")),close:d,closeText:(0,p.eWj)("Cancel"),saveText:(0,p.eWj)("OK"),showCloseButton:!1,dialogClassName:"wide-modal psa-modal",disabledSaveBtn:!h.id,...h.id&&{height:"580px !important",maxHeight:"580px !important"},children:a?(0,m.tZ)(l.Z,{}):(0,m.BX)("div",{className:"display-flex flex-column",children:[(0,m.BX)(V.Z,{validationState:v.message.company?"error":null,children:[(0,m.BX)(X.Z,{xs:4,componentClass:q.Z,css:xe,children:[(0,m.tZ)("span",{children:(0,p.kIE)("CW Company")}),(0,m.tZ)("sup",{children:" *"})]}),(0,m.BX)(X.Z,{xs:8,children:[(0,m.tZ)(c.ZP,{name:"company",className:v.message.company?"invalid-single-select":"",value:u.find((e=>e.id===h.id)),options:(0,g.x)(u),onChange:function(e){i({companyId:(0,s.Uth)(null,"id",e),companyName:(0,s.Uth)(null,"name",e)}),f("company",e)},placeholder:(0,p.kIE)("Select..."),getOptionValue:(0,s.vgT)("id"),getOptionLabel:(0,s.vgT)("name")}),v.message.company&&(0,m.tZ)("em",{className:"invalid",children:v.message.company})]})]}),(0,m.BX)(V.Z,{className:"m-b-md",children:[(0,m.tZ)(X.Z,{xs:4,componentClass:q.Z,css:xe,children:(0,m.tZ)("span",{children:(0,p.kIE)("Product Mapping")})}),(0,m.tZ)(X.Z,{xs:8,children:(0,m.tZ)(c.ZP,{name:"productMapping",value:n.find((e=>e.id===t.productMappingId)),options:(0,g.x)(n),onChange:function(e){i({productMappingId:(0,s.Uth)(null,"id",e),productMappingName:(0,s.Uth)(null,"name",e)})},placeholder:(0,p.kIE)("Select..."),getOptionValue:(0,s.vgT)("id"),getOptionLabel:(0,s.vgT)("name")})})]}),(0,m.BX)(V.Z,{className:"m-b-md",children:[(0,m.tZ)(X.Z,{xs:4,componentClass:q.Z,css:xe,children:(0,m.tZ)("span",{children:(0,p.kIE)("Configuration Type Mapping")})}),(0,m.tZ)(X.Z,{xs:8,children:(0,m.tZ)(c.ZP,{name:"configurationTypeMapping",value:r.find((e=>e.id===t.configurationTypeMappingId)),options:(0,g.x)(r),onChange:function(e){i({configurationTypeMappingId:(0,s.Uth)(null,"id",e),configurationTypeMappingName:(0,s.Uth)(null,"name",e)})},placeholder:(0,p.kIE)("Select..."),getOptionValue:(0,s.vgT)("id"),getOptionLabel:(0,s.vgT)("name")})})]}),h.id&&(0,m.BX)(V.Z,{css:Re,children:[(0,m.tZ)(X.Z,{xs:12,componentClass:q.Z,css:xe,children:(0,p.kIE)("Ninja Locations to CW Sites")}),(0,m.tZ)(X.Z,{xs:12,children:(0,m.tZ)(ke,{})})]})]})})})}));function Ze(e){var{organizations:t,sort:a,sortBy:n,sortDirection:r}=e;return(0,m.tZ)(ve.Z,{sort:a,sortBy:n,sortDirection:r,noRowsRenderer:(0,k.uF)((0,p.eWj)("No Organizations")),className:"horizontal-tiles list-group",list:t,columns:[{headerRenderer:k.gS,dataKey:"clientName",label:(0,p.eWj)("Ninja Organization"),width:1,flexGrow:1,cellRenderer:e=>{var{rowData:t}=e;return(0,m.tZ)("h4",{children:t.clientName})}},{headerRenderer:k.gS,dataKey:"companyName",disableSort:!0,label:(0,p.eWj)("ConnectWise Company"),width:1,flexGrow:1}]})}var De=(0,ge.Z)("p",{target:"ekkcybd1"})("text-align:left;color:",ee.colors.ninjaMedium,";"),Ne=(0,ge.Z)("div",{target:"ekkcybd0"})("height:282px;display:flex;background-color:",ee.colors.ninjaWhite,";");class Oe extends n.PureComponent{render(){var{accountAutoMapPreview:e,accountMapModalLoading:t,cancelAutoMapping:a,saveAutoMapping:n}=this.props;return(0,m.tZ)(ie.Z,{title:(0,p.eWj)("Auto mapping results"),saveText:(0,p.eWj)("Auto Map"),closeText:(0,p.eWj)("Cancel"),save:n,close:a,dialogClassName:"psa-modal",children:t?(0,m.tZ)(l.Z,{}):(0,m.BX)("div",{className:"p-l p-r",children:[(0,m.BX)(De,{children:[(0,m.tZ)("span",{children:e.length})," ",(0,p.kIE)("organization(s) will be mapped.")]}),(0,m.tZ)(Ne,{className:"panel-bordered",children:(0,m.tZ)(Ze,{organizations:e})})]})})}}const Me=(0,d.$j)((e=>{var{psa:t}=e;return{accountAutoMapPreview:t.ConnectWise.mappings.accounts.accountAutoMapPreview,accountMapModalLoading:t.ConnectWise.mappings.accounts.accountMapModalLoading}}),{cancelAutoMapping:S.cF,saveAutoMapping:S.v5})(Oe);var Le=a(64916),Pe=(0,s.u4g)(((e,t)=>{var{locationSiteMappings:a}=t,n=(0,s.YjB)((0,s.fS0)(!0),(0,s.jge)("mapped",a)),r=null;return[...e,...n?(0,s.UID)((e=>{var{productMappingName:a,configurationTypeMappingName:i}=t,o=t.clientName===r;return r=t.clientName,{...t,...(0,s.CEd)(["clientId"],e),data:t,areLocationsMapped:n,orgProductMappingName:a,orgConfigurationTypeMappingName:i,hideFirstColumn:o}}),a):[{...t,productMappingType:"NONE",configurationTypeMappingType:"NONE",data:t,areLocationsMapped:n}]]}),[]);class ze extends n.PureComponent{constructor(e){super(e),this.sortTableData=()=>{var{sortBy:e,sortDirection:t,accountOrganizationMappings:a}=this.props,n=Pe(a);this.setState({organizationData:(0,o.sortTableList)(n,e,t)})},this.state={organizationData:[]}}componentDidMount(){this.props.clearCWAccountOrganizationSites(),this.sortTableData()}componentDidUpdate(e){e.sortBy===this.props.sortBy&&e.sortDirection===this.props.sortDirection&&e.accountOrganizationMappings===this.props.accountOrganizationMappings||this.sortTableData()}render(){var{accountModalVisibility:e,accountAutoMapModalVisibility:t,autoMap:a,openAccountOrganizationModal:n,refetchCWAccountOptions:r,resetMapping:i,sort:l,sortBy:s,sortDirection:d,setSelectedAccountMappings:c,selectedAccountMappings:u}=this.props,{organizationData:p}=this.state;return(0,m.BX)("div",{id:"psa-cw-account-mapping",children:[(0,m.tZ)("div",{className:"title display-flex",children:(0,m.tZ)("h4",{className:"p-l",children:(0,o.localized)("Company Mapping")})}),(0,m.tZ)("div",{className:"display-flex flex-full",children:(0,m.tZ)(G,{sort:l,sortBy:s,sortDirection:d,organizationData:p,openAccountOrganizationModal:n,setSelectedAccountMappings:c,selectedAccountMappings:u,autoMap:a,confirmResetMapping:async function(){"CLEAR_MAPPING"===await(0,Le.Z)({icon:{icon:D.Xcf,type:"critical"},title:(0,o.localizationKey)("All ConnectWise Company-mapping data for the selected Organizations will be permanently deleted"),message:(0,o.localizationKey)("Are you sure you want to delete this data."),buttons:[{id:"CANCEL",label:(0,o.localizationKey)("Cancel")},{id:"CLEAR_MAPPING",label:(0,o.localizationKey)("Clear"),type:"critical"}]})&&i()},refetchCWAccountOptions:r})}),t&&(0,m.tZ)(I.Z,{children:(0,m.tZ)(Me,{})}),e&&(0,m.tZ)(I.Z,{children:(0,m.tZ)(Ae,{})})]})}}const Be=(0,d.$j)((e=>{var{psa:t}=e;return{accountAutoMapPreview:t.ConnectWise.mappings.accounts.accountAutoMapPreview,accountOrganizationMappings:t.ConnectWise.mappings.accounts.accountOrganizationMappings,sortBy:t.ConnectWise.mappings.accounts.accountOrganizationMappingSort.sortBy,sortDirection:t.ConnectWise.mappings.accounts.accountOrganizationMappingSort.sortDirection,accountModalVisibility:t.ConnectWise.mappings.accounts.accountOrganizationMappingModalVisibility,accountAutoMapModalVisibility:t.ConnectWise.mappings.accounts.accountAutoMapModalVisibility,accountMapModalLoading:t.ConnectWise.mappings.accounts.accountMapModalLoading,selectedAccountMappings:t.ConnectWise.mappings.accounts.selectedAccountMappings}}),{autoMap:S.bx,openAccountOrganizationModal:S.xQ,refetchCWAccountOptions:S.GZ,resetMapping:S.oQ,sort:(0,E.D)("CWAccountOrganizationMappingSort"),setSelectedAccountMappings:S.BK,clearCWAccountOrganizationSites:w.kC})(ze);function We(e){return(0,m.tZ)("div",{className:"psa-cw-account display-flex flex-column flex-full",children:e.loading?(0,m.tZ)(l.Z,{className:"p-l"}):(0,m.BX)(n.Fragment,{children:[(0,m.tZ)(C,{}),(0,m.tZ)(Be,{})]})})}var Ue=a(22374),Fe=a(28418);class Ke extends n.PureComponent{constructor(){super(...arguments),this.handleContactChange=()=>{var{cwHelpDeskSettings:{createContact:e}}=this.props;this.props.setCreateContact(!e)}}render(){var{cwHelpDeskSettings:{createContact:e}}=this.props;return(0,m.BX)(V.Z,{children:[(0,m.tZ)("div",{className:"m-l-xs",children:(0,m.BX)("label",{className:"m-l-xs",children:[" ",(0,o.localized)("Options for the customization of Connectwise ticket creation from help desk submit from the Systray icon")," "]})}),(0,m.tZ)("div",{className:"m-l-xs",children:(0,m.BX)(X.Z,{className:"display-flex align-items-center form-row-height",children:[(0,m.tZ)(Ue.XZ,{checkboxClass:"icheckbox_square-blue",increaseArea:"20%",onChange:this.handleContactChange,checked:e}),(0,m.tZ)("span",{className:"m-l-md",children:(0,o.localized)("Create contact for email addresses not already in Connectwise")})]})})]})}}const He=(0,d.$j)((e=>({cwHelpDeskSettings:e.psa.ConnectWise.cwHelpDeskSettings})),Fe._)(Ke);function Ge(e){var{loading:t}=e;return(0,m.tZ)("div",{className:"m-l-md display-flex flex-full",children:(0,m.BX)(r.Z,{animation:!1,defaultActiveKey:"sync",id:"connectwise-settingscompanies-tabs",className:"custom-nav-tabs",children:[(0,m.tZ)(i.Z,{eventKey:"sync",title:(0,o.localized)("Sync"),children:(0,m.tZ)("div",{className:"display-flex flex-full",children:(0,m.tZ)(We,{loading:t})})}),(0,m.tZ)(i.Z,{eventKey:"helpdesk",title:(0,o.localized)("Help Desk"),children:(0,m.tZ)("div",{className:"display-flex flex-full",children:(0,m.tZ)(He,{})})})]})})}},21714:(e,t,a)=>{a.d(t,{Z:()=>i,t:()=>r});var n=a(6775),r=()=>[{name:"deviceIdentifier",required:!0,titleText:(0,n.localized)("Device Identifier")},{name:"ipAddress",required:!0,titleText:(0,n.localized)("IP Address")},{name:"managementLink",required:!0,titleText:(0,n.localized)("Management Link")},{name:"name",required:!0,titleText:(0,n.localized)("Name")},{name:"osType",titleText:(0,n.localized)("OS Type")},{name:"cpuSPeed",titleText:(0,n.localized)("CPU Speed")},{name:"defaultGateway",titleText:(0,n.localized)("Default Gateway")},{name:"lastLoginName",titleText:(0,n.localized)("Last Login Name")},{name:"localHardDrives",titleText:(0,n.localized)("Local Hard Drives")},{name:"macAddress",titleText:(0,n.localized)("MAC Address")},{name:"model",titleText:(0,n.localized)("Model")},{name:"osInfo",titleText:(0,n.localized)("OS Info")},{name:"ram",titleText:(0,n.localized)("RAM")},{name:"serialNumber",titleText:(0,n.localized)("Serial Number")}],i=()=>[{name:"ninjaOneRemoteUrl",titleText:(0,n.localized)("NinjaOne Remote URL")},{name:"ninjaOneWarranty",titleText:(0,n.localized)("NinjaOne Warranty")},{name:"nodeUrl",titleText:(0,n.localized)("NinjaOne Device URL")},{name:"privateIpAddress",titleText:(0,n.localized)("Private IP Address")},{name:"teamViewerUrl",titleText:(0,n.localized)("TeamViewer URL")},{name:"productKey",titleText:(0,n.localized)("Windows Product Key")}]},58747:(e,t,a)=>{a.d(t,{Z:()=>Se});var n=a(41554),r=a(67675),i=a(59162),o=a(6775),l=a(4519),s=a(75100),d=a(7683),c=a(93235),u=a(58064),p=a(32208),h=a(61320),g=a(55113),v=a(58496),m=(0,g.P1)((0,g.P1)([e=>e.configurations.configurationTypeMappings,e=>e.configurations.configurationTypeMappingSort.sortBy,e=>e.configurations.configurationTypeMappingSort.sortDirection],((e,t,a)=>({data:e,sortBy:t,sortDirection:a}))),v.Z),f=(0,g.P1)((0,g.P1)([e=>e.configurations.currentConfigurationTypeMapping.nodeRoleConfigurationTypeMappings,e=>e.configurations.nodeRoleConfigurationTypeMappingsSort.sortBy,e=>e.configurations.nodeRoleConfigurationTypeMappingsSort.sortDirection],((e,t,a)=>({data:e,sortBy:t,sortDirection:a}))),v.Z),y=a(76742),b=a(8326),T=a(64916),C=a(9346),E=a(64734),S=a(34928),w={id:"add-mapping",token:(0,S.eWj)("Add New Mapping"),position:"right"},I={id:"edit-mapping",token:(0,S.eWj)("Edit")},k={id:"delete-mapping",token:(0,S.eWj)("Delete")},_={id:"copy-mapping",token:(0,S.eWj)("Copy")},x=a(77537),R=()=>[{headerRenderer:p.gS,dataKey:"name",label:(0,S.eWj)("Name"),headerClassName:"col-xs-4",width:1,flexGrow:1}];class A extends l.PureComponent{constructor(){super(...arguments),this.state={selectedRows:[]},this.DEFAULT_HEIGHT=35,this.onEdit=e=>{this.props.setCurrentConfigurationTypeMapping(e),this.props.showConfigurationTypeMappingModal("EDIT",e.id)},this.onDelete=async e=>{"YES"===await(0,T.Z)({icon:{icon:b.XAH,type:"critical"},title:(0,S.eWj)("Delete Configuration Type Mapping"),message:(0,S.eWj)("Are you sure you want to delete this configuration type mapping?"),buttons:[{id:"YES",label:(0,S.eWj)("Yes"),type:"critical"},{id:"NO",label:(0,S.eWj)("No")}]})&&await this.props.removeConfigurationTypeMapping(e)},this.onCopy=e=>{var{copyConfigurationTypeMapping:t,configurationTypeMappings:a,setCurrentConfigurationTypeMapping:n}=this.props,r={...e,name:"".concat(e.name," (").concat((0,S.kIE)("Copy"),")"),id:(0,E.Dx)(a)};n(r),t(r)},this.getActions=()=>{var{selectedRows:e}=this.state;return[w,...1===e.length?[I,k,_]:[]]},this.onAction=e=>{var{selectedRows:t}=this.state,{id:a}=e,[n]=(0,u.VO0)(t.rows);switch(a){case w.id:return this.props.addNewMapping();case I.id:return this.onEdit(n);case k.id:return this.onDelete(n.id);case _.id:return this.onCopy(n);default:throw new Error("Invalid action: ".concat(e.id))}}}render(){var{configurationTypeMappings:e,sort:t,sortBy:a,sortDirection:n}=this.props;return(0,x.tZ)(C.Z,{sort:t,sortBy:a,sortDirection:n,columns:R,data:e,searchable:["name"],actions:this.getActions(),onAction:this.onAction,headerHeight:this.DEFAULT_HEIGHT,rowRenderer:this.rowRenderer,rowHeight:this.DEFAULT_HEIGHT,onCheck:e=>{var{selected:t}=e;return this.setState({selectedRows:t})},noRowsRenderer:(0,p.uF)((0,S.eWj)("No Mappings")),onRowClick:e=>{var{rowData:t}=e;this.onEdit(t)}})}}const Z=(0,s.$j)((e=>{var{psa:t}=e;return{configurationTypeMappings:m(t.ConnectWise.mappings),sortBy:t.ConnectWise.mappings.configurations.configurationTypeMappingSort.sortBy,sortDirection:t.ConnectWise.mappings.configurations.configurationTypeMappingSort.sortDirection}}),{sort:(0,y.D)("CWConfigurationTypeMappingSort"),setCurrentConfigurationTypeMapping:h.PX,showConfigurationTypeMappingModal:h.sM,removeConfigurationTypeMapping:h.cF,copyConfigurationTypeMapping:h._J})(A);var D=a(5917),N=a(27702),O=a(14081),M=a(99787),L=a(89042),P=a(48548),z=a(60036),B=a(26155),W=a(64520);function U(e,t,a){return n=>{n({type:"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_MODAL_EDITOR_TITLE",title:e}),n({type:"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_MODAL_EDITOR_MODE",mode:t}),n({type:"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_ID",mode:t,id:a}),n((0,W.$)("CWNodeRoleConfigurationTypeMappingModal")())}}function F(e){return t=>{t({type:"EDIT_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING",mapping:e})}}var K=a(7824);class H extends l.PureComponent{constructor(){super(...arguments),this.onEdit=(e,t)=>{e.stopPropagation(),e.preventDefault(),this.props.setCurrentMapping(t),this.props.showModal((0,o.localizationKey)("Edit Mapping"),"EDIT",t.id)},this.onDelete=async(e,t)=>{e.stopPropagation(),e.preventDefault(),await(0,T.Z)({icon:{icon:b.XAH,type:"critical"},title:(0,o.localizationKey)("Delete Mapping"),message:(0,o.localizationKey)("Are you sure you want to delete this mapping?"),buttons:[{id:!0,label:(0,o.localizationKey)("Yes"),type:"critical"},{id:!1,label:(0,o.localizationKey)("No")}]})&&await this.props.removeMapping(t)}}render(){var{props:{mappings:e,sort:t,sortBy:a,sortDirection:n,nodeRoleList:r}}=this;return(0,x.tZ)(K.Z,{list:e,sort:t,sortBy:a,sortDirection:n,onRowClick:e=>{var{event:t,rowData:a}=e;this.onEdit(t,a)},noRowsRenderer:(0,p.uF)((0,o.localizationKey)("No Mappings"),!1,"text-align-left col-xs-3"),columns:[{headerRenderer:p.gS,dataKey:"nodeRoleName",label:(0,o.localizationKey)("Device Role"),width:1,flexGrow:1,cellRenderer:e=>{var{rowData:t}=e,a=r.find((e=>e.id===t.nodeRoleId)),{custom:n,name:i}=a;return n?i:(0,o.localizeMappingName)(i)}},{headerRenderer:p.gS,dataKey:"configurationTypeName",label:(0,o.localizationKey)("Configuration Type"),width:1,flexGrow:1},{headerRenderer:p.gS,dataKey:"onCreateStatusName",label:(0,o.localizationKey)("On Create"),width:1,flexGrow:.5},{headerRenderer:p.gS,dataKey:"onDeleteStatusName",label:(0,o.localizationKey)("On Delete"),width:1,flexGrow:.5},{dataKey:"",width:1,flexGrow:.5,cellRenderer:e=>{var{rowData:t}=e;return(0,x.BX)("div",{className:"action-links text-align-left",children:[(0,x.tZ)("button",{className:"btn-link",onClick:e=>{this.onEdit(e,t)},children:(0,o.localized)("Edit")}),(0,x.tZ)("button",{className:"btn-link text-danger",onClick:e=>{this.onDelete(e,t.id)},children:(0,o.localized)("Delete")})]})}}]})}}const G=(0,s.$j)((e=>{var{psa:t}=e;return{mappings:f(t.ConnectWise.mappings),sortBy:t.ConnectWise.mappings.configurations.nodeRoleConfigurationTypeMappingsSort.sortBy,sortDirection:t.ConnectWise.mappings.configurations.nodeRoleConfigurationTypeMappingsSort.sortDirection,nodeRoleList:t.ConnectWise.mappings.nodeRoleList}}),{sort:(0,y.D)("CWNodeRoleConfigurationTypeMappingsSort"),updateMapping:F,removeMapping:function(e){return t=>{t({type:"REMOVE_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING",id:e})}},setCurrentMapping:function(e){return t=>{t({type:"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING",mapping:e})}},showModal:U})(H);var j=a(48096),V=a(75793),X=a(49026),q=a(65805);var Y={name:"1flj9lk",styles:"text-align:left"};class J extends l.Component{constructor(){super(...arguments),this.state={nodeRoleRequiredError:"",configurationTypeRequiredError:"",onCreateRequiredError:"",onDeleteRequiredError:""},this.validate=()=>{var{currentMapping:e}=this.props,t=!e.nodeRoleId&&(0,S.kIE)("Required"),a=!e.configurationTypeId&&(0,S.kIE)("Required");return!t&&!a||(this.setState({nodeRoleRequiredError:t,configurationTypeRequiredError:a}),!1)},this.onSubmit=async e=>{e.preventDefault(),e.stopPropagation();var{mode:t,addMapping:a,updateMapping:n,closeModal:r,currentMapping:i}=this.props;this.validate()&&("ADD"===t?await a(i):await n(i),r())},this.onChangeNodeRole=e=>{this.setState({nodeRoleRequiredError:""}),this.props.setNodeRole(e)},this.onChangeConfigurationType=e=>{this.setState({configurationTypeRequiredError:""}),this.props.setConfigurationType(e)},this.onChangeOnCreateStatus=e=>{this.props.setOnCreate(e)},this.onChangeOnDeleteStatus=e=>{this.props.setOnDelete(e)}}render(){var{closeModal:e,title:t,currentMapping:a,nodeRoleList:n,configurationTypeList:r,configurationStatusList:i}=this.props,{nodeRoleRequiredError:o,configurationTypeRequiredError:l,onCreateRequiredError:s,onDeleteRequiredError:d}=this.state;return(0,x.tZ)(D.Z,{onSubmit:this.onSubmit,children:(0,x.tZ)(V.Z,{submittable:!0,title:t,close:e,closeText:(0,S.eWj)("Close"),saveText:(0,S.eWj)("OK"),overflow:!0,showCloseButton:!1,dialogClassName:"wide-modal psa-modal",children:(0,x.BX)("div",{className:"display-flex flex-column",children:[(0,x.BX)(N.Z,{validationState:o?"error":null,children:[(0,x.BX)(O.Z,{componentClass:M.Z,xs:3,css:Y,children:[(0,x.tZ)("span",{children:(0,S.kIE)("Device Role")}),(0,x.tZ)("sup",{children:" *"})]}),(0,x.BX)(O.Z,{xs:9,children:[(0,x.tZ)(j.ZP,{name:"nodeRole",className:o?"invalid-single-select":"",value:(0,q.fQ)(n,a.nodeRoleId),options:(0,q.JU)(n),onChange:this.onChangeNodeRole,placeholder:(0,S.kIE)("Select..."),getOptionValue:(0,u.vgT)("id"),getOptionLabel:(0,u.vgT)("name")}),o&&(0,x.tZ)("em",{className:"invalid",children:o})]})]}),(0,x.BX)(N.Z,{validationState:l?"error":null,children:[(0,x.BX)(O.Z,{componentClass:M.Z,xs:3,css:Y,children:[(0,x.tZ)("span",{children:(0,S.kIE)("Configuration Type")}),(0,x.tZ)("sup",{children:" *"})]}),(0,x.BX)(O.Z,{xs:9,children:[(0,x.tZ)(j.ZP,{name:"configurationType",className:l?"invalid-single-select":"",value:r.find((e=>e.id===a.configurationTypeId)),options:(0,X.x)(r),onChange:this.onChangeConfigurationType,placeholder:(0,S.kIE)("Select..."),getOptionValue:(0,u.vgT)("id"),getOptionLabel:(0,u.vgT)("name")}),l&&(0,x.tZ)("em",{className:"invalid",children:l})]})]}),(0,x.BX)(N.Z,{validationState:s?"error":null,children:[(0,x.tZ)(O.Z,{componentClass:M.Z,xs:3,css:Y,children:(0,x.tZ)("span",{children:(0,S.kIE)("On Create")})}),(0,x.tZ)(O.Z,{xs:9,children:(0,x.tZ)(j.ZP,{name:"onCreate",value:i.find((e=>e.id===a.onCreateStatusId)),options:(0,X.x)(i),onChange:this.onChangeOnCreateStatus,placeholder:(0,S.kIE)("Select..."),getOptionValue:(0,u.vgT)("id"),getOptionLabel:(0,u.vgT)("name")})})]}),(0,x.BX)(N.Z,{validationState:d?"error":null,children:[(0,x.tZ)(O.Z,{componentClass:M.Z,xs:3,css:Y,children:(0,x.tZ)("span",{children:(0,S.kIE)("On Delete")})}),(0,x.tZ)(O.Z,{xs:9,children:(0,x.tZ)(j.ZP,{name:"onDelete",value:i.find((e=>e.id===a.onDeleteStatusId)),options:(0,X.x)(i),onChange:this.onChangeOnDeleteStatus,placeholder:(0,S.kIE)("Select..."),getOptionValue:(0,u.vgT)("id"),getOptionLabel:(0,u.vgT)("name")})})]})]})})})}}const $=(0,s.$j)((e=>{var{psa:t}=e;return{title:t.ConnectWise.mappings.configurations.nodeRoleConfigurationTypeMappingModalEditorTitle,mode:t.ConnectWise.mappings.configurations.nodeRoleConfigurationTypeMappingModalEditorMode,currentMapping:t.ConnectWise.mappings.configurations.currentNodeRoleConfigurationTypeMapping,nodeRoleList:t.ConnectWise.mappings.nodeRoleList,configurationTypeList:t.ConnectWise.mappings.configurations.configurationTypeList,configurationStatusList:t.ConnectWise.mappings.configurations.configurationStatusList}}),{addMapping:function(e){return t=>{t({type:"ADD_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING",mapping:e})}},updateMapping:F,closeModal:function(){return e=>{e({type:"RESET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING"}),e((0,W.C)("CWNodeRoleConfigurationTypeMappingModal")())}},setNodeRole:function(e){return t=>{t({type:"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_NODE_ROLE",nodeRole:e})}},setConfigurationType:function(e){return t=>{t({type:"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_CONFIGURATION_TYPE",configurationType:e})}},setOnCreate:function(e){return t=>{t({type:"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_ON_CREATE_STATUS",status:e})}},setOnDelete:function(e){return t=>{t({type:"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_ON_DELETE_STATUS",status:e})}}})(J);var Q=a(12411);var ee={name:"1i1gyki",styles:"display:flex;flex-flow:column;height:465px;margin-top:-15px"},te={name:"1bjqur3",styles:"display:flex;flex-flow:row-reverse;margin-top:-9px"},ae=(0,B.css)("background-color:",Q.colors.white,";border:1px solid ",Q.colors.ninjaLight,";margin-top:20px;","");class ne extends l.PureComponent{constructor(){super(...arguments),this.onAdd=e=>{e.stopPropagation(),e.preventDefault();var{showModal:t,mappings:a}=this.props;t((0,S.eWj)("Add Mapping"),"ADD",(0,E.Dx)(a))}}render(){var{modalVisibility:e}=this.props;return(0,x.BX)("div",{css:ee,children:[(0,x.tZ)("div",{css:te,children:(0,x.tZ)("button",{className:"btn-link action m-r",onClick:this.onAdd,children:(0,S.kIE)("Add Mapping")})}),(0,x.tZ)("div",{className:"display-flex flex-full overflow-hidden",css:ae,children:(0,x.tZ)(G,{})}),(0,x.tZ)(c.Z,{show:e,className:"inmodal",children:(0,x.tZ)($,{})})]})}}const re=(0,s.$j)((e=>{var{psa:t}=e;return{modalVisibility:t.ConnectWise.mappings.configurations.nodeRoleConfigurationTypeMappingModalVisibility,mappings:t.ConnectWise.mappings.configurations.currentConfigurationTypeMapping.nodeRoleConfigurationTypeMappings}}),{showModal:U})(ne);var ie={name:"1flj9lk",styles:"text-align:left"};const oe=(0,s.$j)((e=>{var{psa:t}=e;return{mode:t.ConnectWise.mappings.configurations.configurationTypeModalEditorMode,configurationTypeMappings:t.ConnectWise.mappings.configurations.configurationTypeMappings,currentConfigurationTypeMapping:t.ConnectWise.mappings.configurations.currentConfigurationTypeMapping}}),{addConfigurationTypeMapping:h.hg,updateConfigurationTypeMapping:h.yH,closeConfigurationTypeMappingModal:h.Ov,setConfigurationTypeMappingName:h.wg})((e=>{var{currentConfigurationTypeMapping:t,configurationTypeMappings:a,setConfigurationTypeMappingName:n,addConfigurationTypeMapping:r,updateConfigurationTypeMapping:i,closeConfigurationTypeMappingModal:o,mode:l}=e,{values:{name:s},validation:d,onChange:c,validateForm:u}=(0,P.cI)({fields:{name:t.name},validate:{name:function(e){var n=!e.trim()&&(0,S.kIE)("Required"),r=e.length>50&&(0,S.kIE)("Max length for name is 50 chars"),i=function(e,t,a){var n=e.find((e=>e.name===t));return n&&n.id!==a}(a,e.trim(),t.id)&&(0,S.kIE)("Configuration type mapping name already taken");return{success:!n&&!r&&!i,message:n||r||i}}}});return(0,x.tZ)(D.Z,{onSubmit:async function(e){e.preventDefault(),e.stopPropagation(),u()&&("ADD"===l?await r(t):await i(t),o())},children:(0,x.tZ)(z.oA,{submittable:!0,title:(0,S.eWj)("Configuration Type Mapping"),close:o,closeText:(0,S.eWj)("Close"),saveText:(0,S.eWj)("OK"),showCloseButton:!1,dialogClassName:"widest-modal psa-modal",height:"580px !important",maxHeight:"580px !important",children:(0,x.BX)("div",{className:"display-flex flex-column",children:[(0,x.BX)(N.Z,{validationState:d.message.name?"error":null,children:[(0,x.BX)(O.Z,{componentClass:M.Z,xs:4,css:ie,children:[(0,x.tZ)("span",{children:(0,S.kIE)("Name")}),(0,x.tZ)("sup",{children:" *"})]}),(0,x.BX)(O.Z,{xs:8,children:[(0,x.tZ)(L.Z,{autoFocus:!0,type:"text",placeholder:(0,S.kIE)("Name"),value:s,onChange:function(e){n(e.target.value),c("name",e.target.value)},maxLength:"50"}),d.message.name&&(0,x.tZ)("em",{className:"invalid",children:d.message.name})]})]}),(0,x.BX)(N.Z,{children:[(0,x.tZ)(O.Z,{componentClass:M.Z,xs:12,css:ie,children:(0,S.kIE)("Mappings")}),(0,x.tZ)(O.Z,{xs:12,children:(0,x.tZ)(re,{})})]})]})})})}));class le extends l.PureComponent{constructor(){super(...arguments),this.onAdd=()=>{var{showConfigurationTypeMappingModal:e,configurationTypeMappings:t}=this.props;e("ADD",(0,E.Dx)(t))}}render(){var{loading:e,configurationTypeMappingModalVisibility:t}=this.props;return(0,x.tZ)("div",{className:"display-flex flex-column flex-full",children:e?(0,x.tZ)(d.Z,{}):(0,x.BX)(x.HY,{children:[(0,x.tZ)(Z,{addNewMapping:this.onAdd}),(0,x.tZ)(c.Z,{show:t,className:"inmodal",children:(0,x.tZ)(oe,{})})]})})}}const se=(0,s.$j)((e=>{var{psa:t}=e;return{configurationTypeMappingModalVisibility:t.ConnectWise.mappings.configurations.configurationTypeMappingModalVisibility,configurationTypeMappings:t.ConnectWise.mappings.configurations.configurationTypeMappings,loading:t.editorLoading}}),{showConfigurationTypeMappingModal:h.sM})(le);var de=a(21714),ce=a(50176),ue=a(55460),pe=a(75493);const he=(0,l.memo)((function(e){var{titleText:t,checked:a,onChange:n,disabled:r}=e;return(0,x.BX)(pe.kC,{children:[(0,x.tZ)(pe.xu,{children:(0,x.tZ)(ce.XZ,{disabled:r,checked:a,onChange:e=>{var{isChecked:t}=e;return n(t)}})}),(0,x.tZ)(pe.xu,{marginLeft:(0,ue.Oy)(3),children:(0,x.tZ)(ce.xv,{color:"colorTextStrong",lineHeight:1.2,size:"sm",children:t})})]})}));var ge=(0,l.createContext)([]);const ve=(0,l.memo)((function(e){var{children:t,value:a,onChange:n}=e;return(0,x.tZ)(ge.Provider,{value:{selectedGroups:a,setSelectedGroups:n},children:(0,x.tZ)(pe.kC,{flexDirection:"column",overflowY:"scroll",gridGap:(0,ue.Oy)(8),paddingBottom:(0,ue.Oy)(8),children:t})})}));var me=(0,u.WAo)(((e,t)=>(0,u.$6P)((e=>(0,u.q9t)(e,t)))(e))),fe=(0,u.qCK)((0,u.jge)("name"),(0,u.d1t)((0,u.vgT)("required"))),ye=(0,u.WAo)(((e,t)=>e.reduce(((e,t)=>(e.includes(t)||e.push(t),e)),t)));const be=(0,l.memo)((function(e){var{items:t=[],titleText:a}=e,{selectedGroups:n,setSelectedGroups:r}=(0,l.useContext)(ge),i=(0,l.useMemo)((()=>fe(t)),[t]),s=ye(n),[d,c]=(0,l.useState)(me(i,n)),p=()=>r(s(i)),h=()=>r((0,u.d1t)((e=>i.includes(e)),n)),g=e=>()=>{r((0,u.KJl)((0,u.q9t)(e),(0,u.d1t)((0,u.fS0)(e)),(0,u.R3I)(e))(n))};return(0,l.useEffect)((()=>{var e=me(i,n);c(e)}),[n,i]),(0,x.BX)(pe.kC,{children:[(0,x.tZ)(pe.xu,{width:(0,ue.Oy)(60),children:(0,x.tZ)(ce.xv,{color:"colorTextStrong",size:"sm",bold:!0,children:a})}),(0,x.BX)(pe.kC,{flex:1,flexDirection:"column",gridGap:(0,ue.Oy)(3),children:[(0,x.BX)(pe.kC,{gridGap:(0,ue.Oy)(3),children:[(0,x.tZ)(ce.XZ,{checked:d,onChange:e=>{var{isChecked:t}=e;c(t),(0,u.KJl)((0,u.fS0)(!0),p,h)(t)}}),(0,x.tZ)(ce.xv,{size:"sm",lineHeight:1.1,color:"colorTextStrong",children:(0,o.localized)("Select All")})]}),(0,x.tZ)(pe.kC,{flexDirection:"column",gridGap:(0,ue.Oy)(3),paddingLeft:(0,ue.Oy)(10),children:null===t||void 0===t?void 0:t.map((e=>{var{name:t,titleText:a,descriptionText:r,required:i}=e;return(0,x.tZ)(he,{name:t,disabled:i,checked:n.includes(t)||!!i,titleText:a,descriptionText:r,onChange:g(t)},t)}))})]})]})}));class Te extends l.PureComponent{render(){var{deviceDataSyncAttributes:e,onDeviceSyncAttributesChange:t,editorLoading:a}=this.props;return a?(0,x.tZ)(d.Z,{}):(0,x.BX)(ve,{value:e,onChange:t,children:[(0,x.tZ)(be,{titleText:(0,o.localized)("Configuration Attributes"),items:(0,de.t)()}),(0,x.tZ)(be,{titleText:(0,o.localized)("Configuration Questions"),items:(0,de.Z)()})]})}}const Ce=(0,s.$j)((e=>{var{psa:{ConnectWise:{settings:{deviceDataSyncAttributes:t}},editorLoading:a}}=e;return{deviceDataSyncAttributes:t,editorLoading:a}}),(e=>function(e){return{onDeviceSyncAttributesChange(t){try{e((e=>({type:"SET_CW_DEVICE_DATA_SYNC_ATTRIBUTES",attributes:e}))(t))}catch(a){throw(0,o.showErrorMessage)((0,o.localized)("Error setting device sync attributes")),a}}}}(e)))(Te);var Ee=(0,n.Z)(r.Z,{target:"e1isk4450"})({name:"5kmbd4",styles:".tab-content{overflow:hidden;}"});function Se(){return(0,x.BX)(Ee,{animation:!1,defaultActiveKey:"mappings",id:"cw-configuration-tabs",className:"custom-nav-tabs p-l p-r",children:[(0,x.tZ)(i.Z,{eventKey:"mappings",title:(0,o.localized)("Mappings"),children:(0,x.tZ)(se,{})}),(0,x.tZ)(i.Z,{eventKey:"sync",title:(0,o.localized)("Sync"),children:(0,x.tZ)(Ce,{})})]})}},49503:(e,t,a)=>{a.d(t,{Z:()=>Ee});var n=a(4519),r=a(6775),i=a(67675),o=a(59162),l=a(75100),s=a(89677),d=a(93235),c=a(58064),u=a(32208),p=a(42498),h=a(55113),g=a(58496),v=(0,h.P1)((0,h.P1)([e=>e.products.productMappings,e=>e.products.productMappingSort.sortBy,e=>e.products.productMappingSort.sortDirection],((e,t,a)=>({data:e,sortBy:t,sortDirection:a}))),g.Z),m=a(76742),f=a(8326),y=a(64916),b=a(9346),T=a(64734),C=a(34928),E={id:"add-mapping",token:(0,C.eWj)("Add New Mapping"),position:"right"},S={id:"edit-mapping",token:(0,C.eWj)("Edit")},w={id:"delete-mapping",token:(0,C.eWj)("Delete")},I={id:"copy-mapping",token:(0,C.eWj)("Copy")},k=a(77537),_=()=>[{headerRenderer:u.gS,dataKey:"name",label:(0,C.eWj)("Name"),headerClassName:"col-xs-4",width:1,flexGrow:1}];class x extends n.PureComponent{constructor(){super(...arguments),this.state={selectedRows:[]},this.DEFAULT_HEIGHT=35,this.onEdit=e=>{this.props.setCurrentProductMapping(e),this.props.showProductMappingModal("EDIT",e.id)},this.onDelete=async e=>{"YES"===await(0,y.Z)({icon:{icon:f.XAH,type:"critical"},title:(0,C.eWj)("Delete Product mapping"),message:(0,C.eWj)("Are you sure you want to delete this product mapping?"),buttons:[{id:"YES",label:(0,C.eWj)("Yes"),type:"critical"},{id:"NO",label:(0,C.eWj)("No")}]})&&await this.props.removeProductMapping(e)},this.onCopy=e=>{var{copyProductMapping:t,productMappings:a,setCurrentProductMapping:n}=this.props,r={...e,name:"".concat(e.name," (").concat((0,C.kIE)("Copy"),")"),id:(0,T.Dx)(a)};n(r),t(r)},this.getActions=()=>{var{selectedRows:e}=this.state;return[E,...1===e.length?[S,w,I]:[]]},this.onAction=e=>{var{selectedRows:t}=this.state,{id:a}=e,[n]=(0,c.VO0)(t.rows);switch(a){case E.id:return this.props.addNewMapping();case S.id:return this.onEdit(n);case w.id:return this.onDelete(n.id);case I.id:return this.onCopy(n);default:throw new Error("Invalid action: ".concat(e.id))}}}render(){var{productMappings:e,sort:t,sortBy:a,sortDirection:n}=this.props;return(0,k.tZ)(b.Z,{sort:t,sortBy:a,sortDirection:n,columns:_,data:e,searchable:["name"],actions:this.getActions(),onAction:this.onAction,headerHeight:this.DEFAULT_HEIGHT,rowRenderer:this.rowRenderer,rowHeight:this.DEFAULT_HEIGHT,onCheck:e=>{var{selected:t}=e;return this.setState({selectedRows:t})},noRowsRenderer:(0,u.uF)((0,C.eWj)("No Mappings")),onRowClick:e=>{var{rowData:t}=e;this.onEdit(t)}})}}const R=(0,l.$j)((e=>{var{psa:t}=e;return{productMappings:v(t.ConnectWise.mappings),sortBy:t.ConnectWise.mappings.products.productMappingSort.sortBy,sortDirection:t.ConnectWise.mappings.products.productMappingSort.sortDirection}}),{sort:(0,m.D)("CWProductMappingSort"),setCurrentProductMapping:p.bW,showProductMappingModal:p.uk,removeProductMapping:p.Ru,copyProductMapping:p.$t})(x);var A=a(5917),Z=a(27702),D=a(14081),N=a(99787),O=a(89042),M=a(48096),L=a(48548),P=a(60036),z=a(26155),B=a(64520);function W(e,t,a){return n=>{n({type:"SET_CW_NODE_ROLE_PRODUCT_MAPPING_MODAL_EDITOR_TITLE",title:e}),n({type:"SET_CW_NODE_ROLE_PRODUCT_MAPPING_MODAL_EDITOR_MODE",mode:t}),n({type:"SET_CW_NODE_ROLE_PRODUCT_MAPPING_ID",id:a}),n((0,B.$)("CWNodeRoleProductMappingModal")())}}function U(e){return t=>{t({type:"EDIT_CW_PRODUCT_MAPPING_NODE_ROLE_PRODUCT_MAPPING",mapping:e})}}var F=a(71936),K=a(65805),H={id:"move-rank-up",token:(0,C.eWj)("Up")},G={id:"move-rank-down",token:(0,C.eWj)("Down")},j=(0,c.MRu)((0,c.vgT)("ranking"));class V extends n.PureComponent{constructor(){super(...arguments),this.onEdit=(e,t)=>{e.stopPropagation(),e.preventDefault(),this.props.setCurrentMapping(t),this.props.showModal((0,C.eWj)("Edit Mapping"),"EDIT",t.id)},this.onDelete=async(e,t)=>{e.stopPropagation(),e.preventDefault(),await(0,y.Z)({icon:{icon:f.XAH,type:"critical"},title:(0,C.eWj)("Delete Mapping"),message:(0,C.eWj)("Are you sure you want to delete this mapping?"),buttons:[{id:!0,label:(0,C.eWj)("Yes"),type:"critical"},{id:!1,label:(0,C.eWj)("No")}]})&&await this.props.removeMapping(t)},this.renderDeviceWithColumn=e=>{var{groupList:t,nodeRoleList:a}=this.props,n=(0,c.qCK)((0,c.UID)((e=>e.name)),(0,c.hXT)((t=>e.groups.includes(t.id))))(t),r=(0,c.qCK)(K.KB,(0,c.sEJ)((t=>t.id===e.nodeRoleId)))(a),{name:i}=r;return(0,k.BX)("div",{className:"display-flex flex-row",children:[(0,k.tZ)("p",{className:"no-margin",children:i}),n.length?(0,k.tZ)("div",{children:(0,k.tZ)(F.Z,{output:"".concat((0,C.kIE)("In Groups:")," ").concat(n.join(", "))})}):""]})}}render(){var{props:{mappings:e,selectMappingRowId:t,moveRankUp:a,moveRankDown:n,selectedMapping:r}}=this,i=j(e);return(0,k.tZ)("div",{id:"product-mappings-table",className:"display-flex flex-full",children:(0,k.tZ)(b.Z,{data:i,sortBy:"ranking",sortDirection:"ASC",singleRowCheck:!0,filterText:!1,noRowsRenderer:(0,u.uF)((0,C.eWj)("No Mappings"),!1,"text-align-left col-xs-4"),actions:r?[H,G]:[],onAction:e=>{var{id:t}=e;switch(t){case H.id:a();break;case G.id:n();break;default:throw new Error("Invalid action")}},onCheck:e=>{var{selected:a}=e,{rows:n}=a,[r]=(0,c.XPQ)(n);t(parseInt(r,10))},columns:()=>[{dataKey:"nodeRoleName",label:(0,C.eWj)("Device(s) with Role"),width:1,flexGrow:1,disableSort:!0,headerRenderer:u.gS,cellRenderer:e=>{var{rowData:t}=e;return this.renderDeviceWithColumn(t)}},{headerRenderer:u.gS,dataKey:"productName",label:(0,C.eWj)("Map To Product / Agreement Type"),width:1,flexGrow:1,disableSort:!0,cellRenderer:e=>{var{rowData:t}=e;return"".concat((0,K.lH)(t.productName)," / ").concat(t.agreementTypeName)}},{dataKey:"",width:1,flexGrow:.5,cellRenderer:e=>{var{rowData:t}=e;return(0,k.BX)("div",{className:"action-links",children:[(0,k.tZ)("button",{className:"btn-link",onClick:e=>{this.onEdit(e,t)},children:(0,C.kIE)("Edit")}),(0,k.tZ)("button",{className:"btn-link text-danger",onClick:e=>{this.onDelete(e,t.id)},children:(0,C.kIE)("Delete")})]})}}]})})}}const X=(0,l.$j)((e=>{var{psa:t,deviceSearch:a}=e;return{mappings:t.ConnectWise.mappings.products.currentProductMapping.nodeRoleProductMappings,groupList:a.groups,nodeRoleList:t.ConnectWise.mappings.nodeRoleList}}),{updateMapping:U,removeMapping:function(e){return t=>{t({type:"REMOVE_CW_PRODUCT_MAPPING_NODE_ROLE_PRODUCT_MAPPING",id:e})}},setCurrentMapping:function(e){return t=>{t({type:"SET_CW_NODE_ROLE_PRODUCT_MAPPING",mapping:e})}},showModal:W})(V);var q=a(40580),Y=a.n(q),J=a(22374),$=a(75793),Q=a(49026),ee=a(78826),te=a(24331);var ae={name:"1jtpbnb",styles:"display:flex;flex-direction:column;margin-bottom:15px;padding:0 15px;text-align:left"},ne={name:"1flj9lk",styles:"text-align:left"};class re extends n.Component{constructor(){super(...arguments),this.state={productRequiredError:"",agreementTypeRequiredError:"",nodeRoleRequiredError:"",invalidMappingError:""},this.validate=()=>{var{currentMapping:e}=this.props,t=!e.productId&&(0,C.kIE)("Required"),a=!e.agreementTypeId&&(0,C.kIE)("Required"),n=!e.nodeRoleId&&(0,C.kIE)("Required"),r=this.isMappingRedudant()&&(0,C.kIE)("Already exists a mapping with the same role and groups");return!(t||a||n||r)||(this.setState({productRequiredError:t,agreementTypeRequiredError:a,nodeRoleRequiredError:n,invalidMappingError:r}),!1)},this.isMappingRedudant=()=>{var{currentMapping:{id:e,nodeRoleId:t,groups:a},allMappings:n}=this.props,r=a.sort();return(0,c.qCK)((0,c.YjB)((e=>e.nodeRoleId===t&&Y()(e.groups.sort(),r))),(0,c.d1t)((0,c.OH4)("id",e)))(n)},this.onSubmit=async e=>{e.preventDefault(),e.stopPropagation();var{mode:t,addMapping:a,updateMapping:n,closeModal:r,currentMapping:i}=this.props;this.validate()&&("ADD"===t?await a(i):await n(i),r())},this.onChangeProduct=e=>{this.setState({productRequiredError:""}),this.props.setProduct(e)},this.onChangeAgreementType=e=>{this.setState({agreementTypeRequiredError:""}),this.props.setAgreementType(e)},this.onChangeNodeRole=e=>{this.setState({nodeRoleRequiredError:""}),this.props.setNodeRole(e)},this.onChangeGroupLogicalOperator=e=>{var{setGroupLogicalOperator:t}=this.props;t(e.target.value)}}componentDidMount(){this.props.requestGetSearchesAndCriteria()}prepareSelectedGroups(e,t){return(0,c.qCK)((0,c.UID)((e=>({id:e.id,name:e.name}))),(0,c.hXT)((t=>e.includes(t.id))))(t)}render(){var{closeModal:e,title:t,currentMapping:a,nodeRoleList:n,groupList:r,productList:i,agreementTypeList:o,setGroups:l,selectedGroups:s}=this.props,{productRequiredError:d,agreementTypeRequiredError:u,nodeRoleRequiredError:p,invalidMappingError:h}=this.state,g=(0,Q.x)(r),v=this.prepareSelectedGroups(s,g);return(0,k.tZ)(A.Z,{onSubmit:this.onSubmit,children:(0,k.BX)($.Z,{submittable:!0,title:t,close:e,closeText:(0,C.eWj)("Close"),saveText:(0,C.eWj)("OK"),showCloseButton:!1,dialogClassName:"wide-modal psa-modal",children:[(0,k.BX)("div",{css:ae,children:[(0,k.tZ)("h3",{className:"text-align-left m-b-md",children:(0,C.kIE)("Map the CW Product/Agreement Type:")}),(0,k.BX)(Z.Z,{validationState:d?"error":null,className:"row",children:[(0,k.BX)(D.Z,{componentClass:N.Z,xs:3,css:ne,children:[(0,k.tZ)("span",{children:(0,C.kIE)("Product")}),(0,k.tZ)("sup",{children:" *"})]}),(0,k.BX)(D.Z,{xs:9,children:[(0,k.tZ)(M.ZP,{name:"productName",className:d?"invalid-single-select":"",value:i.find((e=>e.id===a.productId)),options:(0,Q.x)(i),onChange:this.onChangeProduct,placeholder:(0,C.kIE)("Select..."),getOptionValue:(0,c.vgT)("id"),getOptionLabel:(0,c.vgT)("name"),formatOptionLabel:e=>(0,K.lH)(e.name)}),d&&(0,k.tZ)("em",{className:"invalid",children:d})]})]}),(0,k.BX)(Z.Z,{validationState:u?"error":null,className:"row",children:[(0,k.BX)(D.Z,{componentClass:N.Z,xs:3,css:ne,children:[(0,k.tZ)("span",{children:(0,C.kIE)("Agreement Type")}),(0,k.tZ)("sup",{children:" *"})]}),(0,k.BX)(D.Z,{xs:9,children:[(0,k.tZ)(M.ZP,{name:"agreementTypeName",className:u?"invalid-single-select":"",value:o.find((e=>e.id===a.agreementTypeId)),options:(0,Q.x)(o),onChange:this.onChangeAgreementType,placeholder:(0,C.kIE)("Select..."),getOptionValue:(0,c.vgT)("id"),getOptionLabel:(0,c.vgT)("name")}),u&&(0,k.tZ)("em",{className:"invalid",children:u})]})]})]}),(0,k.BX)("div",{css:ae,children:[(0,k.tZ)("h3",{className:"text-align-left",children:(0,C.kIE)("To Devices with:")}),(0,k.BX)(Z.Z,{validationState:p||h?"error":null,className:"row m-b-none",children:[(0,k.BX)(D.Z,{componentClass:N.Z,xs:3,css:ne,children:[(0,k.tZ)("span",{children:(0,C.kIE)("Role")}),(0,k.tZ)("sup",{children:" *"})]}),(0,k.BX)(D.Z,{xs:9,children:[(0,k.tZ)(M.ZP,{name:"nodeRoleName",className:p?"invalid-single-select":"",value:(0,K.fQ)(n,a.nodeRoleId),options:(0,K.JU)(n),onChange:this.onChangeNodeRole,placeholder:(0,C.kIE)("Select..."),getOptionValue:(0,c.vgT)("id"),getOptionLabel:(0,c.vgT)("name")}),(p||h)&&(0,k.tZ)("em",{className:"invalid",children:p||h})]})]}),(0,k.tZ)(Z.Z,{className:"row m-b-none",children:(0,k.tZ)(D.Z,{componentClass:N.Z,xs:3,css:ne,children:(0,k.tZ)("span",{children:(0,C.kIE)("and").toUpperCase()})})}),(0,k.BX)(Z.Z,{className:"row m-t-md",children:[(0,k.tZ)(D.Z,{componentClass:N.Z,xs:3,css:ne,children:(0,C.kIE)("Group(s)")}),(0,k.BX)(D.Z,{xs:9,children:[(0,k.tZ)(te.Z,{isMulti:!0,keepDropdownInView:!0,openOnFocus:!0,width:"100%",options:(0,Q.x)(g),value:v,onSelect:(0,c.qCK)(l,(0,c.jge)("id"),(0,c.yAE)([])),valueSelectorKey:"id",searchableKey:"name",placeholder:(0,C.kIE)("Select Multiple...")}),(0,k.tZ)("div",{children:(0,k.BX)(J.Ee,{className:"display-flex align-items-start m-t-sm",name:"Options",value:a.groupsLogicOperator,onChange:this.onChangeGroupLogicalOperator,children:[(0,k.tZ)(J.Y8,{value:"OR",radioClass:"iradio_square-blue",increaseArea:"20%",label:(0,k.tZ)("span",{className:"m-l-xs m-r-md",children:(0,C.kIE)("Any")})}),(0,k.tZ)(J.Y8,{value:"AND",radioClass:"iradio_square-blue",increaseArea:"20%",label:(0,k.tZ)("span",{className:"m-l-xs",children:(0,C.kIE)("All Groups")})})]})})]})]})]})]})})}}const ie=(0,l.$j)((e=>{var{psa:t,deviceSearch:a}=e;return{title:t.ConnectWise.mappings.products.nodeRoleProductMappingModalEditorTitle,mode:t.ConnectWise.mappings.products.nodeRoleProductMappingModalEditorMode,currentMapping:t.ConnectWise.mappings.products.currentNodeRoleProductMapping,nodeRoleList:t.ConnectWise.mappings.nodeRoleList,groupList:a.groups,productList:t.ConnectWise.mappings.products.productList,agreementTypeList:t.ConnectWise.mappings.products.agreementTypeList,selectedGroups:t.ConnectWise.mappings.products.currentNodeRoleProductMapping.groups,allMappings:t.ConnectWise.mappings.products.currentProductMapping.nodeRoleProductMappings}}),{addMapping:function(e){return t=>{t({type:"ADD_CW_PRODUCT_MAPPING_NODE_ROLE_PRODUCT_MAPPING",mapping:e})}},updateMapping:U,closeModal:function(){return e=>{e({type:"RESET_CW_NODE_ROLE_PRODUCT_MAPPING"}),e((0,B.C)("CWNodeRoleProductMappingModal")())}},setNodeRole:function(e){return t=>{t({type:"SET_CW_NODE_ROLE_PRODUCT_MAPPING_NODE_ROLE",nodeRole:e})}},setProduct:function(e){return t=>{t({type:"SET_CW_NODE_ROLE_PRODUCT_MAPPING_PRODUCT",product:e})}},setAgreementType:function(e){return t=>{t({type:"SET_CW_NODE_ROLE_PRODUCT_MAPPING_AGREEMENT_TYPE",agreementType:e})}},setGroups:function(e){return t=>{t({type:"SET_CW_NODE_ROLE_PRODUCT_MAPPING_GROUPS",groups:e})}},setGroupLogicalOperator:function(e){return t=>{t({type:"SET_CW_NODE_ROLE_PRODUCT_MAPPING_LOGICAL_OPERATOR",logicalOperator:e})}},requestGetSearchesAndCriteria:ee.hO})(re);var oe=a(12411);var le={name:"1tijz0c",styles:"display:flex;flex-flow:column;height:405px;margin-top:-15px"},se={name:"1bjqur3",styles:"display:flex;flex-flow:row-reverse;margin-top:-9px"},de=(0,z.css)("background-color:",oe.colors.white,";border:1px solid ",oe.colors.ninjaLight,";margin-top:20px;","");class ce extends n.PureComponent{constructor(){super(...arguments),this.state={selectedMapping:null},this.onAdd=e=>{e.stopPropagation(),e.preventDefault();var{showModal:t,mappings:a}=this.props;t((0,C.eWj)("Add Mapping"),"ADD",(0,T.Dx)(a))},this.selectMappingRowId=e=>{this.setState({selectedMapping:e||null})},this.moveRankUp=()=>{var{moveMappingRankUp:e}=this.props,{selectedMapping:t}=this.state;e(t)},this.moveRankDown=()=>{var{moveMappingRankDown:e}=this.props,{selectedMapping:t}=this.state;e(t)}}render(){var{modalVisibility:e}=this.props,{selectedMapping:t}=this.state,{selectMappingRowId:a,moveRankUp:n,moveRankDown:r}=this;return(0,k.BX)("div",{css:le,children:[(0,k.tZ)("div",{css:se,children:(0,k.tZ)("button",{className:"btn-link action m-r",onClick:this.onAdd,children:(0,C.kIE)("Add Mapping")})}),(0,k.tZ)("div",{className:"display-flex flex-full overflow-hidden",css:de,children:(0,k.tZ)(X,{selectedMapping:t,selectMappingRowId:a,moveRankUp:n,moveRankDown:r})}),(0,k.tZ)(d.Z,{show:e,className:"inmodal",children:(0,k.tZ)(ie,{})})]})}}const ue=(0,l.$j)((e=>{var{psa:t}=e;return{modalVisibility:t.ConnectWise.mappings.products.nodeRoleProductMappingModalVisibility,mappings:t.ConnectWise.mappings.products.currentProductMapping.nodeRoleProductMappings}}),{showModal:W,moveMappingRankUp:p.y4,moveMappingRankDown:p.K5})(ce);var pe={name:"1flj9lk",styles:"text-align:left"};const he=(0,l.$j)((e=>{var{psa:t}=e;return{mode:t.ConnectWise.mappings.products.productModalEditorMode,productMappings:t.ConnectWise.mappings.products.productMappings,currentProductMapping:t.ConnectWise.mappings.products.currentProductMapping}}),{addProductMapping:p.AJ,updateProductMapping:p.QW,closeProductMappingModal:p.wh,setProductMappingName:p.J$,changeProductMapping:p.M_})((e=>{var{currentProductMapping:t,productMappings:a,addProductMapping:n,updateProductMapping:r,closeProductMappingModal:i,setProductMappingName:o,changeProductMapping:l,mode:s}=e,{values:{name:d},validation:u,onChange:p,validateForm:h}=(0,L.cI)({fields:{name:t.name},validate:{name:function(e){var n=!e.trim()&&(0,C.kIE)("Required"),r=e.length>50&&(0,C.kIE)("Max length for name is 50 chars"),i=function(e,t,a){var n=e.find((e=>e.name===t));return n&&n.id!==a}(a,e.trim(),t.id)&&(0,C.kIE)("Product mapping name already taken");return{success:!n&&!r&&!i,message:n||r||i}}}}),g=[{value:"MULTIPLE_HIT",label:(0,C.kIE)("Map device to all matching mappings")},{value:"SINGLE_HIT",label:(0,C.kIE)("Map device to first mapping only")}];return(0,k.tZ)(A.Z,{onSubmit:async function(e){e.preventDefault(),e.stopPropagation(),h()&&("ADD"===s?await n(t):await r(t),i())},children:(0,k.tZ)(P.oA,{submittable:!0,title:(0,C.eWj)("Product Mapping"),close:i,closeText:(0,C.eWj)("Close"),saveText:(0,C.eWj)("OK"),showCloseButton:!1,dialogClassName:"widest-modal psa-modal",height:"580px !important",maxHeight:"580px !important",children:(0,k.BX)("div",{className:"display-flex flex-column",children:[(0,k.BX)(Z.Z,{validationState:u.message.name?"error":null,children:[(0,k.BX)(D.Z,{componentClass:N.Z,xs:4,css:pe,children:[(0,k.tZ)("span",{children:(0,C.kIE)("Name")}),(0,k.tZ)("sup",{children:" *"})]}),(0,k.BX)(D.Z,{xs:8,children:[(0,k.tZ)(O.Z,{autoFocus:!0,type:"text",placeholder:(0,C.kIE)("Name"),value:d,onChange:function(e){o(e.target.value),p("name",e.target.value)},maxLength:"50"}),u.message.name&&(0,k.tZ)("em",{className:"invalid",children:u.message.name})]})]}),(0,k.BX)(Z.Z,{children:[(0,k.tZ)(D.Z,{componentClass:N.Z,xs:4,css:pe,children:(0,k.tZ)("span",{children:(0,C.kIE)("Mapping Type")})}),(0,k.tZ)(D.Z,{xs:8,children:(0,k.tZ)(M.ZP,{id:"mappingTypeSelect",options:g,onChange:function(e){var{value:a}=e;l({...t,productMappingType:a})},value:(0,c.hXT)((0,c.OH4)("value",t.productMappingType),g)})})]}),(0,k.BX)(Z.Z,{children:[(0,k.tZ)(D.Z,{componentClass:N.Z,xs:12,css:pe,children:(0,C.kIE)("Mappings")}),(0,k.tZ)(D.Z,{xs:12,children:(0,k.tZ)(ue,{})})]})]})})})}));var ge=a(75493);class ve extends n.PureComponent{constructor(){super(...arguments),this.onAdd=()=>{var{showProductMappingModal:e,productMappings:t}=this.props;e("ADD",(0,T.Dx)(t))}}render(){var{loading:e,productMappingModalVisibility:t}=this.props;return(0,k.tZ)(ge.kC,{flex:1,height:"100%",children:e?(0,k.tZ)(s.Z,{}):(0,k.BX)(k.HY,{children:[(0,k.tZ)(R,{addNewMapping:this.onAdd}),(0,k.tZ)(d.Z,{show:t,className:"inmodal",children:(0,k.tZ)(he,{})})]})})}}const me=(0,l.$j)((e=>{var{psa:t}=e;return{productMappingModalVisibility:t.ConnectWise.mappings.products.productMappingModalVisibility,productMappings:t.ConnectWise.mappings.products.productMappings,loading:t.editorLoading}}),{showProductMappingModal:p.uk})(ve);var fe=a(70222),ye=a(58059),be=a(11029);class Te extends n.PureComponent{constructor(){super(...arguments),this.onScheduleUpdate=e=>{this.props.setSchedule(e)}}render(){var{loading:e,syncData:{enabled:t,schedule:a},setEnabled:n}=this.props;return e?(0,k.tZ)(s.Z,{}):(0,k.BX)(k.HY,{children:[(0,k.BX)(D.Z,{xs:6,className:"m-b",children:[(0,k.BX)(D.Z,{xs:3,className:"flex-row",children:[(0,k.tZ)("h3",{className:"m-l-n",children:(0,C.kIE)("Enabled")}),(0,k.tZ)("div",{className:"m-t-xs",children:(0,k.tZ)(F.Z,{token:(0,C.eWj)("Enabling this turns on product agreements synchronization on schedule.")})})]}),(0,k.tZ)(D.Z,{xs:9,children:(0,k.tZ)(fe.Z,{defaultChecked:t,onChange:e=>n(e)})})]}),(0,k.tZ)(D.Z,{xs:6,children:(0,k.tZ)(be.Z,{schedule:a,onScheduleUpdate:this.onScheduleUpdate,repeatsOptions:[{value:"MONTHLY",text:()=>(0,C.kIE)("Monthly"),maxRecurrence:12,recurrenceText:()=>(0,C.kIE)("month(s)")}],repeatsDisabled:!0,visibleRecurEvery:!1})})]})}}const Ce=(0,l.$j)((e=>{var{psa:t}=e;return{syncData:t.ConnectWise.mappings.products.productAgreementSync,loading:t.editorLoading}}),{setEnabled:ye.gL,setSchedule:ye.U3})(Te);function Ee(){return(0,k.BX)(i.Z,{animation:!1,defaultActiveKey:"mappings",id:"cw-product-tabs",className:"custom-nav-tabs p-l p-r",children:[(0,k.tZ)(o.Z,{eventKey:"mappings",title:(0,r.localized)("Mappings"),children:(0,k.tZ)(me,{})}),(0,k.tZ)(o.Z,{eventKey:"sync",title:(0,r.localized)("Sync"),children:(0,k.tZ)(Ce,{})})]})}},65805:(e,t,a)=>{a.d(t,{JU:()=>u,KB:()=>s,fQ:()=>c,lH:()=>p,ov:()=>l});var n=a(51514),r=a(58064),i=a(6775),o=a(49026),l=(e,t)=>(0,r.wVM)([[(0,r.fS0)(n.hu),(0,r.Bxt)("".concat(e||(0,i.localized)("None")," (").concat((0,i.localized)("Default"),")"))],[(0,r.fS0)(n.Hn),(0,r.Bxt)((0,i.localized)("None"))],[r.T,(0,r.Bxt)(e)]])(t),s=e=>{if(!e)return null;var{custom:t,name:a}=e;return t?e:{...e,name:(0,i.localizeMappingName)(a)}},d=(0,r.UID)(s),c=(e,t)=>(0,r.qCK)(s,(0,r.sEJ)((e=>e.id===t)))(e),u=e=>(0,r.qCK)(o.x,d)(e),p=(0,r.yAE)((0,i.localized)("general.nameNotAvailable"))},60384:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(4519),r=a(50176),i=a(49137),o=a(6775),l=a(48548),s=a(77537);const d=(0,n.memo)((function(e){var{save:t,unmount:a,nodeClass:d}=e,[c,u]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),{values:{folder:g},validateForm:v,validation:m,onChange:f}=(0,l.cI)({validateOnChange:!0,fields:{folder:""},validate:{folder:function(e){h(!1);var t=!e.trim(),a=(0,o.isMacDevice)(d)?!o.macFileFolderNameValidation.test(e)||"."===e.trim().charAt(0):!o.windowsFileFolderNameValidation.test(e);return{success:!t&&!a,message:t?(0,o.localized)("Required"):a?(0,o.localized)("Invalid"):""}}}});return(0,s.tZ)(r.u_,{heading:(0,o.localized)("Create new folder"),buttons:[{labelToken:(0,o.localizationKey)("Create"),onClick:async function(){u(!0);var e=await t(g.trim());u(!1),e?h(e):a()},disabled:c||!m.success.folder,variant:i.Z.PRIMARY}],cancelable:!0,footerAlertMessage:p?{variant:"danger",children:p}:null,unmount:a,children:(0,s.tZ)(r.II,{required:!0,labelText:(0,o.localized)("New folder name"),value:g,onChange:function(e){f("folder",e.target.value)},onBlur:()=>v(["folder"]),errorMessage:m.message.folder})})}))},6985:(e,t,a)=>{a.d(t,{Z:()=>Ne});var n=a(4519),r=a(58064),i=a(6775),o=a(8456),l=a(34928),s=a(75493),d=a(48548),c=a(50176),u=a(77537),p="\u25b8",h=e=>{var{isSearchInProgress:t,isSearchResults:a,type:n,node:{nodeClass:r},common:o,name:l}=e;switch(!0){case t:case a:return p;case"file"===n||"mountedFile"===n:return"";case"folder"===n&&!o:case["mountedFolder","revisions"].includes(n):return(0,i.getPathSeparator)({nodeClass:r});default:return p}},g=e=>{var{resetData:t}=e;return t()};const v=e=>{var{tableId:t,limit:a,node:v,columns:m,primaryActions:f,secondaryGlobalActions:y,getBrowseRowAction:b,onFetchData:T,onSuccessfulBrowse:C,searchable:E,SearchBar:S,searchPlaceholderText:w,setCustomHistory:I,hideCheckboxes:k}=e,[_,x]=(0,d.DJ)([]),[R,A]=(0,d.DJ)(!1),[Z,D]=(0,d.DJ)(),N=(0,n.useRef)([]),O=(0,r.Z$Q)(_),M=(0,i.getPathSeparator)(v),L=async e=>{var{isRoot:t,node:n,historyIndex:r,searchValue:o}=e;if(!t){var{folder:s,restricted:d}=n;if(!s||d)return}var c=void 0!==r,u=c?_[r]:n,p=(0,l.h7H)(o)||(null===O||void 0===O?void 0:O.isSearchResults);if((null===u||void 0===u?void 0:u.path)!==(null===O||void 0===O?void 0:O.path)||p){var h;A(!0);try{h=await T({currentDir:u,fetchingParams:{filters:[],pageIndex:0,pageSize:a,sortBy:[]},separator:M,isFromBreadcrumb:c,searchValue:o})}catch(g){(0,i.reportErrorAndShowMessage)(g,(0,l.eWj)("There was an error fetching content"))}finally{A(!1)}h&&(N.current.push(h),x(t?[]:c?e=>e.slice(0,r+1):I?e=>I({history:e,targetDir:u,searchValue:o}):e=>e.concat(u)),null===C||void 0===C||C({targetDir:u,setHistory:x,separator:M,searchValue:o}))}},P=(0,n.useCallback)((async e=>{var t,a;if(N.current.length)return N.current.pop();try{a=await T({currentDir:O,fetchingParams:e,separator:M,searchValue:Z})}catch(n){(0,i.reportErrorAndShowMessage)(n,(0,l.eWj)("There was an error fetching content"))}return null!==(t=a)&&void 0!==t?t:{data:[]}}),[T,O,M,Z]);return(0,u.BX)(s.kC,{flex:1,flexDirection:"column",children:[(0,u.tZ)(c.aG,{separator:h,history:_,handleClick:L,rootRenderer:()=>(0,u.BX)("a",{href:"#!",className:"clickable-link",onClick:e=>{e.preventDefault(),L({isRoot:!0})},children:[(0,l.kIE)("All plans"),_.length?(0,u.tZ)(s.Fe,{margin:[0,o.default.spacing[1]],children:p}):null]}),customRenderer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";switch(!0){case e.endsWith(t):return e;case e.endsWith("\\")||e.endsWith("/"):return e.replace(/[/|\\]+$/,t);case t===p:return(0,u.BX)(u.HY,{children:[e,(0,u.tZ)(s.Fe,{margin:[0,o.default.spacing[1]],children:p})]});default:return e+t}},isLink:!0}),S?(0,u.tZ)(S,{searchValue:Z,onSearchValueChange:e=>{D(e),L({node:O,searchValue:e})}}):null,(0,u.tZ)(c.wQ,{pageSizeLimit:a,loading:R,tableId:t,fetchData:P,noRowsToken:(0,l.eWj)("Empty Folder"),onRefresh:g,showSearchBar:!1,columns:m,actions:{primary:[...b?[b(L)]:[],...f],row:{action:e=>L({node:e}),disable:e=>{var{folder:t,restricted:a}=e;return!t||a}}},secondaryGlobalActionsButtons:y,resetPageOnFetchChange:!0,searchPlaceholderText:w,hideSettingsButton:!0,hideCheckboxes:k})]})};var m=a(58601),f=a(67009),y=a(18900),b=a(55576),T=a(36360),C=a(26341),E=a(21615),S=a(41554),w=a(19401),I=(0,S.Z)("div",{target:"e17t8ahw1"})("padding:",o.default.spacing[4],";.data-table-copy-to-clipboard{border:0;background:none;display:inherit;svg{color:",(e=>{var{theme:t}=e;return t.colorTextAction}),";}}"),k=(0,S.Z)("section",{target:"e17t8ahw0"})("padding:",o.default.spacing[3]," 0;border-bottom:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeakest}),";word-wrap:break-word;&:last-child{border-bottom:none;padding-bottom:0;}&>div:last-child{margin-top:",o.default.spacing[1],";}");function _(e){var t,a,{id:n,name:r,location:o,fileSystem:l,partitionStyle:d}=e,p=null===n||void 0===n||null===(t=n.match)||void 0===t||null===(a=t.call(n,/{(.*?)}/))||void 0===a?void 0:a[1],h=null!==p&&void 0!==p?p:(0,i.localized)("Unknown");return(0,u.BX)(I,{children:[(0,u.tZ)(c.xv,{color:"colorTextStrong",token:(0,i.localizationKey)("Details")}),(0,u.BX)(k,{children:[(0,u.tZ)(c.xv,{size:"sm",color:"colorTextWeakest",children:(0,i.localized)("GUID")}),(0,u.BX)(s.kC,{children:[(0,u.tZ)(c.xv,{size:"sm",color:"colorTextStrong",children:h}),(0,u.tZ)(w.Z,{value:h})]})]}),(0,u.BX)(k,{children:[(0,u.tZ)(c.xv,{size:"sm",color:"colorTextWeakest",children:(0,i.localized)("Location")}),(0,u.tZ)(c.xv,{size:"sm",color:"colorTextStrong",textWrap:!0,children:o})]}),(0,u.BX)(k,{children:[(0,u.tZ)(c.xv,{size:"sm",color:"colorTextWeakest",children:(0,i.localized)("File system")}),(0,u.tZ)(c.xv,{size:"sm",color:"colorTextStrong",textWrap:!0,children:l})]}),(0,u.BX)(k,{children:[(0,u.tZ)(c.xv,{size:"sm",color:"colorTextWeakest",children:(0,i.localized)("Disk layout")}),(0,u.tZ)(c.xv,{size:"sm",color:"colorTextStrong",textWrap:!0,children:d})]})]})}var x={CLOUD:(0,i.localizationKey)("Cloud only"),LOCAL:(0,i.localizationKey)("Local only"),HYBRID:(0,i.localizationKey)("Hybrid")},R=(0,r.wVM)([[e=>{var{type:t}=e;return t===C.kY.FILE_FOLDER},(0,r.Bxt)("FileFolderIconSvg")],[e=>{var{type:t}=e;return(0,C.cF)(t)},(0,r.Bxt)("ImageVolumeIconSvg")],[e=>{var{type:t}=e;return(0,C.$l)(t)},(0,r.Bxt)("NetworkShareIconSvg")],[r.T,(0,r.Bxt)("ImageVolumeIconSvg")]]),A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{id:"name",accessor:"name",Header:e,getIconName:(0,r.wVM)([[e=>{var{plan:t}=e;return t},R],[e=>{var{isPointInTime:t}=e;return t},(0,r.Bxt)("HistoryIconSolid")],[e=>{var{volume:t}=e;return t},(0,r.Bxt)("ImageVolumeIconSvg")],[e=>{var{folders:t}=e;return t},(0,r.Bxt)("FoldersIconSolid")],[e=>{var{type:t,folder:a}=e;return"folder"===t||"mountedFolder"===t},e=>{var{expanded:t}=e;return t?"FolderOpenIconSolid":"FolderIconSolid"}],[r.T,e=>{var{path:t,eventKey:a}=e;return(0,b.gO)(t||a)}]]),priorityWidth:!0,getCellInlineTags:e=>{var{planDeleted:t,planEnabled:a,type:n,missing:r,removed:o}=e,l=[],s=(0,C.x$)(n)&&!t&&!a;return t&&l.push({label:(0,i.localized)("Plan Deleted"),id:"deleted",tooltipLabel:(0,i.localizedWith)("Backup data is <%italicText>not<%> deleted",{italicText:e=>{var{localizedText:t}=e;return(0,u.tZ)("i",{children:t})}})}),s&&l.push({label:(0,i.localized)("Disabled"),id:"disabled"}),r&&l.push({label:(0,i.localized)("Missing"),id:"missing",tooltipLabel:(0,i.localized)("No longer present on backup target")}),o&&l.push({label:(0,i.localized)("Removed"),id:"removed",tooltipLabel:(0,i.localized)("Removed from backup plan")}),l.length?l:null},getCellTypeProps:()=>({type:y.k2.BUTTON_LINK}),disableSortBy:!0,...t}},Z=e=>({id:"size",accessor:e=>{var{size:t}=e;return(0,T.qL)(t)},Header:(0,i.localized)(e),disableSortBy:!0}),D=e=>({id:"actualSize",accessor:e=>{var{actualSize:t}=e;return(0,T.qL)(t)},Header:(0,i.localized)(e),disableSortBy:!0,tooltipToken:(0,i.localized)("Amount of files with changed data")}),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0;if(0===e&&0===t)return null;var n=e>0&&t>0?E.Iz:a;return(0,i.localized)(O[n],{localSize:(0,T.qL)(e),cloudSize:(0,T.qL)(t)})},O={[E.Iz]:(0,i.localizationKey)("{{localSize}} Local, {{cloudSize}} Cloud"),[E.Fe]:(0,i.localizationKey)("{{localSize}} Local"),[E.H_]:(0,i.localizationKey)("{{cloudSize}} Cloud")},M=e=>[A((0,i.localized)("Volume name"),(0,C.x$)(e)?{getCellTypeProps:e=>({type:y.k2.STICKY_POPOVER,props:{PopoverContentComponent:(0,u.tZ)(_,{...e}),iconTrigger:(0,u.tZ)(f.RegularInfoCircleIconLight,{size:"sm"}),keepPopoverOpenOnHover:!0,renderTextAsLink:!0}})}:{}),...(0,C.x$)(e)?[]:[{id:"id",accessor:e=>{var t,{id:a}=e,n=null===a||void 0===a||null===(t=a.match)||void 0===t?void 0:t.call(a,/{(.*?)}/);return n?n[1]:(0,i.localized)("Unknown")},Header:(0,i.localized)("GUID"),isCopyable:!0,disableSortBy:!0,maxWidth:"300px"},{id:"location",accessor:"location",Header:(0,i.localized)("Location"),disableSortBy:!0},{id:"fileSystem",accessor:"fileSystem",Header:(0,i.localized)("File system"),disableSortBy:!0},{id:"partitionStyle",accessor:"partitionStyle",Header:(0,i.localized)("Disk layout"),disableSortBy:!0}],{id:"lastRevision",accessor:e=>{var{lastRevision:t}=e;return t?(0,i.dateTime)(t):null},Header:(0,i.localized)("Latest revision"),disableSortBy:!0},...(0,C.x$)(e)?[{id:"volumeUsed",accessor:e=>{var{used:t}=e;return(0,T.qL)(t)},Header:(0,i.localized)("Volume used"),disableSortBy:!0},{id:"volumeCapacity",accessor:e=>{var{capacity:t}=e;return(0,T.qL)(t)},Header:(0,i.localized)("Volume capacity"),disableSortBy:!0},{id:"Backup Storage Used",accessor:e=>{var{localSize:t=0,cloudSize:a=0,destination:n}=e;return N(t,a,n)},Header:(0,i.localized)("Backup storage used"),disableSortBy:!0},{id:"deduplication",accessor:e=>{var{cloudDeduplicationSize:t=0,localDeduplicationSize:a=0}=e;return(0,i.localized)(O[E.Iz],{localSize:(0,T.qL)(a),cloudSize:(0,T.qL)(t)})},Header:(0,i.localized)("Deduplication"),disableSortBy:!0,tooltipToken:(0,i.localizationKey)("Amount of storage saved by deduplication of identical blocks of data")}]:[],...(0,C.x$)(e)?[]:[Z((0,i.localizationKey)("Total Storage"))]],L={NON_BLD:(0,i.localizationKey)("Full"),FULL:(0,i.localizationKey)("Full"),DELTA:(0,i.localizationKey)("Incremental")},P=function(){var{planType:e,destination:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[A((0,i.localized)("Job Run")),{id:"jobCompleted",accessor:e=>{var{jobCompleted:t}=e;return t?(0,i.dateTime)(t):null},Header:(0,i.localized)("Completed"),disableSortBy:!0},...(0,C.x$)(e)?[]:[{id:"bldType",accessor:e=>{var t,{bldType:a}=e;return(0,i.localized)(null!==(t=L[a])&&void 0!==t?t:(0,i.localizationKey)("Unknown"))},Header:(0,i.localized)("Method"),disableSortBy:!0}],D((0,i.localizationKey)("Data Scanned")),{id:"backupSize",accessor:e=>{var{backupSize:t}=e;return(0,T.qL)(t)},Header:(0,i.localized)("Data Stored"),disableSortBy:!0,secondaryIconProps:{getIconName:e=>{var{rollupSize:t}=e;return t?"RegularInfoCircleIconLight":null},getIconTooltipLabel:e=>{var{rollupSize:t}=e;return t?(0,i.localized)("Includes {{rollupSize}} rollups of prior revision data",{rollupSize:(0,T.qL)(t)}):null}},tooltipToken:(0,i.localized)("Size of changed data after compression")},...(0,C.x$)(e)?[{id:"pointExistsIn",accessor:e=>{var{onS3:t,onNas:a}=e,n=[];return a&&n.push((0,i.localized)("Local")),t&&n.push((0,i.localized)("Cloud")),n.join(", ")},Header:(0,i.localized)("Point exists in"),disableSortBy:!0,tooltipToken:(0,i.localized)("Storage destination of this backup point")}]:[]]},z=(e,t)=>[A((0,i.localized)("Name")),...e?[{id:"path",accessor:e=>{var{path:a}=e;return(0,b.S2)(a,t)},Header:(0,i.localized)("Path"),disableSortBy:!0}]:[{id:"latestRevision",accessor:e=>{var{latestRevisionCreatedAt:t}=e;return t?(0,i.dateTime)(t):null},Header:(0,i.localized)("Latest Revision")},{id:"originalSize",accessor:e=>{var{originalSize:t}=e;return(0,T.qL)(t)},Header:(0,i.localized)("Original Size"),disableSortBy:!0},D((0,i.localizationKey)("Actual Size"))]],B=()=>[A((0,i.localized)("Name")),{id:"modified",accessor:e=>{var{modified:t}=e;return t?(0,i.dateTime)(t):null},Header:(0,i.localized)("Modified"),disableSortBy:!0},Z((0,i.localizationKey)("Size"))],W=async e=>{var{node:t}=e;return{data:(await(0,i.fetchJson)("/backup/lockhart/nodes/".concat(t.id,"/plans"))).map((e=>{var a,{uid:n,numericId:r,deleted:i,enabled:o,name:l,schedule:s,type:d,destination:c,backupPermissions:u,lastSuccess:p,storage:h}=e;return{name:l,node:t,type:null!==(a=C.kY[d])&&void 0!==a?a:d,planId:n,planNumericId:r,schedule:s,planDeleted:i,planEnabled:o,plan:!0,path:n,folder:!0,folders:!0,imagePlan:(0,C.cF)(d),destination:c,backupPermissions:u,lastSuccess:p,storage:h}}))}},U=e=>(0,i.reportErrorAndShowMessage)(e,(0,i.localizationKey)("There was an error fetching backup plans for current device")),F=async e=>{var{currentDir:{name:t,planId:a,planDeleted:n,type:r,destination:o},separator:l,node:s}=e;return{data:(await(0,C.Zn)({sourceNode:s,planId:a})).map((e=>{var{fileId:d,lastRevision:c,volumeName:u,volume:p,volumeArrowImageStats:h,filePlanId:g}=e,{id:v,name:m,size:f,label:y,location:b,fileSystem:T,partitionStyle:C}=null!==p&&void 0!==p?p:{},{localBytes:E,cloudBytes:S,usedBytes:w,capacityBytes:I,cloudDeduplicationBytes:k,localDeduplicationBytes:_}=null!==h&&void 0!==h?h:{},x=(null===m||void 0===m?void 0:m.replace(/\\/,""))||"*",R=m?(0,i.localized)("Local Disk"):"",A=y||R,Z=null!==v&&void 0!==v?v:u;return{fileId:d,lastRevision:c,id:Z,volumeName:u,volumeLetter:"*"===x?"(*)":x,node:s,planId:a,planNumericId:g,planName:t,planType:r,destination:o,size:f,label:y,location:b,fileSystem:T,partitionStyle:C,type:"volume",volume:!0,folder:!0,planDeleted:n,name:"(".concat(x,") ").concat(A),path:t+l+Z,used:w,capacity:I,localSize:E,cloudSize:S,cloudDeduplicationSize:k,localDeduplicationSize:_,filteredVolumeName:x}}))}},K=(e,t)=>{var{name:a}=t;return(0,i.reportErrorAndShowMessage)(e,(0,i.localizationKey)("There was an error fetching volumes for backup plan {{backupPlanName}}"),{backupPlanName:a})},H=e=>{var{currentDir:{type:t},node:a}=e;return{columns:M(t),actions:(0,m.pr)(),secondaryGlobalActions:(0,m.ln)(a),fetchData:F,onError:K}},G=a(22637),j=a.n(G),V=a(30111),X=a.n(V),q=a(87304),Y=async e=>{var{currentDir:{name:t,planId:a,planNumericId:n,planDeleted:o,path:l,folder:s,destination:d,backupPermissions:c,type:u},fetchingParams:{pageIndex:p,pageSize:h},separator:g,node:v,isFileFolderBackupAllowed:m}=e,f=await(0,i.fetchJson)("/backup/lockhart/nodes/".concat(v.id,"/plans/").concat(a,"/folders?").concat(j().stringify({page:p,size:h}))),y=!(0,i.user)("canViewAndRestoreBackupData")&&!m,T=f.reduce(((e,r)=>{var{id:p,name:h,path:m,type:f,deleted:T,status:C,cfid:E,latestRevisionCreatedAt:S}=r,{commonFolders:w,rootFolders:I}=e;if("COMMON_FOLDER"===f){var k=m+g+E;w[E]=w[E]||{id:p,cfid:E,node:v,planId:a,planName:t,planNumericId:n,parentPath:l,folder:!0,restricted:y,common:!0,root:!0,type:"folder",missing:T,planDeleted:o,removed:"DELETED"===C,path:k,name:(0,q.Py)(E),content:[],status:C,destination:d,planType:u,latestRevisionCreatedAt:S};var _={id:p,cfid:E,node:v,path:m,planId:a,planNumericId:n,deleted:T,planName:t,parentPath:l,root:!0,folder:!0,name:"DEFINED"===C?(0,i.localized)("N/A"):(0,b.S2)(m||"",g),type:"folder",missing:T,planDeleted:o,removed:"DELETED"===C,backupPermissions:c,status:C,destination:d,planType:u,latestRevisionCreatedAt:S};w[E].content.push(_)}else{var x={id:p,node:v,planId:a,planNumericId:n,folder:s,restricted:y,deleted:T,planName:t,parentPath:l,root:!0,name:(0,b.S2)(m||"",g),path:(0,b.S2)(m||"",g),type:"folder",missing:T,planDeleted:o,removed:"DELETED"===C,backupPermissions:c,status:C,destination:d,planType:u,latestRevisionCreatedAt:S};I.push(x)}return e}),{commonFolders:{},rootFolders:[]});return{data:[...(0,r.VO0)(T.commonFolders),...T.rootFolders]}},J=async e=>{var t,{currentDir:{planName:a,planId:n,planNumericId:r,planDeleted:o,path:l,id:s,common:d,content:c,backupPermissions:u,destination:p,previousDir:h,type:g},fetchingParams:{pageSize:v,pageIndex:m,globalFilter:f},separator:y,node:T}=e,{results:C=[],totalElements:E,totalPages:S}=null!==(t=await(0,i.fetchJson)("/backup/lockhart/nodes/".concat(T.id,"/plans/").concat(n,"/search?").concat(j().stringify({searchTerm:f,page:m,size:v}))))&&void 0!==t?t:{};return{data:C.map((e=>{var{id:t,name:i,path:s,type:d,deleted:c,backupSize:h,size:v}=e,m="FOLDER"===d,f=(0,b.S2)(s.replace("".concat(l,"/"),""),y);return{id:t,node:T,planId:n,deleted:c,planName:a,planNumericId:r,parentPath:l,folder:!0,planDeleted:o,actualSize:h,originalSize:v,type:m?"folder":"file",name:m?X()(s).base:i,path:s,searchPath:m?f:f+y+i,backupPermissions:u,destination:p,planType:g}})),pageCount:S,totalCount:E}},$=e=>{var{fetchingParams:{globalFilter:t}}=e;return((0,i.isNotNilOrEmpty)(t)?J:Y)(e)},Q=(e,t)=>{var{name:a}=t;return(0,i.reportErrorAndShowMessage)(e,(0,i.localizationKey)("There was an error fetching folders for backup plan {{backupPlanName}}"),{backupPlanName:a})},ee=e=>{var{isFileFolderBackupAllowed:t,fetchingParams:{globalFilter:a}={},separator:n}=e;return{columns:z(a,n),actions:(0,m.RP)({isFileFolderBackupAllowed:t}),fetchData:$,onError:Q,searchable:!0}},te=async e=>{var{currentDir:{planName:t,planId:a,planNumericId:n,planDeleted:r,removed:o,path:l,id:s,common:d,content:c,backupPermissions:u,destination:p,planType:h},fetchingParams:{pageSize:g,pageIndex:v},separator:m,node:f}=e;if(!s)return{data:[]};if(d)return{data:c,totalCount:c.length};var{results:y,totalElements:b,totalPages:T}=await(0,i.fetchJson)("/backup/lockhart/v2/nodes/".concat(f.id,"/plans/").concat(a,"/folders/").concat(s,"/content?").concat(j().stringify({page:v,size:g})));return{data:y.map((e=>{var{id:i,name:s,path:d,type:c,deleted:g,backupSize:v,size:y,latestRevisionCreatedAt:b,status:T}=e,C="FOLDER"===c;return{id:i,node:f,planId:a,planNumericId:n,deleted:g,planName:t,parentPath:l,folder:!0,missing:g,planDeleted:r,removed:o||"DELETED"===T,actualSize:v,originalSize:y,latestRevisionCreatedAt:b,type:C?"folder":"file",name:C?X()(d).base:s,path:C?d:l+m+s,backupPermissions:u,destination:p,planType:h}})),pageCount:T,totalCount:b}},ae=async e=>{var t,{currentDir:{planName:a,planId:n,planNumericId:r,planDeleted:o,path:l,id:s,common:d,content:c,backupPermissions:u,destination:p,previousDir:h,planType:g},fetchingParams:{pageSize:v,pageIndex:m,globalFilter:f},separator:y,node:T}=e,{results:C=[],totalElements:E,totalPages:S}=null!==(t=await(0,i.fetchJson)("/backup/lockhart/nodes/".concat(T.id,"/plans/").concat(n,"/search?").concat(j().stringify({searchTerm:f,folderId:s,page:m,size:v}))))&&void 0!==t?t:{};return{data:C.map((e=>{var{id:t,name:i,path:s,type:d,deleted:c,backupSize:h,size:v}=e,m="FOLDER"===d,f=(0,b.S2)(s.replace("".concat(l,"/"),""),y);return{id:t,node:T,planId:n,planNumericId:r,deleted:c,planName:a,parentPath:l,folder:!0,planDeleted:o,actualSize:h,originalSize:v,type:m?"folder":"file",name:m?X()(s).base:i,path:s,searchPath:"".concat(f).concat(m?"":y+i),backupPermissions:u,destination:p,planType:g}})),pageCount:S,totalCount:E}},ne=e=>{var{fetchingParams:{globalFilter:t}}=e;return((0,i.isNotNilOrEmpty)(t)?ae:te)(e)},re=(e,t)=>{var{name:a}=t;return(0,i.reportErrorAndShowMessage)(e,(0,i.localizationKey)("There was an error fetching content for folder {{folderName}}"),{folderName:a})},ie=e=>(0,i.dateTime)(e),oe=async e=>{var{currentDir:{name:t,planName:a,planId:n,planNumericId:r,planType:o,fileId:l,planDeleted:s,volumeLetter:d,filteredVolumeName:c},fetchingParams:{pageIndex:u,pageSize:p},node:h}=e,{results:g,totalElements:v,totalPages:m}=await(0,i.fetchJson)("/backup/lockhart/v3/nodes/".concat(h.id,"/plans/").concat(r,"/files/").concat(l,"/revisions?").concat(j().stringify({page:u,size:p})));return{data:g.map(((e,r)=>{var{id:l,planId:p,type:v,size:f,backupSize:y,bldType:b,modified:T,jobGuid:E,jobCreated:S,jobCompleted:w,onS3:I,onNas:k,rollupSize:_}=e,x=(0,i.isFeatureEnabled)("cloud_image_mounting")&&(0,i.user)("canViewAndRestoreBackupData")&&I,R=m-1===u&&r+1===g.length;return{node:h,id:l,name:ie(S),planId:p,planUuid:n,isPointInTime:!0,planName:a,volumeLabel:t,volumeLetter:d,folder:x,actualSize:f,...(0,C.x$)(o)&&R?{backupSize:y+_,rollupSize:_}:{backupSize:y},type:"revisions",path:l.toString(),size:f,bldType:b,jobGuid:E,jobCreated:S,jobCompleted:w,onS3:I,onNas:k,planDeleted:s,filteredVolumeName:c,jobUid:E}})),pageCount:m,totalCount:v}},le=(e,t)=>{var{name:a}=t;return(0,i.reportErrorAndShowMessage)(e,(0,i.localizationKey)("There was an error fetching revisions for {{volumeName}}"),{volumeName:a})},se=a(55460),de=a(15064),ce=a(75793),ue=a(60036),pe=(0,S.Z)("div",{target:"e1jn2iab0"})("font-weight:700;margin-bottom:",(0,se.Oy)(1),";"),he=e=>{var{name:t,size:a,volumeLabel:n,resolve:r,unmount:o}=e;return(0,u.tZ)(ce.Z,{close:()=>{r(!1),o()},closeText:(0,i.localizationKey)("Cancel"),showCloseButton:!1,saveText:(0,i.localizationKey)("Mount"),save:()=>{r(!0),o()},title:(0,i.localizationKey)("Mount Image"),overflow:!0,children:(0,u.BX)(s.kC,{fontSize:14,flexDirection:"column",textAlign:"left",children:[(0,u.tZ)(s.xu,{marginBottom:(0,se.Oy)(6),children:(0,i.localized)("You are about to mount this volume in the cloud. This may take some time depending on the size of the volume. Are you sure you want to continue?")}),(0,u.BX)(ue.dS,{marginBottom:(0,se.Oy)(4),children:[(0,u.tZ)(pe,{children:(0,i.localized)("Revision Date")}),(0,u.tZ)("div",{children:t})]}),(0,u.BX)(ue.dS,{marginBottom:(0,se.Oy)(4),children:[(0,u.tZ)(pe,{children:(0,i.localized)("Volume Name")}),(0,u.tZ)("div",{children:n})]}),(0,u.BX)(ue.dS,{marginBottom:(0,se.Oy)(4),children:[(0,u.tZ)(pe,{children:(0,i.localized)("Volume Size")}),(0,u.tZ)("div",{children:(0,T.qL)(a)||"-"})]})]})})};const ge=e=>new Promise((t=>{(0,de.Z)((0,u.tZ)(he,{resolve:t,...e}))}));var ve=async e=>{var{currentDir:t,fetchingParams:{pageIndex:a,pageSize:n},separator:r,node:o,isFromBreadcrumb:l}=e;if(!l){var s=await(async e=>{var{planId:t,id:a}=e;return!(!t||!a)&&await ge(e)})(t);if(!s)return}var{planName:d,planId:c,planUuid:u,id:p,volumeLabel:h,path:g,filteredVolumeName:v,planDeleted:m}=t,{results:f,totalElements:y,totalPages:b}=await(0,i.fetchJson)("/backup/lockhart/image/v2/nodes/".concat(o.id,"/plans/").concat(c,"/revisions/").concat(p,"/content?").concat(j().stringify({folder:"/",start:a*n,count:n})));return{data:f.map((e=>{var{name:t,type:a,size:n,modified:i}=e,l="FOLDER"===a;return{node:o,imagePlanId:c,planUuid:u,revisionId:p,planName:d,parentPath:g,folder:l,actualSize:n,type:l?"mountedFolder":"mountedFile",name:t,modified:i,size:n,path:"/".concat(t),downloadPath:h+r+t,fullPath:v+r+t,fullParentPath:v,planDeleted:m}})),pageCount:b,totalCount:y}},me=(e,t)=>{var{name:a}=t;return(0,i.reportErrorAndShowMessage)(e,(0,i.localizationKey)("There was an error fetching content for revision {{folderName}}"),{folderName:a})},fe=async e=>{var{currentDir:{name:t,planName:a,planId:n,imagePlanId:r,planUuid:o,revisionId:l,path:s,downloadPath:d,fullPath:c,planDeleted:u},fetchingParams:{pageIndex:p,pageSize:h},separator:g,node:v}=e;if(!r||!l)return{data:[]};var{results:m,totalElements:f,totalPages:y}=await(0,i.fetchJson)("/backup/lockhart/image/v2/nodes/".concat(v.id,"/plans/").concat(r,"/revisions/").concat(l,"/content?").concat(j().stringify({folder:s,start:p*h,count:h}))),b=m.map((e=>{var{name:t,type:i,size:p,modified:h}=e,m="FOLDER"===i;return{node:v,planId:n,imagePlanId:r,planUuid:o,revisionId:l,planName:a,parentPath:s,folder:m,actualSize:p,type:m?"mountedFolder":"mountedFile",name:t,modified:h,size:p,path:"".concat(s,"/").concat(t),downloadPath:d+g+t,fullPath:c+g+t,fullParentPath:c,planDeleted:u}}));return{data:b,pageCount:y,totalCount:f}},ye=(e,t)=>{var{name:a}=t;return(0,i.reportErrorAndShowMessage)(e,(0,i.localizationKey)("There was an error fetching content for folder {{folderName}}"),{folderName:a})},be=()=>({columns:B(),actions:(0,m.M_)(),fetchData:fe,onError:ye}),Te=async e=>{var{currentDir:{name:t,planName:a,planId:n,planNumericId:r,planDeleted:o,id:l,path:s,disabled:d,backupPermissions:c,planType:u,destination:p},fetchingParams:{pageIndex:h,pageSize:g},node:v}=e,{results:m,totalElements:f,totalPages:y}=await(0,i.fetchJson)("/backup/lockhart/v3/nodes/".concat(v.id,"/plans/").concat(r,"/files/").concat(l,"/revisions?").concat(j().stringify({page:h,size:g})));return{data:m.map((e=>{var{id:r,size:h,backupSize:g,bldType:m,jobCreated:f,jobCompleted:y}=e;return{node:v,file:{id:l,path:s,planName:a,planId:n,name:t},id:r,name:(0,i.dateTime)(f),isPointInTime:!0,volumeLabel:t,folder:!1,planDeleted:o,actualSize:h,backupSize:g,type:"revisions",path:r.toString(),size:h,bldType:m,created:f,jobCompleted:y,disabled:d,backupPermissions:c,planType:u,destination:p}})),pageCount:y,totalCount:f}},Ce=(e,t)=>{var{name:a}=t;return(0,i.reportErrorAndShowMessage)(e,(0,i.localizationKey)("There was an error fetching revisions for {{volumeName}}"),{volumeName:a})},Ee=e=>{var{planType:t,destination:a}=e;return t===C.kY.FILE_FOLDER&&a===E.Fe},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,i.user)("canViewAndRestoreBackupData")||e?[(0,m.jC)({hideMultiAction:e=>e.length>1}),(0,m.nG)({hideRowAction:Ee,hideMultiAction:e=>{var t;return e.length>1||Ee(null!==(t=e[0])&&void 0!==t?t:{})}})]:[]},we=a(44164),Ie=(0,S.Z)("span",{target:"ecq5rz40"})("padding:0 ",(0,se.Oy)(2),";svg{height:100%;}"),ke=e=>(null===e||void 0===e?void 0:e.length)>2,_e=(e,t)=>{var{searchValue:a,onSearchValueChange:r}=e,[o,l]=(0,d.DJ)(a),p=(0,we.u)(),h=e=>{ke(e)&&r(e)};return(0,n.useImperativeHandle)(t,(()=>({clearSearch:()=>r("")}))),(0,n.useEffect)((()=>{l(a)}),[a,l]),(0,u.BX)(s.kC,{gap:(0,se.Oy)(2),marginBottom:(0,se.Oy)(2),children:[(0,u.tZ)(c.E1,{className:"data-table-search",width:(0,se.Oy)(100),placeholderText:(0,i.localized)("Search files or folders in restore..."),value:o||"",onChange:e=>l(e.target.value),onKeyDown:e=>(0,i.isEnterKey)(e)&&h(e.target.value),clearInput:()=>{l(""),r("")},rightIcon:(0,u.tZ)(Ie,{children:(0,u.tZ)(c.u,{label:(0,u.BX)("span",{children:[(0,i.localized)("Search by: File name, folder name, file extension."),(0,u.tZ)("br",{}),(0,i.localized)("Use wildcard * for explicit rule matching (*.txt, Accounting*)")]}),ariaLabel:(0,i.localized)("More Information"),children:(0,u.tZ)(f.RegularInfoCircleIconLight,{size:"sm",color:p.colorTextWeakest})})})}),(0,u.tZ)(c.zx,{maxHeight:(0,se.Oy)(10),type:"save",disabled:!ke(o),onClick:()=>h(o),children:(0,i.localized)("Search")})]})};const xe=(0,n.forwardRef)(_e);var Re={image:H,arrowImage:H,volume:e=>{var{currentDir:{planType:t,destination:a},node:n}=e;return{columns:P({planType:t,destination:a}),actions:(0,C.x$)(t)?(0,m.Ci)():[],getBrowseRowAction:m.Yt,secondaryGlobalActions:(0,m.I)(n),fetchData:oe,onError:le}},fileFolder:ee,folder:e=>{var{isFileFolderBackupAllowed:t,fetchingParams:{globalFilter:a}={},separator:n}=e;return{columns:z(a,n),actions:(0,m.RP)({isFileFolderBackupAllowed:t}),fetchData:ne,onError:re,searchable:!0}},networkShare:ee,revisions:()=>({columns:B(),actions:(0,m.M_)(),fetchData:ve,onError:me}),mountedFolder:be,mountedFile:be,file:e=>{var{isFileFolderBackupAllowed:t}=e;return{columns:P(),actions:Se(t),fetchData:Te,onError:Ce}},plans:()=>({columns:[A((0,i.localized)("Plan Name")),{id:"lastSuccess",accessor:e=>{var{lastSuccess:t}=e;return t?(0,i.dateTime)(t):null},Header:(0,i.localized)("Last success"),disableSortBy:!0,getCellTypeProps:()=>({type:y.k2.DATE})},{id:"schedule",accessor:e=>e.schedule?(0,C.j3)(e):"-",Header:(0,i.localized)("Schedule"),disableSortBy:!0},{id:"planType",accessor:e=>{var{type:t}=e;return(0,C.Zx)(t)},Header:(0,i.localized)("Type"),disableSortBy:!0,secondaryIconProps:{getIconTooltipLabel:e=>{var{type:t}=e;return(0,C.VF)(t)&&(0,i.isFeatureEnabled)("backup_arrow_image")&&(0,i.localized)("Refers to original Image Backup plan type")},getIconName:e=>{var{type:t}=e;return(0,C.VF)(t)&&(0,i.isFeatureEnabled)("backup_arrow_image")&&"RegularInfoCircleIconLight"}}},{id:"destination",accessor:e=>{var{destination:t}=e;return(0,i.localized)(x[t])},Header:(0,i.localized)("Destination"),disableSortBy:!0},{id:"machineStorageUsed",accessor:e=>{var{storage:t}=e;return(0,T.qL)(null===t||void 0===t?void 0:t.volumes)},Header:(0,i.localized)("Machine storage used"),disableSortBy:!0,getCellTypeProps:()=>({type:y.k2.NUMBER})},{id:"backupStorageUsed",accessor:e=>{var{storage:t,destination:a}=e;return t?N(t.local,t.cloud,a):null},Header:(0,i.localized)("Backup storage used"),disableSortBy:!0,getCellTypeProps:()=>({type:y.k2.NUMBER})}],actions:(0,m.GE)(),fetchData:W,onError:U})},Ae=e=>{var t,{currentDir:{type:a="plans"}={}}=e;return{type:a,...(null!==(t=Re[a])&&void 0!==t?t:Re.plans)(e)}},Ze=e=>{var{history:t,targetDir:a,searchValue:n}=e;if("revisions"===a.type)return t.concat({...a,name:"".concat(a.name," ").concat(a.volumeLetter)});var o=(e=>e.flatMap((e=>{var{isSearchInProgress:t,isSearchResults:a}=e;return t?(0,r.anz)("isSearchInProgress",e):a?[]:e})))(t);if(n)return(0,r.qCK)((0,r.R3I)({...a,name:(0,i.localized)("Search Results"),isSearchResults:!0}),(0,r.zBu)(-1,(0,r.yGi)("isSearchInProgress",!0)))(o);if(a.searchPath)return o.concat({...a,name:a.searchPath});var l=t.at(-1);return null!==l&&void 0!==l&&l.isSearchResults?o:o.concat(a)},De=e=>{var t,a,i,{node:o,filterAction:l=(()=>!0),filterColumn:s=(()=>!0),isFileFolderBackupAllowed:d}=e,[c,p]=(0,n.useState)((()=>Ae({node:o,isFileFolderBackupAllowed:d}))),h=(0,n.useRef)(),g=!!c.searchable,m=(0,n.useCallback)((async e=>{var{currentDir:t,fetchingParams:a,separator:n,isFromBreadcrumb:r,searchValue:i}=e,{fetchData:l,onError:s}=Ae({currentDir:t,node:o,isFileFolderBackupAllowed:d,separator:n});try{return await l({currentDir:t,fetchingParams:{...a,globalFilter:i},separator:n,node:o,isFileFolderBackupAllowed:d,isFromBreadcrumb:r})}catch(c){null===s||void 0===s||s(c,t)}}),[d,o]);return(0,u.tZ)(v,{tableId:"backup-manage-".concat(c.type),limit:250,node:o,columns:(0,r.hXT)(s,null!==(t=c.columns)&&void 0!==t?t:[]),primaryActions:(0,r.hXT)(l,null!==(a=c.actions)&&void 0!==a?a:[]),secondaryGlobalActions:(0,r.hXT)(l,null!==(i=c.secondaryGlobalActions)&&void 0!==i?i:[]),getBrowseRowAction:c.getBrowseRowAction,onFetchData:m,onSuccessfulBrowse:e=>{var t,{targetDir:a,setHistory:n,separator:r,searchValue:i}=e;p(Ae({currentDir:a,node:o,isFileFolderBackupAllowed:d,separator:r,fetchingParams:{globalFilter:i}})),!i&&(null===(t=h.current)||void 0===t||t.clearSearch())},searchable:g,...g&&{SearchBar:e=>(0,u.tZ)(xe,{ref:h,...e})},setCustomHistory:Ze,hideCheckboxes:"volume"===c.type})};De.defaultProps={filterAction:()=>!0,filterColumn:()=>!0};const Ne=De},498:(e,t,a)=>{a.d(t,{Z:()=>$});var n=a(40580),r=a.n(n),i=a(58064),o=a(4519),l=a(75100),s=a(51749),d=a(44164),c=a(50176),u=a(55460),p=a(37844),h=a(48548),g=a(15064),v=a(6775),m=a(18836),f=a(79757),y=a(74657),b=a(72617),T=a(18181),C=a(790),E=a(25530),S=a(6945),w=a(41554),I=a(67009),k=a(8456),_=a(72542),x=a(75493),R=a(77537),A=(0,w.Z)(x.kC,{target:"edlq36p1"})("align-items:center;padding:0 ",k.default.spacing[3],";min-height:40px;background-color:",(e=>{var{theme:t}=e;return t.colorBackground}),";border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeakest}),";border-radius:",k.default.spacing[1],";cursor:move;",(e=>{var{isLastItem:t}=e;return"\n      ".concat(t?"":"margin-bottom: ".concat(k.default.spacing[2],";"),"\n    ")}),";"),Z=(0,w.Z)(x.kC,{target:"edlq36p0"})("flex-direction:column;padding:",k.default.spacing[2]," ",k.default.spacing[2],";background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundSubtle}),";border-radius:",k.default.spacing[1],";min-height:322px;"),D=(e,t,a)=>(0,i.u4g)(((a,n)=>{var r=e[n]||t[n];return r&&a.push(r),a}),[],a),N="group",O=e=>{var{options:t,columns:a,groupName:n}=e;return(0,i.u4g)(((e,t)=>(a.includes(t.value)||e.push({...t,[N]:n}),e)),[],t)},M=e=>{var{columns:t,ticketAttributes:a=[],sortBy:n,onChange:r,columnsErrorMessage:l}=e,s=n[0],d=s.field,u=s.direction,{systemOptions:p,systemOptionsMap:h,sortDirectionOptions:g}=(0,o.useMemo)((()=>{var e=(0,S.Nh)({labelKey:"labelText"});return{systemOptions:e,systemOptionsMap:(0,v.arrayToMapWithKey)("value",e),sortDirectionOptions:[{value:"ASC",labelText:(0,v.localized)("Ascending")},{value:"DESC",labelText:(0,v.localized)("Descending")}]}}),[]),{activeAttributeOptions:m,allAttributeOptionsMap:f}=(0,o.useMemo)((()=>{var e=(0,i.u4g)(((e,t)=>{var a={labelText:t.name,value:"attribute:".concat(t.id)};return t.active&&e.activeOptions.push(a),e.allOptionsMap[a.value]=a,e}),{activeOptions:[],allOptionsMap:{}},a);return{activeAttributeOptions:(0,v.sortByFieldNameCaseInsensitive)("label","ASC")(e.activeOptions),allAttributeOptionsMap:e.allOptionsMap}}),[a]),y=[...O({columns:t,groupName:(0,v.localized)("System"),options:p}),...O({columns:t,groupName:(0,v.localized)("Fields"),options:m})];return(0,R.BX)(R.HY,{children:[(0,R.tZ)(x.xu,{marginBottom:k.default.spacing[2],children:(0,R.tZ)(c.Ph,{labelId:"sort-by-select",labelText:(0,v.localized)("Sort by"),options:p,value:d,onChange:e=>r("sortBy",[{...s,field:e}])})}),(0,R.tZ)(x.xu,{marginBottom:k.default.spacing[2],children:(0,R.tZ)(c.Ph,{labelId:"sort-direction-select",labelText:(0,v.localized)("Sort direction"),value:u,options:g,onChange:e=>r("sortBy",[{...s,direction:e}])})}),(0,R.BX)(x.xu,{marginBottom:k.default.spacing[2],children:[(0,R.BX)(x.kC,{justifyContent:"space-between",children:[(0,R.tZ)(c.__,{labelText:(0,v.localized)("Columns"),required:!0}),(0,R.tZ)(c.uT,{type:"bodyXs",children:1===t.length?(0,v.localized)("1 column selected out of {{total}}",{total:y.length}):(0,v.localized)("{{count}} columns selected out of {{total}}",{count:t.length,total:y.length})})]}),(0,R.tZ)(c.Vc,{ariaLabel:(0,v.localized)("Columns"),required:!0,hideClearSelectionButton:!0,options:y,groupKey:N,errorMessage:l,value:"__NONE__",placeholderText:1===t.length?(0,v.localized)("1 column selected"):(0,v.localized)("{{count}} columns selected",{count:t.length}),onChange:e=>r("columns",(0,i.R3I)(e,t))})]}),(0,R.BX)(Z,{children:[(0,R.tZ)(x.xu,{marginBottom:k.default.spacing[2],children:(0,R.tZ)(c.uT,{italic:!0,type:"bodyXs",fontWeight:k.default.typography.fontWeight.regular,color:"colorTextWeakest",children:(0,v.localized)("Drag columns to reorder")})}),(0,R.tZ)(_.Z,{keyProp:"value",elements:D(h,f,t),onChange:e=>r("columns",e?(0,i.jge)("value",e):[]),onRemoveElement:e=>r("columns",(0,i.zud)([e],t)),renderElement:(e,a,n,r)=>(0,R.BX)(A,{isLastItem:r===t.length-1,children:[(0,R.tZ)(x.kC,{width:"20px",justifyContent:"center",children:(0,R.tZ)(I.GripLinesIcon,{})}),(0,R.tZ)(x.xu,{width:"100%",paddingLeft:k.default.spacing[2],children:(0,R.tZ)(c.uT,{children:e.labelText})}),(0,R.tZ)(c.hU,{onClick:t=>a(t,e.value),children:(0,R.tZ)(I.RemoveIcon,{})})]})})]})]})},L=e=>{var{isLoading:t,columns:a,sortBy:n,columnsErrorMessage:r,onChange:i,ticketAttributes:o}=e;return(0,R.tZ)(E.u,{isLoading:t,children:(0,R.tZ)(M,{columns:a,columnsErrorMessage:r,onChange:i,sortBy:n,ticketAttributes:o})})},P=(0,v.localizationKey)("Customize the conditions, columns, and sorting criteria to control what tickets and information will be displayed in this board."),z=(0,v.localizationKey)("Customize the columns and sorting criteria to control what tickets and information will be displayed in this board."),B=(0,v.localizationKey)("Configure ticket condition triggers to execute predefined actions, ensuring faster, more consistent ticket updates, responses, and resolutions."),W=(0,v.localizationKey)("Set pre-defined actions to provide faster, more consistent ticket updates, responses, and resolutions."),U=(0,v.localizationKey)("Save"),F=(0,v.localizationKey)("Create"),K={[f.E.EVENT_BASED]:{[T.r1]:{saveButton:U,description:B,title:(0,v.localizationKey)("Edit event-based automation")},[T.b$]:{saveButton:F,description:B,title:(0,v.localizationKey)("Add event-based automation")}},[f.E.TIME_BASED]:{[T.r1]:{saveButton:U,description:B,title:(0,v.localizationKey)("Edit time-based automation")},[T.b$]:{saveButton:F,description:B,title:(0,v.localizationKey)("Add time-based automation")}},[f.E.RESPONSE_TEMPLATE]:{[T.r1]:{saveButton:U,description:W,title:(0,v.localizationKey)("Edit response template")},[T.b$]:{saveButton:F,description:W,title:(0,v.localizationKey)("Add response template")}},BOARD:{[T.r1]:{saveButton:U,title:(0,v.localizationKey)("Edit ticket board")},[T.b$]:{saveButton:F,title:(0,v.localizationKey)("Add ticket board")}}},H=e=>{var t,a,n,{action:r,isLoading:i,unmount:l,values:s,onChange:d,validation:u,isPersisting:p,handleSave:h,isFormSubmitted:g,type:m,getValidations:y,tags:b,fetchTags:C,onQueryChange:w,attributes:I,fields:k,organizations:_,formOptions:x,notificationChannels:A,handleClose:Z,system:D,copy:N,ticketAttributes:O}=e,{titleGroup:M,saveButtonToken:B}=(0,o.useMemo)((()=>(e=>{var{system:t,type:a,action:n}=e,r={...K[a][n],..."BOARD"===a&&{description:t?z:P}};return{titleGroup:{titleText:(0,v.localized)(r.title),descriptionText:(0,v.localized)(r.description)},saveButtonToken:r.saveButton}})({action:r,type:m,system:D})),[r,m,D]),W=(0,o.useMemo)((()=>(e=>{var{type:t,system:a,copy:n}=e;return{..."BOARD"===t&&{general:{props:{displayDisabled:!1,disabled:!!a&&!n}},columnsAndSorting:{visible:!0},conditions:{visible:!a}},...t===f.E.RESPONSE_TEMPLATE&&{general:{props:{displayDisabled:!0,disabledTooltip:(0,v.localized)("Disabled templates will not be included in response template options.")}},actions:{visible:!0}},...(t===f.E.EVENT_BASED||t===f.E.TIME_BASED)&&{general:{props:{displayDisabled:!0,disabledTooltip:(0,v.localized)("Disabled automations will not be applied to newly created or updated tickets.")}},actions:{visible:!0},conditions:{visible:!0}}}})({copy:N,system:D,type:m})),[N,D,m]),U=(0,o.useMemo)((()=>"BOARD"===m||(0,S.el)(s.actions)),[s.actions,m]),F=(0,o.useMemo)((()=>m===f.E.RESPONSE_TEMPLATE||(0,S.Fk)(s.conditions)),[m,s.conditions]),H=(0,v.hasErrors)(u.success);return(0,R.tZ)(c.Yp,{closeAction:Z,minHeight:586,tabsAriaLabel:(0,v.localized)("Editor tabs"),titleGroup:M,unmount:l,onPrimaryButtonClick:h,primaryButtonDisabled:i||p,primaryButtonLabel:B,cancelable:r===T.b$,tabs:[{label:(0,v.localized)("General"),required:!0,renderer:()=>{var e;return(0,R.tZ)(E.LQ,{isLoading:i,values:s,validation:u,onChange:d,...null===(e=W.general)||void 0===e?void 0:e.props})},hasError:H(["name"])},...null!==(t=W.conditions)&&void 0!==t&&t.visible?[{label:(0,v.localized)("Conditions"),required:!0,renderer:()=>(0,R.tZ)(E.G3,{isLoading:i,conditions:s.conditions,onQueryChange:w,attributes:I,fields:k,organizations:_,type:m,getValidations:y,formOptions:x,isFormSubmitted:g,tags:b,validationMessage:u.message.conditions}),hasError:g&&(!F||H(["conditions"]))}]:[],...null!==(a=W.actions)&&void 0!==a&&a.visible?[{label:(0,v.localized)("Actions"),required:!0,renderer:()=>(0,R.tZ)(E.eX,{isLoading:i,actions:s.actions,onChange:d,type:m,getValidations:y,tags:b,fetchTags:C,isFormSubmitted:g,notificationChannels:A,validationMessage:u.message.actions}),hasError:g&&(!U||H(["actions"]))}]:[],...null!==(n=W.columnsAndSorting)&&void 0!==n&&n.visible?[{label:(0,v.localized)("Columns and sorting"),required:!0,renderer:()=>(0,R.tZ)(L,{isLoading:i,columns:s.columns,sortBy:s.sortBy,columnsErrorMessage:u.message.columns,validation:u,onChange:d,ticketAttributes:O}),hasError:H(["columns"])}]:[]]})},G=(0,i.qCK)((0,i.jge)(["value"]),(0,i.hXT)((0,i.arb)({value:(0,i.q9t)(i.__,["status","id","summary","organization","requester","assignee","type","source","createTime","totalTimeTracked"])}))),j={enabled:!0,name:"",description:"",conditions:{all:[],any:[]},actions:[]},V=(0,i.UID)((0,i.t8m)((0,i.CKt)("touched"),!0)),X=(0,i.rO9)({all:V,any:V}),q={automation_ticket_assignee_do_not_exists:(0,v.localizationKey)("Ticket actions cannot contain deleted users"),ticket_changes_action_user_or_contact_not_found:(0,v.localizationKey)("Ticket actions cannot contain deleted users"),email_action_user_or_contact_not_found:(0,v.localizationKey)("Email action cannot contain deleted users"),email_action_body_max_length:(0,v.localizationKey)("Email action exceeds the maximum character length")},Y="BOARD",J=(0,o.memo)((e=>{var{id:t,type:a=f.E.EVENT_BASED,copy:n=!1,system:l,fetchTriggerBoards:b,onUpdateSuccess:E,unmount:w,statusList:I}=e,k=(0,d.u)(),_=!l&&[f.E.EVENT_BASED,f.E.TIME_BASED,Y].includes(a),x=[f.E.EVENT_BASED,f.E.TIME_BASED].includes(a),[A,Z]=(0,h.DJ)([]),[D,N]=(0,h.DJ)(_),O=a===Y,M=a===f.E.RESPONSE_TEMPLATE,L=a===f.E.TIME_BASED,P=(0,o.useRef)(null),[z,B]=(0,o.useState)(!1),[W,U]=(0,h.DJ)([]),[F,K]=(0,h.DJ)(!1),[J,$]=(0,h.DJ)(!!t),[Q,ee]=(0,h.DJ)([]),[te,ae]=(0,h.DJ)(x),ne=(0,o.useMemo)((()=>({...j,columns:G((0,S.Nh)()),sortBy:[{field:"id",direction:"DESC"}]})),[]),[{error:re,data:ie,fetching:oe}]=(0,s.aM)({query:"\n  query GetAttributeList {\n    ticketAttributes { \n      id \n      attributeType\n      name \n      active\n      content { \n        values { \n          id \n          name \n        } \n      } \n    }\n  }\n",requestPolicy:"network-only"});(0,o.useEffect)((()=>{re&&(0,v.reportErrorAndShowMessage)(re,(0,v.localizationKey)("Error fetching ticket attributes"))}),[re]);var{attributes:le,getValidations:se}=(0,o.useMemo)((()=>{var e=(0,S.AI)({attributes:null===ie||void 0===ie?void 0:ie.ticketAttributes});return{attributes:e,getValidations:(0,S.G)(e)}}),[null===ie||void 0===ie?void 0:ie.ticketAttributes]),de=(0,o.useMemo)((()=>{var e=(0,v.localized)("System"),t=(0,S.VN)({type:a,combinator:"all",statusList:I,groupName:e}),n=(0,S.VN)({type:a,combinator:"any",statusList:I,groupName:e}),r=[...t,...le],i=[...n,...le];return{all:{options:r,optionsMap:(0,v.arrayToMapWithKey)("value",r)},any:{options:i,optionsMap:(0,v.arrayToMapWithKey)("value",i)}}}),[le,I,a]),{values:ce,onChange:ue,validateForm:pe,validation:he}=(0,h.cI)({fields:O?ne:j,validate:{name:(0,v.applyMultipleValidations)([v.validations.required,v.validations.maxLength(50)]),description:v.validations.maxLength(250),...!M&&{conditions:e=>{var t,a;return(null===(t=e.any)||void 0===t?void 0:t.length)+(null===(a=e.all)||void 0===a?void 0:a.length)?L&&!(0,S.M5)(e)?{success:!1,message:(0,v.localized)("Time-based automations require at least one 'time since' condition to be set")}:{success:!0,message:""}:{success:!1,message:(0,v.localized)("Add at least 1 condition")}}},...O&&{columns:e=>{var t=!(0,v.isNilOrEmpty)(e);return{success:t,message:t?"":(0,v.localized)("Please add at least one column")}}},...!O&&{actions:e=>e.length?{success:!0,message:""}:{success:!1,message:(0,v.localized)("Add at least 1 action")}}}}),{enabled:ge,name:ve,description:me,conditions:fe,actions:ye,columns:be,sortBy:Te}=ce;(0,o.useEffect)((()=>{!async function(){try{var e=await(0,v.fetchJson)("/client/list");U(e)}catch(re){(0,v.ninjaReportError)(re)}}()}),[U]);var Ce=(0,o.useCallback)((async()=>{N(!0);try{var e=await(0,p.D5d)(),t=(0,i.u4g)(((e,t)=>{var{id:a,name:n,active:r}=t;return r&&e.push({value:a,labelText:n,label:n}),e}),[],e);Z((0,v.sortByFieldNameCaseInsensitive)("label","ASC",t))}catch(re){(0,v.reportErrorAndShowMessage)(re,(0,v.localizationKey)("Error fetching forms"))}finally{N(!1)}}),[Z,N]);(0,o.useEffect)((()=>{_&&Ce()}),[Ce,_]),(0,o.useEffect)((()=>{t&&!P.current&&async function(){try{var e;$(!0);var a=await(0,v.fetchJson)("/ticketing/trigger/".concat(t)),{conditions:r,actions:i,attachments:o}=a,l=await Promise.all(o.filter((e=>!["PROCESSING","FAILURE","SUSPICIOUS"].includes(e.uploadStatus))).map((async e=>{var t;try{t=(await(0,p.jKd)(e.id)).signedUrl}catch(re){(0,v.ninjaReportError)(re)}return{...e,metadata:{...e.metadata,__src:t}}}))),s=await Promise.all(i.reduce(((e,t)=>{var{type:a,params:n}=t;return"SEND_TEMPLATE_EMAIL"===a&&e.push((0,p.U2s)(n.templateId)),e}),[])).catch((e=>{(0,v.reportErrorAndShowMessage)(e,(0,v.localizationKey)("Error fetching template"))})),d={...a,...n&&{name:"".concat(null!==(e=a.name)&&void 0!==e?e:""," (").concat((0,v.localized)("Copy"),")")},conditions:{all:r.all?(0,m.$m)(r.all):null,any:r.any?(0,m.$m)(r.any):null},actions:i?(0,m.Fg)(i,l,null!==s&&void 0!==s?s:[]):null};ue(d),P.current=d}catch(re){(0,v.showErrorMessage)((0,v.localized)("Failed")),(0,v.ninjaReportError)(re)}finally{$(!1)}}()}),[t,ue,n,$]);var Ee=(0,o.useCallback)((async()=>{try{ae(!0);var e=await(0,v.fetchJson)("/channel/list/brief");ee((0,v.sortByFieldNameCaseInsensitive)("name","ASC",e))}catch(re){(0,v.reportErrorAndShowMessage)(re,(0,v.localizationKey)("Error fetching notification channels"))}finally{ae(!1)}}),[ae,ee]);function Se(){var e=function(e){return(0,S.r0)({list:e,getValidations:se})}(V(ye)),t=(0,S.el)(e);ue("actions",e);var a=!0;if(!M){var n=function(e){return(0,i.XPQ)(e).reduce(((t,a)=>(t[a]=(0,S.r0)({list:e[a],getValidations:se}),t)),{})}(X(fe));a=(0,S.Fk)(n),ue("conditions",n)}return t&&a}(0,o.useEffect)((()=>{x&&Ee()}),[x,Ee]);var{tags:we,fetchingTags:Ie,fetchTags:ke}=(0,C.e)({shouldQuery:!l||!!n}),_e=D||J||oe||Ie||te;return(0,R.tZ)(H,{action:t?T.r1:T.b$,isLoading:_e,unmount:w,handleClose:async function(e){var t,{unmount:a}=e,n=null!==(t=P.current)&&void 0!==t?t:O?ne:j;if(!r()(n,ce))return(0,g.Z)((0,R.tZ)(c.cV,{titleToken:(0,v.localizationKey)("You have unsaved changes"),descriptionToken:(0,v.localizationKey)("Are you sure you wish to proceed?"),actionToken:(0,v.localizationKey)("Continue"),type:"danger",closeToken:(0,v.localizationKey)("Cancel"),onConfirm:e=>{var{unmount:t}=e;t(),a()},unmount:u.ZT}));a()},values:ce,onChange:ue,validation:he,isPersisting:F,handleSave:async function(){if(!F&&(!z&&B(!0),pe()))try{if(!l||n)if(!Se())return;K(!0);var e=!t||n,r=[],o=ye.map((e=>{if("SEND_EMAIL"!==e.field)return e;var{htmlBody:t,uploads:a}=(0,y.Lt)({...e.value,htmlBody:e.value.body},k);return r.push(...null!==a&&void 0!==a?a:[]),{...e,value:{...e.value,body:t}}}));await(0,v.fetchJson)("/ticketing/trigger/".concat(e?"":t),{options:{method:e?"POST":"PUT",body:JSON.stringify({enabled:ge,name:ve,description:me,type:a,conditions:(0,m.E)({conditions:fe,copy:n,system:l}),actions:(0,m.Qs)(o),uploads:r.map((e=>({...(0,i.CEd)(["preview","uploadStatus"],e),metadata:(0,i.CEd)(["__src"],e.metadata)}))),...O&&{columns:be,sortBy:Te}})}}),O&&b(),(0,v.showSuccessMessage)((0,v.localized)("Success")),null===E||void 0===E||E(),w()}catch(re){(0,v.reportErrorAndShowMessage)(re,(e=>{switch(e.resultCode){case"current_user_unsupported":return(0,v.localizationKey)("Placeholder 'currentUser' is not supported for this automation type");case"email_action_comment_placeholder_invalid":return(0,v.localizationKey)("Invalid placeholder found at email body");case"email_action_num_placeholder_comments_invalid":return(0,v.localizationKey)("No more than one placeholder comment is allowed");case"action_comment_placeholder_not_allowed":return(0,v.localizationKey)("Placeholder used in wrong field");default:var t=O?(0,v.localizationKey)("Error saving ticket board"):(0,v.localizationKey)("Error saving automation");return q[null===e||void 0===e?void 0:e.resultCode]||t}})(re))}finally{K(!1)}},system:l,copy:n,ticketAttributes:null===ie||void 0===ie?void 0:ie.ticketAttributes,onQueryChange:function(e,t){ue("conditions",{...fe,[t]:e})},attributes:le,fields:de,organizations:W,type:a,getValidations:se,formOptions:A,isFormSubmitted:z,tags:we,fetchTags:ke,notificationChannels:Q})}));const $=(0,l.$j)((e=>{var{ticketing:t}=e;return{statusList:t.status.list}}),{fetchTriggerBoards:b.tc})(J)},63947:(e,t,a)=>{a.d(t,{C:()=>b,h:()=>d});var n=a(58064),r=a(4519),i=a(50176),o=a(6775),l=a(77537),s="${ticket.subject}",d="${branding.appLogo}",c=["${ticket.id}","${ticket.createdDate}","${ticket.device.displayName}","${ticket.device.url}",s,"${ticket.status}","${ticket.severity}","${ticket.priority}","${ticket.type}","${ticket.tags}","${ticket.organization.name}","${ticket.organization.url}","${ticket.assignee.email}","${ticket.assignee.name}","${ticket.assignee.firstName}","${ticket.assignee.lastName}","${ticket.assignee.phone}","${ticket.requester.email}","${ticket.requester.name}","${ticket.requester.firstName}","${ticket.requester.lastName}","${ticket.requester.phone}","${ticket.requester.organization.name}","${ticket.url}"],u=["${ticket.changes}",d,"${currentUser.signature}"],p=(0,n.$Tr)(c.indexOf(s)+1,"${ticket.description}",c),h=(0,n.UID)((e=>({value:e,labelText:e}))),g=h(c),v=h(["${currentUser.email}","${currentUser.name}","${currentUser.firstName}","${currentUser.lastName}","${currentUser.phone}","${currentUser.organization.name}"]),m=h(p),f=h(["${ticket.comments.all}","${ticket.comments.latest20}","${ticket.comments.latest10}","${ticket.comments.latestPrivate}","${ticket.comments.latestPublic}","${ticket.comments.latest}"]),y=h(u),b=e=>{var{extended:t=!1,withCurrentUserPlaceholders:a=!0,withEmailPlaceholders:n=!1,withEmailTemplatePlaceholders:s=!1}=e,d=(0,r.useMemo)((()=>[...t?m:g,...s?y:[],...a?v:[],...n?f:[]]),[t,a,n,s]);return(0,l.tZ)(i.Vc,{hideClearSelectionButton:!0,labelText:(0,o.localized)("Placeholders"),options:d,value:"__NONE__",onChange:e=>(0,o.clipboardWriteText)(e)})}},18181:(e,t,a)=>{a.d(t,{b$:()=>r,dy:()=>i,r1:()=>n});var n="edit",r="create",i="1:0"},790:(e,t,a)=>{a.d(t,{e:()=>c,i:()=>h});var n=a(40580),r=a.n(n),i=a(4519),o=a(22637),l=a.n(o),s=a(55460),d=a(6775),c=e=>{var{shouldQuery:t}=e,[a,n]=(0,s.DJ)({tags:[],fetchingTags:t}),r=(0,i.useCallback)((async function(){var{refreshTags:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n((t=>({...t,fetchingTags:!e})));try{var t=l().stringify({pageSize:0,sortDirection:"ASC"},{addQueryPrefix:!0}),a=await(0,d.fetchJson)("/ticketing/tags".concat(t));n((e=>({...e,tags:a})))}catch(r){(0,d.reportErrorAndShowMessage)(r,(0,d.localizationKey)("Error while fetching tags"))}finally{n((e=>({...e,fetchingTags:!1})))}}),[n]);return(0,i.useEffect)((()=>{t&&r()}),[r,t]),{...a,fetchTags:r}},u=e=>{var{value:t,isMulti:a}=e,n=t;return(!t||a&&!Array.isArray(n)||!a&&Array.isArray(n))&&(n=(e=>{var{isMulti:t}=e;return t?[]:null})({isMulti:a})),n},p=e=>{var{value:t,isMulti:a,valueKey:n}=e,r=u({value:t,isMulti:a});return{value:r,selectionMap:(0,d.arrayToMapWithKey)(n,(0,d.getAsArray)(r)),isMulti:a,valueKey:n}},h=e=>{var{value:t,isMulti:a,valueKey:n="id"}=e,[i,o]=(0,s.DJ)((()=>p({isMulti:a,valueKey:n,value:t})));return i.isMulti===a&&i.valueKey===n&&r()(u({value:t,isMulti:a}),i.value)||o(p({isMulti:a,value:t,valueKey:n})),{isMulti:i.isMulti,value:i.value,selectionMap:i.selectionMap}}},25530:(e,t,a)=>{a.d(t,{eX:()=>Le,G3:()=>je,LQ:()=>Ve,u:()=>Oe.u});var n=a(91386),r=a.n(n),i=a(58064),o=a(79757),l=(r().shape({labelText:r().string.isRequired,value:r().string.isRequired}),r().shape({success:r().object.isRequired,message:r().object.isRequired}),r().arrayOf(r().shape({id:r().number.isRequired,name:r().string.isRequired})),r().arrayOf(r().shape({labelText:r().string.isRequired,type:r().string.isRequired,value:r().string.isRequired,content:r().object,groupName:r().string.isRequired})),r().shape({field:r().string,id:r().string.isRequired,operator:r().string.isRequired,value:r().oneOfType([r().string,r().number,r().object,r().array])})),s=(r().shape({all:r().arrayOf(l).isRequired,any:r().arrayOf(l).isRequired}),r().arrayOf(r().shape({label:r().string.isRequired,value:r().oneOfType([r().string,r().number]).isRequired})),r().shape({labelText:r().string.isRequired,groupName:r().string.isRequired,value:r().string.isRequired})),d=r().shape({options:r().arrayOf(s).isRequired,optionsMap:r().objectOf(s)}),c=(r().shape({all:d.isRequired,any:d.isRequired}),r().arrayOf(r().shape({id:r().number.isRequired,name:r().string.isRequired})),r().oneOf([...(0,i.VO0)(o.E),"BOARD"]),r().arrayOf(r().shape({name:r().string.isRequired})),r().arrayOf(r().shape({field:r().string.isRequired,id:r().string.isRequired,operator:r().string,uid:r().string,value:r().oneOfType([r().object,r().array,r().number,r().string])})),r().arrayOf(r().shape({id:r().number.isRequired,name:r().string.isRequired})),a(50176)),u=a(6775),p=a(75493),h=a(4519),g=a(75100),v=a(18836),m=a(68506),f=a(32175),y=a(5250),b=a(78374),T=a(61330),C=a(8456),E=a(48548),S=a(15064),w=a(17078),I=a(63947),k=a(34737),_=a(77537),x=e=>{var{value:t,handleOnChange:a,errorMessage:n,ariaLabel:r,ariaAttributes:i,...o}=e;return(0,_.tZ)(k.Sv,{isMulti:!0,isCreatable:!0,shouldCreate:e=>u.validations.email(e).success,value:null!==t&&void 0!==t?t:[],onSelect:a,...n&&{errorMessage:n,validationState:"error"},ariaAttributes:{...r&&{"aria-label":r},...i},useSelectStyling:!0,keepInView:!1,...o})},R=a(6945),A=a(94308),Z=a(65084),D=a(81557),N=a(74657),O="body-editor",M="to-label",L=(0,h.memo)((e=>{var t,a,n,r,o,l,s,d,g,{value:v,handleOnChange:m,showCurrentUserOption:f,isWYSIWYGV3FeatureEnabled:y,unmount:S,metaData:L}=e,[P,z]=(0,E.DJ)({}),B=(0,h.useMemo)((()=>(0,k.PF)()),[]),W=(0,h.useMemo)(w.um,[]),U=(0,h.useRef)(null===v||void 0===v?void 0:v.body),{values:F,onChange:K,validation:H,validateForm:G}=(0,E.cI)({fields:{uploads:null!==(t=null===v||void 0===v?void 0:v.uploads)&&void 0!==t?t:[],to:{emails:null!==(a=null===v||void 0===v?void 0:v.emails)&&void 0!==a?a:[],uids:null!==(n=null===v||void 0===v?void 0:v.uids)&&void 0!==n?n:[],keys:null!==(r=null===v||void 0===v||null===(o=v.keys)||void 0===o?void 0:o.map((e=>[B,...W].find((t=>{var a,n;return(null===e||void 0===e||null===(a=e.uid)||void 0===a?void 0:a.toLowerCase())===(null===t||void 0===t||null===(n=t.uid)||void 0===n?void 0:n.toLowerCase())})))))&&void 0!==r?r:[]},subject:null!==(l=null===v||void 0===v?void 0:v.subject)&&void 0!==l?l:"",body:null!==(s=U.current)&&void 0!==s?s:"",text:(0,N.W5)(null===v||void 0===v?void 0:v.body),allowResponse:null!==(d=null===v||void 0===v?void 0:v.allowResponse)&&void 0!==d&&d},validate:{to:e=>{var{uids:t,keys:a,emails:n}=e;return(0,R.QK)({metaData:null===L||void 0===L?void 0:L.toUsers,metadataIdKey:"uid",valueToArrayConverter:e=>(0,R.cw)({objectList:e})})([...t,...a,...n])},subject:u.validations.required,body:(e,t)=>{var{text:a,uploads:n}=t,r=(0,N.GW)({body:a,htmlBody:e,uploads:n});return{success:r,message:r?"":(0,u.localized)("Required")}}}});var j=(0,h.useCallback)(((e,t)=>{e.read((()=>{var e=(0,b.Gv)().getTextContent();K({text:e,body:(0,T.S)(t)})}))}),[K]),V=(0,h.useCallback)((async e=>{var t=(0,D.k7)({file:e,inline:!0});z((e=>({...e,[t.tempId]:!0})));try{var{resourceId:a}=await(0,N.cT)({file:e}),n={...t,resourceId:a,metadata:{...t.metadata,contentId:a}};return K({uploads:[...F.uploads,n]}),n}finally{z((e=>(0,i.CEd)([t.tempId],e)))}}),[F.uploads,K,z]);return(0,_.BX)(c.u_,{size:"lg",titleGroup:{titleText:(0,u.localized)("Edit field")},unmount:S,buttons:[{type:"save",labelToken:(0,u.localizationKey)("Apply"),onClick:function(){G()&&(m((0,i.CEd)(["to"],{...F,...F.to})),S())},disabled:!(0,i.xbD)(P)}],children:[(0,_.BX)(p.xu,{marginBottom:C.default.spacing[2],children:[(0,_.tZ)(c.__,{labelText:(0,u.localized)("Recipient"),required:!0,id:M}),(0,_.tZ)(x,{showCurrentUserOption:f,value:[...F.to.keys,...F.to.emails,...F.to.uids],handleOnChange:function(e){var t=(0,i.sEJ)(A.tg,e);if(t){var{success:a}=u.validations.email(t.displayName);if(!a)return}var n=e.reduce(((e,t)=>(t.isNew?e.emails=[...e.emails,t]:t.isCurrentUser||t.isDefaultOption?e.keys=[...e.keys,t]:e.uids=[...e.uids,t],e)),{keys:[],uids:[],emails:[]});K("to",n)},additionalDefaultOptions:W,ariaAttributes:{"aria-labelledby":M},errorMessage:H.message.to,searchPlaceholderToken:(0,u.localizationKey)("Select recipient")})]}),(0,_.tZ)(p.xu,{marginBottom:C.default.spacing[2],children:(0,_.tZ)(c.II,{labelText:(0,u.localized)("Subject"),placeholder:(0,u.localized)("Enter subject"),required:!0,value:F.subject,maxLength:100,onChange:e=>K("subject",e.target.value),errorMessage:H.message.subject})}),(0,_.BX)(p.xu,{marginBottom:C.default.spacing[2],children:[(0,_.tZ)(c.__,{labelText:(0,u.localized)("Body text"),required:!0,labelFor:O}),y?(0,_.tZ)(D.r0,{editorContentId:O,htmlParserPluginProps:{initialHTML:U.current},richTextPluginProps:{placeholderToken:(0,u.localizationKey)("Enter body text")},onChangePluginProps:{onChange:j},validationProps:{errorMessage:H.message.body},imagePluginProps:{onUploadImage:V,initialInlineAttachments:null!==(g=null===v||void 0===v?void 0:v.uploads)&&void 0!==g?g:[]},attachmentPluginProps:{excluded:!0},htmlInjectorPluginProps:{included:!0},mentionPluginProps:{excluded:!0}}):(0,_.tZ)(Z.r0,{editorData:{htmlBody:F.body},allowAttachments:!1,allowInlineImages:!1,hasError:!1===H.success.body,onChange:e=>{var{html:t,text:a}=e;return K("body",a.trim().length?t:null)}})]}),(0,_.tZ)(p.xu,{marginBottom:C.default.spacing[2],children:(0,_.tZ)(I.C,{extended:!0,withCurrentUserPlaceholders:f,withEmailPlaceholders:!0})}),(0,_.tZ)(c.XZ,{label:(0,u.localized)("Allow email response by recipient"),name:"allowResponse",checked:F.allowResponse,onChange:()=>K("allowResponse",!F.allowResponse)})]})})),P=(0,h.memo)((e=>{var{value:t,values:a,handleOnChange:n,showCurrentUserOption:r=!0,metaData:i,errorMessage:o,ariaLabel:l}=e,s=(0,u.isFeatureEnabled)("wysiwyg_v3");return(0,_.tZ)(c.cX,{ariaLabel:l,buttonText:(0,u.localized)("Edit"),error:o,maxItemsDisplayed:1,maxItemVisibleTextLength:80,onClick:()=>{(0,S.Z)((0,_.tZ)(L,{value:t,values:a,handleOnChange:n,showCurrentUserOption:r,isWYSIWYGV3FeatureEnabled:s,metaData:i}))},placeholder:(0,u.localized)("No details added"),readOnly:!1,required:!1,selection:null!==t&&void 0!==t&&t.subject?[null===t||void 0===t?void 0:t.subject]:[]})})),z=a(51628),B=a(41554),W=e=>{var{errorMessage:t,theme:a}=e,n=t?a.colorBorderError:a.colorBorderWeak,r=t?a.colorBorderError:a.colorBorderStrong;return"\n    border: 1px solid ".concat(n,";\n    &:hover {\n      border-color: ").concat(r,";\n    }\n  ")},U=(0,B.Z)("div",{target:"e1w3rcb81"})("display:flex;flex:1;border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeak}),";border-radius:",C.default.borderRadius[1],";cursor:pointer;flex-direction:column;background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundInput}),";padding:",C.default.spacing[2]," ",C.default.spacing[3],";min-height:38px;max-height:120px;overflow-y:scroll;transition:100ms;position:relative;",W,";"),F=(0,B.Z)("div",{target:"e1w3rcb80"})("background-color:",(e=>{var{isPublicResponse:t,theme:a}=e;return!1===t?a.colorAlertWarningWeakest:a.colorBackground}),";border-radius:4px;padding:",C.default.spacing[2]," ",C.default.spacing[3],";min-height:38px;max-height:120px;overflow-y:scroll;position:relative;cursor:pointer;",W,";"),K="true",H=e=>{var t,a,{value:n,handleOnChange:r,editorInsertHtml:i,withCurrentUserPlaceholders:o,isWYSIWYGV3FeatureEnabled:l,unmount:s}=e,d=(0,h.useRef)(null===n||void 0===n?void 0:n.body),{values:g,validation:v,validateForm:m,onChange:f}=(0,E.cI)({fields:{body:null!==(t=d.current)&&void 0!==t?t:null,public:null===(a=null===n||void 0===n?void 0:n.public)||void 0===a||a},validate:{body:u.validations.required}});var y=(0,h.useCallback)(((e,t)=>{e.read((()=>{var e=(0,b.Gv)().getTextContent();f("body",e.trim().length?(0,T.S)(t):null)}))}),[f]),S=[{value:K,labelText:(0,u.localized)("Public")},{value:"false",labelText:(0,u.localized)("Private")}],w="body-editor";return(0,_.BX)(c.u_,{size:"lg",titleGroup:{titleText:(0,u.localized)("Edit field")},unmount:s,buttons:[{type:"save",labelToken:(0,u.localizationKey)("Apply"),onClick:function(){m()&&(i(g.body),r(g),s())}}],children:[(0,_.BX)(p.xu,{marginBottom:C.default.spacing[2],children:[(0,_.tZ)(c.__,{labelText:(0,u.localized)("Body text"),required:!0,labelFor:w}),l?(0,_.tZ)(D.r0,{editorContentId:w,richTextPluginProps:{placeholderToken:(0,u.localizationKey)("Enter body text")},isPublicResponse:g.public,htmlParserPluginProps:{initialHTML:d.current},onChangePluginProps:{onChange:y},validationProps:{errorMessage:v.message.body},imagePluginProps:{excluded:!0},attachmentPluginProps:{excluded:!0},mentionPluginProps:{excluded:!0}}):(0,_.tZ)(Z.r0,{isPublicResponse:g.public,editorData:{htmlBody:g.body},allowAttachments:!1,allowInlineImages:!1,hasError:!1===v.success.body,onChange:e=>{var t,{html:a,text:n}=e;return f("body",null!==(t=n.trim())&&void 0!==t&&t.length?a:null)}})]}),(0,_.tZ)(p.xu,{marginBottom:C.default.spacing[2],children:(0,_.tZ)(c.Ph,{labelId:"response",labelText:(0,u.localized)("Response"),required:!0,onChange:e=>f("public",e===K),options:S,value:g.public.toString()})}),(0,_.tZ)(I.C,{withCurrentUserPlaceholders:o})]})},G=e=>{var t,a,{value:n,handleOnChange:r,withCurrentUserPlaceholders:i,errorMessage:o,ariaLabel:l}=e,s=l,[d,{editorInsertHtml:p}]=(0,z.j)(),g=(0,h.useMemo)((()=>{var t,a;return null!==(t=null===e||void 0===e||null===(a=e.value)||void 0===a?void 0:a.body)&&void 0!==t?t:"&nbsp;"}),[null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.body]),v=(0,h.useMemo)((()=>{var t;return null===e||void 0===e||null===(t=e.value)||void 0===t?void 0:t.public}),[null===e||void 0===e||null===(a=e.value)||void 0===a?void 0:a.public]),m=(0,u.isFeatureEnabled)("wysiwyg_v3");return(0,_.BX)(F,{id:s,"aria-label":l,isPublicResponse:v,errorMessage:o,onClick:()=>(0,S.Z)((0,_.tZ)(H,{value:n,handleOnChange:r,editorInsertHtml:p,withCurrentUserPlaceholders:i,isWYSIWYGV3FeatureEnabled:m})),children:[m?(0,_.tZ)(D.kX,{isPublicResponse:v,htmlParserPluginProps:{initialHTML:g,updateOnChange:!0}}):(0,_.tZ)(Z.r0,{isPublicResponse:v,readOnly:!0,editor:d,editorData:{htmlBody:g}}),(0,_.tZ)(c.FD,{error:o,id:s,tooltipAlignment:"end"})]})},j=e=>{var{value:t,handleOnChange:a,unmount:n,withCurrentUserPlaceholders:r}=e,{values:i,validation:o,validateForm:l,onChange:s}=(0,E.cI)({fields:{subject:null!==t&&void 0!==t?t:""},validate:{subject:u.validations.required}});return(0,_.BX)(c.u_,{titleGroup:{titleText:(0,u.localized)("Edit field")},unmount:n,buttons:[{type:"save",labelToken:(0,u.localizationKey)("Apply"),onClick:function(){l()&&(a(i.subject),n())}}],children:[(0,_.tZ)(p.xu,{marginBottom:C.default.spacing[2],children:(0,_.tZ)(c.II,{labelText:(0,u.localized)("Subject"),placeholder:(0,u.localized)("Enter subject"),required:!0,value:i.subject,maxLength:200,onChange:e=>s("subject",e.target.value),errorMessage:o.message.subject})}),(0,_.tZ)(I.C,{withCurrentUserPlaceholders:r})]})},V=e=>{var{handleOnChange:t,ariaLabel:a,value:n,errorMessage:r,withCurrentUserPlaceholders:i}=e,o=a;return(0,_.BX)(U,{id:o,ariaLabel:a,onClick:()=>(0,S.Z)((0,_.tZ)(j,{handleOnChange:t,value:n,withCurrentUserPlaceholders:i})),errorMessage:r,children:[(0,_.tZ)(c.uT,{textWrap:!0,children:null!==n&&void 0!==n?n:(0,_.tZ)(_.HY,{children:"\xa0"})}),(0,_.tZ)(c.FD,{error:r,id:o,tooltipAlignment:"end"})]})},X=a(18181),q=(0,i.UID)((0,i.z6y)({value:i.yRu,labelText:i.yRu}))(["0","15","30","45"]),Y=(0,B.Z)("div",{target:"ec8nxk30"})("display:grid;gap:",C.default.spacing[3],";grid-template-columns:minmax(0, 1fr) minmax(0, ",90,"px);"),J=e=>{var{children:t,labelText:a}=e;return(0,_.BX)(p.xu,{children:[t,(0,_.tZ)(c.uT,{color:"colorTextWeakest",type:"bodyXs",marginTop:C.default.spacing[1],children:a})]})},$=e=>{var{value:t,handleOnChange:a,errorMessage:n,ariaLabel:r}=e,i=(0,h.useMemo)((()=>{var e;return null!==(e=null===t||void 0===t?void 0:t.split(":"))&&void 0!==e?e:X.dy}),[t]);(0,u.isNilOrEmpty)(t)&&a(X.dy);var o=(0,h.useCallback)(((e,t)=>{switch(t){case"hour":a([e,i[1]].join(":"));break;case"minute":a([i[0],e].join(":"));break;default:throw new Error('Invalid type: "'.concat(t,'"'))}}),[i,a]),l=(0,u.localized)("Hours"),s=(0,u.localized)("Minutes"),d=(0,R.dg)(n);return(0,_.BX)(Y,{"aria-label":r,children:[(0,_.tZ)(J,{labelText:l,children:(0,_.tZ)(c.vF,{ariaLabel:l,value:+i[0],min:0,max:R.J3,onChange:e=>o(e,"hour"),...d.hours&&{error:n}})}),(0,_.tZ)(J,{labelText:s,children:(0,_.tZ)(c.Ph,{triggerAriaLabel:s,options:q,value:i[1],onChange:e=>o(e,"minute"),triggerMinWidth:90,listboxMinWidth:90,...d.minutes&&{errorMessage:n}})})]})},Q=a(790),ee=e=>{var{value:t,handleOnChange:a,valueSelectorKey:n=k.lj,metaData:r,isMulti:i,errorMessage:o,ariaLabel:l,...s}=e,{value:d,isMulti:c}=(0,Q.i)({isMulti:i,value:t}),u=(0,h.useCallback)((e=>{Array.isArray(e)?a(e.length?e:null):a(e||null)}),[a]);return(0,_.tZ)(k.Sv,{value:d,onSelect:u,isMulti:c,useSelectStyling:!0,...o&&{errorMessage:o,validationState:"error"},ariaAttributes:{"aria-label":l},keepInView:!1,...s},"".concat(c))},te=a(24331),ae=e=>{var{getOptionLabel:t,optionIdKey:a="id"}=e;return e=>{var{option:n,renderTagOptionName:r,renderTagDeleteAction:i,tagLabelValue:o,TagWrapper:l}=e,s=t({option:n});return(0,_.BX)(l,{"data-testid":"input-tag",children:[r((0,_.tZ)("span",{title:s,children:s})),i()]},n[a])}},ne="name",re=e=>{var{isMulti:t=!0,value:a,handleOnChange:n,errorMessage:r,ariaLabel:i}=e,{value:o,selectionMap:l,isMulti:s}=(0,Q.i)({isMulti:t,value:a}),d=e=>{var{option:t}=e;return"".concat((null===t||void 0===t?void 0:t[ne])||"").concat((e=>{var t,{valuesMap:a,option:n}=e;return null!==(t=a[null===n||void 0===n?void 0:n.id])&&void 0!==t&&t.deleted?" (".concat((0,u.localized)("Deleted"),")"):""})({valuesMap:l,option:t}))};return(0,_.tZ)(te.Z,{isMulti:s,keepDropdownInView:!0,pageSize:50,endpoint:"/query/organizations",valueSelectorKey:"id",searchableKey:ne,value:o,onSelect:e=>{n(e)},getOptionLabel:()=>d({option:o}),tagRenderer:ae({getOptionLabel:d}),keepInView:!1,useSelectStyling:!0,ariaAttributes:{"aria-label":i},...r&&{errorMessage:r,validationState:"error"}})},ie=a(69716),oe=(0,B.Z)(p.xu,{target:"e17droj30"})("width:",C.default.spacing[2],";height:",C.default.spacing[2],";border-radius:50%;"),le=(0,i.UID)((e=>({...e,icon:(0,_.tZ)(oe,{backgroundColor:(0,ie.V7)(e.value),...(0,ie.Oo)(e.value)&&{border:"2px solid",borderColor:"ninjaLight"}})}))),se=(0,g.$j)((e=>{var{ticketing:t}=e;return{statusList:t.status.list}}))((e=>{var{value:t,handleOnChange:a,statusList:n,parentOnly:r,hideClose:i,errorMessage:o,ariaLabel:l}=e,s=(0,h.useMemo)((()=>le((0,y.KQ)(n,{parentOnly:r,hideClose:i}))),[n,r,i]);return(0,_.tZ)(c.Vc,{options:s,ariaLabel:l,value:+t||"__NONE__",onChange:a,errorMessage:o,hideClearSelectionButton:!0})})),de="value",ce="labelText",ue=(0,i.qCK)((0,i.v_p)(",")),pe=e=>{var{name:t,id:a,active:n}=e;return{[ce]:t,[de]:a,active:n}},he=e=>{var{value:t}=e;return t},ge=e=>{var{isMulti:t=!0,value:a,handleOnChange:n,metaData:r,formOptions:o,errorMessage:l,ariaLabel:s}=e,d=(0,R._t)({metaData:r,options:o,metaDataMapper:pe,idKey:de}),p=(0,R.Ly)({value:a,isMulti:t,valuesMap:d,idKey:de,labelKey:ce,valueMapper:he}),h=(e=>{var{metaData:t,formOptions:a,selected:n,valuesMap:r}=e;if((0,u.isNilOrEmpty)(t)||(0,u.isNilOrEmpty)(n))return a;var o=(0,u.getAsArray)(n);if(!o.some((e=>{var t;return!1===(null===(t=r[e])||void 0===t?void 0:t.active)})))return a;var l=(0,u.localized)("Inactive"),s=(0,i.u4g)(((e,t)=>{var a=r[t];return!1===(null===a||void 0===a?void 0:a.active)&&e.push({...a,[ce]:"".concat(a[ce]," (").concat(l,")")}),e}),[],o);return(0,u.sortByFieldNameCaseInsensitive)(ce,"ASC",[...a,...s])})({formOptions:o,metaData:r,selected:p,valuesMap:d});return(0,_.tZ)(c.Vc,{ariaLabel:s,options:h,value:p||"__NONE__",onChange:e=>{n(Array.isArray(e)?ue(e):e)},isMulti:t,errorMessage:l,hideClearSelectionButton:!0})},ve="name",me=e=>{var{isMulti:t=!0,value:a,handleOnChange:n,errorMessage:r,ariaLabel:i}=e,{value:o,selectionMap:l,isMulti:s}=(0,Q.i)({isMulti:t,value:a}),d=e=>{var t,{option:a}=e,n=(null===a||void 0===a?void 0:a[ve])||(0,u.localized)("N/A"),r="".concat(null!==(t=l[a.id])&&void 0!==t&&t.deleted?" (".concat((0,u.localized)("Deleted"),")"):""),i=a.organizationName||(0,u.localized)("N/A");return"".concat(n," | ").concat(i).concat(r)};return(0,_.tZ)(te.Z,{isMulti:s,keepDropdownInView:!0,keepInView:!1,pageSize:50,endpoint:"/query/locations",valueSelectorKey:"id",searchableKey:ve,value:o,onSelect:e=>{n(e)},getOptionLabel:()=>d({option:o}),tagRenderer:ae({getOptionLabel:d}),rowRenderer:(e,t,a)=>{var n=e[a],r="".concat(n," (").concat(e.organizationName,")");return(0,_.tZ)("div",{className:"text-ellipsis line-height-initial",title:r,children:t&&n.toLowerCase().includes(t.toLowerCase())?(0,_.tZ)(c.oP,{text:r,highlight:t}):r})},useSelectStyling:!0,ariaAttributes:{"aria-label":i},...r&&{errorMessage:r,validationState:"error"}})},fe=a(34928),ye=a(37844),be=e=>{var{selected:t,tags:a,onChange:n,disableEditor:r,onFocus:i,ariaLabel:o,errorMessage:l}=e,s=t||[],[d,p]=(0,E.DJ)(!1);return(0,_.tZ)(c.Vc,{ariaLabel:o,options:a,isMulti:!0,value:s,comboboxProps:{creatable:!0,onCreate:async e=>{if(!d){var t=(0,A.uy)(e);if(t)t.forEach((e=>{(0,u.showErrorMessage)(e)}));else try{p(!0),await(0,ye.lnY)(e),n([...s,e])}catch(a){return(0,u.reportErrorAndShowMessage)(a,(0,fe.eWj)("Error creating tag"))}finally{p(!1)}}}},onChange:n,errorMessage:l,hideClearSelectionButton:!0})},Te=a(40430),Ce="to-label",Ee=e=>{var t,a,n,r,o,l,{value:s,handleOnChange:d,showCurrentUserOption:g,unmount:v,metaData:m}=e,f=(0,h.useMemo)((()=>(0,Te.PF)()),[]),y=(0,h.useMemo)(w.um,[]),{values:b,onChange:T,validation:S,validateForm:I}=(0,E.cI)({fields:{to:{emails:null!==(t=null===s||void 0===s?void 0:s.emails)&&void 0!==t?t:[],uids:null!==(a=null===s||void 0===s?void 0:s.uids)&&void 0!==a?a:[],keys:null!==(n=null===s||void 0===s||null===(r=s.keys)||void 0===r?void 0:r.map((e=>[f,...y].find((t=>{var a,n;return(null===e||void 0===e||null===(a=e.uid)||void 0===a?void 0:a.toLowerCase())===(null===t||void 0===t||null===(n=t.uid)||void 0===n?void 0:n.toLowerCase())})))))&&void 0!==n?n:[]},templateId:null!==(o=null===s||void 0===s?void 0:s.templateId)&&void 0!==o?o:null,template:null===s||void 0===s?void 0:s.template,allowResponse:null!==(l=null===s||void 0===s?void 0:s.allowResponse)&&void 0!==l&&l},validate:{to:e=>{var{uids:t,keys:a,emails:n}=e;return(0,R.QK)({metaData:null===m||void 0===m?void 0:m.toUsers,metadataIdKey:"uid",valueToArrayConverter:e=>(0,R.cw)({objectList:e})})([...t,...a,...n])},templateId:u.validations.required}});return(0,_.BX)(c.u_,{size:"md",titleGroup:{titleText:(0,u.localized)("Edit field")},unmount:v,buttons:[{type:"save",labelToken:(0,u.localizationKey)("Apply"),onClick:()=>{if(I()){var e=(0,i.CEd)(["to"],{...b,...b.to});d(e),v()}},disabled:!1}],children:[(0,_.BX)(p.xu,{marginBottom:C.default.spacing[2],children:[(0,_.tZ)(c.__,{labelText:(0,u.localized)("Recipient"),required:!0,id:Ce}),(0,_.tZ)(x,{showCurrentUserOption:g,value:[...b.to.keys,...b.to.emails,...b.to.uids],handleOnChange:function(e){var t=(0,i.sEJ)(A.tg,e);if(t){var{success:a}=u.validations.email(t.displayName);if(!a)return}var n=e.reduce(((e,t)=>(t.isNew?e.emails=[...e.emails,t]:t.isCurrentUser||t.isDefaultOption?e.keys=[...e.keys,t]:e.uids=[...e.uids,t],e)),{keys:[],uids:[],emails:[]});T("to",n)},additionalDefaultOptions:y,ariaAttributes:{"aria-labelledby":Ce},errorMessage:S.message.to,searchPlaceholderToken:(0,u.localizationKey)("Select recipient")})]}),(0,_.BX)(p.xu,{marginBottom:C.default.spacing[2],children:[(0,_.tZ)(c.__,{labelFor:"email-template",labelText:(0,u.localized)("Email template"),required:!0}),(0,_.tZ)(te.Z,{isMulti:!1,pageSize:50,keepDropdownInView:!0,valueSelectorKey:"id",searchableKey:"name",rowHeight:35,value:b.template,getAnchorNaturalId:e=>{var{anchorNaturalId:t}=e;return{anchorId:t}},endpoint:"/ticketing/email-template",lastItemKey:"name",searchParams:e=>{var{query:t}=e;return{searchCriteria:t}},onSelect:e=>{T({template:e,templateId:e.id})},width:"100%",useSelectStyling:!0,...S.message.templateId&&{errorMessage:S.message.templateId,validationState:"error"}})]}),(0,_.tZ)(c.XZ,{label:(0,u.localized)("Allow email response by recipient"),name:"allowResponse",checked:b.allowResponse,onChange:()=>T("allowResponse",!b.allowResponse)})]})},Se=e=>{var{value:t,handleOnChange:a,showCurrentUserOption:n=!0,metaData:r,errorMessage:i,ariaLabel:o}=e;return(0,_.tZ)(c.cX,{ariaLabel:o,buttonText:(0,u.localized)("Edit"),error:i,maxItemsDisplayed:1,maxItemVisibleTextLength:80,onClick:()=>{(0,S.Z)((0,_.tZ)(Ee,{value:t,handleOnChange:a,showCurrentUserOption:n,metaData:r}))},placeholder:(0,u.localized)("No template selected"),readOnly:!1,required:!1,selection:null!==t&&void 0!==t&&t.template?[t.template.name]:[]})};function we(e){switch(e){case"add_tags":case"remove_tags":case"set_tags":case"add_cc_list":case"set_cc_list":case"ADD_TICKET_COMMENT":case"SEND_EMAIL":case"SEND_TEMPLATE_EMAIL":return[];case"SEND_NOTIFICATION":return[{value:"EMAIL",labelToken:(0,u.localizationKey)("Email")},{value:"SMS",labelToken:"SMS"},{value:"SLACK",labelToken:"Slack"}];case"ticket":return[{value:"organization",labelToken:(0,u.localizationKey)("Assign organization")},{value:"assignedAppUserId",labelToken:(0,u.localizationKey)("Set primary assignee")},{value:"additionalAssignedTechnicianId",labelToken:(0,u.localizationKey)("Add additional assignee")},{value:"requesterUid",labelToken:(0,u.localizationKey)("Requester")},{value:"status",labelToken:(0,u.localizationKey)("Status")},{value:"severity",labelToken:(0,u.localizationKey)("Severity")},{value:"priority",labelToken:(0,u.localizationKey)("Priority")},{value:"type",labelToken:(0,u.localizationKey)("Type")},{value:"summary",labelToken:(0,u.localizationKey)("Subject")}];case"TICKET_LOG_ENTRY_TIME_TRACKER":return[{value:"MINUTES",labelToken:(0,u.localizationKey)("Minutes")},{value:"HOURS",labelToken:(0,u.localizationKey)("Hours")},{value:"DAYS",labelToken:(0,u.localizationKey)("Days")}];default:return null}}function Ie(e){var{value:t,values:a,handleOnChange:n,errorMessage:r,ariaLabel:i}=e;return(0,_.tZ)(be,{tags:a,selected:t,onChange:n,errorMessage:r,ariaLabel:i})}function ke(e){var{valueSelectorKey:t,...a}=e;return function(e){var{value:n,handleOnChange:r,metaData:i,errorMessage:o,ariaLabel:l}=e;return(0,_.tZ)(ee,{value:n,handleOnChange:r,metaData:i,valueSelectorKey:t,errorMessage:o,ariaLabel:l,...a})}}function _e(e){var{value:t,handleOnChange:a,metaData:n,errorMessage:r,ariaLabel:i}=e;return(0,_.tZ)(re,{value:t,handleOnChange:a,metaData:n,isMulti:!1,errorMessage:r,ariaLabel:i})}function xe(e){var{value:t,handleOnChange:a,errorMessage:n,ariaLabel:r}=e;return(0,_.tZ)(se,{value:t,handleOnChange:a,hideClose:!0,errorMessage:n,ariaLabel:r})}function Re(e){var{value:t,handleOnChange:a,metaData:n,errorMessage:r,ariaLabel:i}=e;return(0,_.tZ)(x,{value:t,handleOnChange:a,metaData:n,errorMessage:r,ariaLabel:i})}var Ae=e=>"TICKET_LOG_ENTRY_TIME_TRACKER"===e?"number":"text";var Ze=(0,i.WAo)(((e,t)=>(0,i.qCK)((0,i.UID)((0,i.z6y)({value:(0,i.vgT)("id"),labelText:(0,i.vgT)("name")})),(0,i.hXT)((0,i.OH4)("type",e)))(t))),De=(0,h.memo)((e=>{var{query:t=[],onQueryChange:a,type:n,statusList:r,getValidations:i,tags:o,displayErrors:l,translationTokens:s,notificationChannels:d}=e,c=[{value:"add_tags",labelText:(0,u.localized)("Add tags")},{value:"set_tags",labelText:(0,u.localized)("Set tags")},{value:"remove_tags",labelText:(0,u.localized)("Remove tags")},{value:"ticket",labelText:(0,u.localized)("Update ticket")},{value:"add_cc_list",labelText:(0,u.localized)("Add CC")},{value:"set_cc_list",labelText:(0,u.localized)("Set CC")},{value:"ADD_TICKET_COMMENT",labelText:(0,u.localized)("Add comment")},{value:"TICKET_LOG_ENTRY_TIME_TRACKER",labelText:(0,u.localized)("Add time")},..."RESPONSE_TEMPLATE"===n?[]:[{value:"SEND_NOTIFICATION",labelText:(0,u.localized)("Send notification")},{value:"SEND_EMAIL",labelText:(0,u.localized)("Email (Manual)")},{value:"SEND_TEMPLATE_EMAIL",labelText:(0,u.localized)("Email (Template)")}]],p=["EVENT_BASED","RESPONSE_TEMPLATE","TIME_BASED"].includes(n)?["add_cc_list","set_cc_list","ADD_TICKET_COMMENT","TICKET_LOG_ENTRY_TIME_TRACKER"]:[];return(0,_.tZ)(v.ZP,{query:t,fields:{options:c,optionsMap:(0,u.arrayToMapWithKey)("value",c)},oneTimeFields:p,getOperators:we,getValues:function(e,t){switch(e){case"add_tags":case"remove_tags":case"set_tags":return(0,m.vw)(o);case"ticket":return function(e,t){switch(e){case"status":return(0,y.KQ)(t,{hideClose:!0});case"priority":return(0,f.h2)({labelKey:"labelText"});case"severity":return(0,f.tJ)({labelKey:"labelText"});case"type":return(0,f.MA)({labelKey:"labelText"});case"summary":return"";default:return[]}}(t,r);case"SEND_NOTIFICATION":return Ze(t,d);case"add_cc_list":case"set_cc_list":return[];default:return""}},getValueEditorType:function(e,t){switch(e){case"add_tags":case"set_tags":case"remove_tags":return Ie;case"SEND_EMAIL":return function(e){return function(t){var{value:a,values:n,handleOnChange:r,metaData:i,errorMessage:o,ariaLabel:l}=t;return(0,_.tZ)(P,{value:a,values:n,handleOnChange:r,metaData:i,showCurrentUserOption:"TIME_BASED"!==e,errorMessage:o,ariaLabel:l})}}(n);case"SEND_TEMPLATE_EMAIL":return function(e){return function(t){var{value:a,values:n,handleOnChange:r,metaData:i,errorMessage:o,ariaLabel:l}=t;return(0,_.tZ)(Se,{value:a,values:n,handleOnChange:r,metaData:i,showCurrentUserOption:"TIME_BASED"!==e,errorMessage:o,ariaLabel:l})}}(n);case"ADD_TICKET_COMMENT":return function(e){return function(t){var{value:a,handleOnChange:n,errorMessage:r,ariaLabel:i}=t;return(0,_.tZ)(G,{value:a,handleOnChange:n,withCurrentUserPlaceholders:"TIME_BASED"!==e,errorMessage:r,ariaLabel:i})}}(n);case"add_cc_list":case"set_cc_list":return Re;case"ticket":switch(t){case"organization":return _e;case"summary":return function(e){return function(t){var{value:a,handleOnChange:n,errorMessage:r,ariaLabel:i}=t;return(0,_.tZ)(V,{value:a,handleOnChange:n,errorMessage:r,ariaLabel:i,withCurrentUserPlaceholders:"TIME_BASED"!==e})}}(n);case"assignedAppUserId":case"additionalAssignedTechnicianId":return ke({valueSelectorKey:"id",userType:"TECHNICIAN"});case"requesterUid":return ke({valueSelectorKey:"uid"});case"status":return xe;default:return"select"}case"SEND_NOTIFICATION":return"select";case"TICKET_LOG_ENTRY_TIME_TRACKER":return"number";default:return"text"}},getInputType:Ae,onQueryChange:a,combinator:"actions",getValidations:i,displayErrors:l,translationTokens:s})}));const Ne=(0,g.$j)((e=>{var{ticketing:t}=e;return{statusList:t.status.list}}))(De);var Oe=a(94476),Me={removeRule:{labelToken:(0,u.localizationKey)("Remove action")},addRule:{labelToken:(0,u.localizationKey)("Add action")}},Le=e=>{var{isLoading:t,actions:a,onChange:n,type:r,getValidations:i,tags:o,fetchTags:l,isFormSubmitted:s,notificationChannels:d,validationMessage:u}=e;return(0,_.tZ)(Oe.u,{isLoading:t,children:(0,_.BX)(p.kC,{flexDirection:"column",height:"100%",justifyContent:"space-between",padding:"0 1px",children:[(0,_.tZ)(Ne,{query:a,onQueryChange:e=>(((e,t)=>e.some((e=>{var{field:a,value:n}=e;return["add_tags","set_tags","remove_tags"].includes(a)&&(null===n||void 0===n?void 0:n.some((e=>-1===t.findIndex((t=>t.name===e)))))})))(e,o)&&l({refreshTags:!0}),n("actions",e)),type:r,getValidations:i,tags:o,displayErrors:s,translationTokens:Me,notificationChannels:d||[]}),u&&s&&(0,_.tZ)(c.g7,{variant:"danger",children:u})]})})},Pe=(e,t)=>e.find((e=>{var{value:a}=e;return a===t})),ze=e=>["contains_any","contains_none"].includes(e);function Be(e){var{value:t,handleOnChange:a,errorMessage:n,ariaLabel:r}=e;return(0,_.tZ)($,{value:t,handleOnChange:a,errorMessage:n,ariaLabel:r})}function We(e){var{valueSelectorKey:t,...a}=e;return function(e){var{value:n,handleOnChange:r,metaData:i,errorMessage:o,ariaLabel:l}=e;return(0,_.tZ)(ee,{value:n,handleOnChange:r,metaData:i,valueSelectorKey:t,errorMessage:o,ariaLabel:l,...a})}}function Ue(e){var{value:t,handleOnChange:a,metaData:n,errorMessage:r,ariaLabel:i}=e;return(0,_.tZ)(re,{value:t,handleOnChange:a,metaData:n,errorMessage:r,ariaLabel:i})}function Fe(e){var{value:t,handleOnChange:a,metaData:n,errorMessage:r,ariaLabel:i}=e;return(0,_.tZ)(me,{value:t,handleOnChange:a,metaData:n,errorMessage:r,ariaLabel:i})}var Ke=(0,h.memo)((e=>{var{query:t,combinator:a,onQueryChange:n,type:r,statusList:i,attributes:o,fields:l,getValidations:s,formOptions:d,translationTokens:c,tags:p,displayErrors:h}=e;return(0,_.tZ)(v.ZP,{query:t,fields:l,getOperators:e=>{if((0,ie.Xb)(e))return(0,v.HQ)(["hours_since:less_or_equal_than","hours_since:greater_or_equal_than","hours_since:is"]);switch(e){case"status":return(0,v.HQ)(["equals","not_equals","parent_equals","parent_not_equals",..."EVENT_BASED"===r?["changed","changed_to"]:[]]);case"source":case"type":case"severity":case"priority":return(0,v.HQ)(["equals","not_equals",..."EVENT_BASED"===r?["changed","changed_to"]:[]]);case"summary":case"description":return(0,v.HQ)(["contains","does_not_contain","contains_any","contains_none"]);case"tags":case"organization":case"location":return(0,v.HQ)(["contains_any","contains_none","present","not_present"]);case"form":return(0,v.HQ)(["equals","not_equals","contains_any","contains_none"]);case"requester":case"assignee":return(0,v.HQ)(["present","not_present","equals","not_equals","contains_any","contains_none"]);case"additionalAssignedTechnicianIds":return(0,v.HQ)(["present","not_present","contains_any","contains_none"]);case"business_hours":return(0,v.HQ)(["in","not_in"]);case"action":return(0,v.HQ)(["equals","not_equals"]);case"commentType":return(0,v.HQ)(["equals"]);case"updated_by":return(0,v.HQ)(["contains_any"]);case"ticket_created":case"ticket_changed":case"assigned":case"customer":case"technician":return(0,v.HQ)(["hours_since:less_or_equal_than","hours_since:greater_or_equal_than","hours_since:is"]);default:var t=Pe(o,e);return t?(e=>{switch(e){case"MULTI_SELECT":return(0,v.HQ)(["present","not_present","contains_any","contains_none"]);case"DROPDOWN":case"CHECKBOX":return(0,v.HQ)(["present","not_present","equals","not_equals"]);case"TEXT":case"TEXT_MULTILINE":return(0,v.HQ)(["present","not_present","contains","does_not_contain","contains_any","contains_none"]);case"NUMERIC":case"DECIMAL":case"DATE":return(0,v.HQ)(["present","not_present","greater_than","less_than","greater_or_equal_than","less_or_equal_than"]);default:return null}})(t.type):null}},getValueEditorType:(e,t)=>{if((0,ie.Xb)(e))return Be;switch(e){case"assignee":case"additionalAssignedTechnicianIds":return We({valueSelectorKey:"id",userType:"TECHNICIAN",showCurrentUserOption:"TIME_BASED"!==r,isMulti:ze(t)});case"requester":return We({valueSelectorKey:"uid",showCurrentUserOption:"TIME_BASED"!==r,isMulti:ze(t)});case"status":return function(e){return function(t){var{value:a,handleOnChange:n,metaData:r,errorMessage:i,ariaLabel:o}=t;return(0,_.tZ)(se,{value:a,handleOnChange:n,parentOnly:["parent_equals","parent_not_equals"].includes(e),errorMessage:i,ariaLabel:o})}}(t);case"source":case"type":case"severity":case"priority":case"action":case"commentType":return"select";case"form":return function(e){var{formOptions:t,operator:a}=e,n=ze(a);return function(e){var{value:a,handleOnChange:r,metaData:i,errorMessage:o,ariaLabel:l}=e;return(0,_.tZ)(ge,{value:a,handleOnChange:r,metaData:i,formOptions:t,isMulti:n,errorMessage:o,ariaLabel:l})}}({formOptions:d,operator:t});case"tags":case"updated_by":return"multi-select";case"organization":return Ue;case"location":return Fe;case"business_hours":return()=>null;case"ticket_created":case"ticket_changed":case"assigned":case"customer":case"technician":return Be;default:var a=Pe(o,e);return a?(e=>{switch(e){case"MULTI_SELECT":return"multi-select";case"DROPDOWN":case"CHECKBOX":return"select";case"TEXT":case"TEXT_MULTILINE":default:return"text";case"NUMERIC":case"DECIMAL":return"number";case"DATE":return"date"}})(a.type):"text"}},getValues:(e,t)=>{switch(e){case"action":return[{value:"INSERT",labelText:(0,u.localized)("Ticket Created")},{value:"UPDATE",labelText:(0,u.localized)("Ticket Updated")}];case"tags":return(0,m.vw)(p);case"form":return d;case"type":return(0,f.MA)({labelKey:"labelText"});case"status":return(0,y.KQ)(i);case"source":return(0,f.Tf)({labelKey:"labelText"});case"severity":return(0,f.tJ)({labelKey:"labelText"});case"priority":return(0,f.h2)({labelKey:"labelText"});case"business_hours":return null;case"commentType":return(0,f.zn)({labelKey:"labelText"});case"updated_by":return(0,f.$J)({labelKey:"labelText"});default:var a=Pe(o,e);return a?(e=>{var t,{type:a,content:n}=e;switch(a){case"MULTI_SELECT":case"DROPDOWN":return null===n||void 0===n||null===(t=n.values)||void 0===t?void 0:t.map((e=>{var{id:t,name:a}=e;return{value:t,labelText:a}}));case"CHECKBOX":return[{value:"true",labelText:(0,u.localized)("True")},{value:"false",labelText:(0,u.localized)("False")}];default:return""}})(a):""}},combinator:a,onQueryChange:n,getInputType:e=>{var t=Pe(o,e);return t?(e=>{switch(e){case"NUMERIC":case"DECIMAL":return"number";case"DATE":return"date";default:return"text"}})(t.type):"text"},getValidations:s,resetOnFieldChange:!0,translationTokens:c,displayErrors:h})}));const He=(0,g.$j)((e=>{var{ticketing:t}=e;return{statusList:t.status.list}}))(Ke);var Ge={removeRule:{labelToken:(0,u.localizationKey)("Remove condition")},addRule:{labelToken:(0,u.localizationKey)("Add condition")}},je=e=>{var{isLoading:t,onQueryChange:a,conditions:n,attributes:r,fields:i,organizations:o,type:l,getValidations:s,formOptions:d,isFormSubmitted:u,tags:h,validationMessage:g}=e,{all:v,any:m}=n;return(0,_.tZ)(Oe.u,{isLoading:t,children:(0,_.BX)(p.kC,{flexDirection:"column",height:"100%",justifyContent:"space-between",padding:"0 1px",children:[(0,_.BX)(p.kC,{flexDirection:"column",gap:C.default.spacing[4],children:[(0,_.tZ)(He,{query:v,combinator:"all",onQueryChange:e=>a(e,"all"),attributes:r,fields:i.all,organizations:o,type:l,getValidations:s,formOptions:d,translationTokens:Ge,tags:h,displayErrors:u}),(0,_.tZ)(He,{query:m,combinator:"any",onQueryChange:e=>a(e,"any"),attributes:r,fields:i.any,organizations:o,type:l,getValidations:s,formOptions:d,translationTokens:Ge,tags:h,displayErrors:u})]}),g&&u&&(0,_.tZ)(c.g7,{variant:"danger",children:g})]})})},Ve=e=>{var{isLoading:t,values:a,validation:n,onChange:r,disabled:i,displayDisabled:o=!1,disabledTooltip:l}=e;return(0,_.BX)(Oe.u,{isLoading:t,children:[o&&(0,_.tZ)(p.xu,{marginBottom:C.default.spacing[2],children:(0,_.tZ)(c.rs,{tooltip:l,checked:!!a.enabled,onChange:e=>r("enabled",e),labelText:a.enabled?(0,u.localized)("Enabled"):(0,u.localized)("Disabled")})}),(0,_.tZ)(p.xu,{marginBottom:C.default.spacing[2],children:(0,_.tZ)(c.II,{labelText:(0,u.localized)("Name"),placeholder:(0,u.localized)("Enter name"),required:!0,errorMessage:n.message.name||"",value:a.name,onChange:e=>r("name",e.target.value),maxLength:50,disabled:i})}),(0,_.tZ)(p.xu,{marginBottom:C.default.spacing[2],children:(0,_.tZ)(c.Kx,{labelText:(0,u.localized)("Description"),placeholder:(0,u.localized)("Enter description"),value:a.description||"",onChange:e=>r("description",e.target.value),maxLength:250,resize:"none",disabled:i})})]})}},6945:(e,t,a)=>{a.d(t,{AI:()=>d,CK:()=>_,Fk:()=>D,G:()=>k,J3:()=>p,Ly:()=>b,M5:()=>s,Nh:()=>l,QK:()=>E,VN:()=>c,_t:()=>C,cw:()=>I,dg:()=>m,el:()=>Z,r0:()=>x});var n=a(58064),r=a(16041),i=a(6775),o=a(69716),l=function(){var{labelKey:e="label"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.sortByFieldNameCaseInsensitive)("label","ASC")([{value:"id",[e]:"ID"},{value:"priority",[e]:(0,i.localized)("Priority")},{value:"severity",[e]:(0,i.localized)("Severity")},{value:"description",[e]:(0,i.localized)("Description")},{value:"status",[e]:(0,i.localized)("Status")},{value:"requester",[e]:(0,i.localized)("Requester")},{value:"summary",[e]:(0,i.localized)("Subject")},{value:"organization",[e]:(0,i.localized)("Organization")},{value:"location",[e]:(0,i.localized)("Location")},{value:"type",[e]:(0,i.localized)("Type")},{value:"source",[e]:(0,i.localized)("Source")},{value:"createTime",[e]:(0,i.localized)("Create Time")},{value:"totalTimeTracked",[e]:(0,i.localized)("Total Time Tracked")},{value:"totalTimeTrackedDecimal",[e]:(0,i.localized)("Total Time Tracked Decimal")},{value:"assignedAppUser",[e]:(0,i.localized)("Primary assignee")},{value:"additionalAssignedTechnicians",[e]:(0,i.localized)("Additional Assignees")},{value:"solvedTime",[e]:(0,i.localized)("Solved Time")},{value:"ticketForm",[e]:(0,i.localized)("Ticket Form")},{value:"lastUpdatedTimeByAssignee",[e]:(0,i.localized)("Last Updated Time by Assignee")},{value:"lastUpdatedTimeByRequester",[e]:(0,i.localized)("Last Updated Time by Requester")},{value:"device",[e]:(0,i.localized)("Device")},{value:"lastUpdatedBy",[e]:(0,i.localized)("Last Updated By")},{value:"lastUpdated",[e]:(0,i.localized)("Last Updated")},...(0,i.isNinjaPSAEnabledFromSettings)()&&(0,i.isUserAllowedToUseNinjaPSAAdministrativeActions)()?[{value:"agreement",[e]:(0,i.localized)("Agreement")}]:[]])},s=e=>{var{all:t}=e;return t.some((e=>{var{operator:t}=e;return(0,i.contains)(["hours_since:greater_or_equal_than","hours_since:less_or_equal_than","hours_since:is"],t)}))},d=e=>{var{attributes:t}=e;return null!==t&&void 0!==t&&t.length?(0,n.qCK)((0,n.UID)((0,n.z6y)({value:(0,n.qCK)((0,n.zoF)("attribute:"),n.BBt,(0,n.vgT)("id")),labelText:(0,n.vgT)("name"),type:(0,n.vgT)("attributeType"),content:(0,n.vgT)("content"),groupName:(0,n.Bxt)((0,i.localized)("Fields"))})),i.rejectInactive)(t):[]},c=e=>{var{type:t,combinator:a,statusList:n,groupName:r}=e;return[...["BOARD","TIME_BASED"].includes(t)?"all"===a?[{value:"ticket_created",labelText:(0,i.localized)("Time since ticket created"),groupName:r},{value:"ticket_changed",labelText:(0,i.localized)("Time since ticket changed"),groupName:r},{value:"assigned",labelText:(0,i.localized)("Time since assigned"),groupName:r},{value:"customer",labelText:(0,i.localized)("Time since customer responded"),groupName:r},{value:"technician",labelText:(0,i.localized)("Time since technician responded"),groupName:r},...(n||[]).map((e=>{var t;return{value:null===(t=e.id)||void 0===t?void 0:t.toString(),labelText:(0,i.localized)("Time since {{status}}",{status:e.displayName.toLocaleLowerCase()}),groupName:r}}))]:[]:[{value:"action",labelText:(0,i.localized)("Action"),groupName:r}],..."all"===a&&"BOARD"!==t?[{value:"business_hours",labelText:(0,i.localized)("Business hours"),groupName:r}]:[],{value:"type",labelText:(0,i.localized)("Type"),groupName:r},{value:"status",labelText:(0,i.localized)("Status"),groupName:r},{value:"source",labelText:(0,i.localized)("Source"),groupName:r},{value:"severity",labelText:(0,i.localized)("Severity"),groupName:r},{value:"priority",labelText:(0,i.localized)("Priority"),groupName:r},{value:"summary",labelText:(0,i.localized)("Subject"),groupName:r},{value:"description",labelText:(0,i.localized)("Description"),groupName:r},{value:"organization",labelText:(0,i.localized)("Organization"),groupName:r},{value:"requester",labelText:(0,i.localized)("Requester"),groupName:r},{value:"assignee",labelText:(0,i.localized)("Primary assignee"),groupName:r},{value:"additionalAssignedTechnicianIds",labelText:(0,i.localized)("Additional assignees"),groupName:r},{value:"tags",labelText:(0,i.localized)("Tags"),groupName:r},...["EVENT_BASED","TIME_BASED","BOARD"].includes(t)?[{value:"form",labelText:(0,i.localized)("Form"),groupName:r},{value:"location",labelText:(0,i.localized)("Location"),groupName:r}]:[],..."EVENT_BASED"===t?[{value:"commentType",labelText:(0,i.localized)("Comment type"),groupName:r},{value:"updated_by",labelText:(0,i.localized)("Updated by"),groupName:r}]:[]]},u=()=>({success:!0}),p=99999,h=()=>(0,i.localized)("Required"),g={getWrongValue:()=>(0,i.localized)("Values must be 0, 15, 30 or 45")},v={getWrongValue:()=>(0,i.localized)("Value must be an integer between {{min}} and {{max}}",{min:0,max:p})},m=e=>{var t={hours:!1,minutes:!1};if(!e)return t;var a=(e=>e===h())(e);return t.hours=a||(e=>e===v.getWrongValue())(e),t.minutes=a||(e=>e===g.getWrongValue())(e),t};function f(e,t){var a={success:!1,message:h()};if(!e)return a;var[r,o]=e.split(":"),l=(0,i.parseNumber)(r);return l+(0,i.parseNumber)(o)===0?a:(0,n.lt)(l,0)||(0,n.gt)(l,p)||!(0,i.isWholeNumber)(r)?{success:!1,message:v.getWrongValue()}:["0","15","30","45"].includes(o)?{success:!0}:{success:!1,message:g.getWrongValue()}}function y(e){var t=(0,i.parseNumber)(e),a=i.validations.required(t),o=!(0,i.isPositiveInteger)(t)&&(0,i.localized)("Value must be a positive integer"),l=!(0,n.GaM)(t,r.P6)&&"".concat((0,i.localized)("Value must be less than or equal to")," ").concat(r.P6);return{success:a.success&&!o&&!l,message:a.message||o||l}}var b=e=>{var{value:t,isMulti:a,valuesMap:r,idKey:o="id",labelKey:l="name",valueMapper:s}=e;if((0,i.isNilOrEmptyOrBlank)(t))return a?[]:null;var d=String(t).split(","),c=(0,n.UID)((e=>{var t=r[e],a=t||{[o]:e,[l]:(0,i.localized)("N/A")};return s?s(a):a}),d);return a?c:c[0]},T=e=>{var{metaData:t,errorMessage:a,metadataIdKey:r="id",checkWrongValue:o,valueToArrayConverter:l}=e,s=(0,i.getAsArray)(t),d=(0,i.arrayToMapWithKey)(r,s);return e=>{var t=(e=>{var{value:t,valueToArrayConverter:a}=e;if(a)return a(t);var r=(0,i.isNilOrEmptyOrBlank)(t)?null:"".concat(t);return(0,n.hXT)((e=>!!e),(null===r||void 0===r?void 0:r.split(","))||[])})({value:e,valueToArrayConverter:l});return t.length?t.some((e=>o(d[e])))?{success:!1,message:a}:{success:!0}:i.validations.required("")}},C=e=>{var{options:t,metaData:a,metaDataMapper:n,idKey:r="id"}=e,o=n?(0,i.getAsArray)(a).map(n):(0,i.getAsArray)(a);return(0,i.arrayToMapWithKey)(r,[...t||[],...o])},E=e=>{var{metaData:t,metadataIdKey:a,valueToArrayConverter:n}=e;return T({metaData:t,metadataIdKey:a,checkWrongValue:e=>!0===(null===e||void 0===e?void 0:e.deleted),errorMessage:(0,i.localized)("Must not contain deleted users"),valueToArrayConverter:n})},S=e=>{var{metaData:t,valueToArrayConverter:a}=e;return T({metaData:t,checkWrongValue:e=>!0===(null===e||void 0===e?void 0:e.deleted),errorMessage:(0,i.localized)("Must not contain deleted organizations"),valueToArrayConverter:a})},w=e=>{var t=i.validations.required(e);if(!t.success)return t;var a=999999999,n=(0,i.isValidNumber)(e)&&(0,i.isIntegerWithinRange)(e,1,a);return{success:n,message:n?"":(0,i.localized)("Value must be an integer between {{min}} and {{max}}",{min:1,max:a})}},I=e=>{var{objectList:t,idKey:a="uid"}=e;return(0,n.u4g)(((e,t)=>{var n=t[a];return n&&e.push(n),e}),[],t||[])},k=e=>(t,a,n)=>{if((0,o.Xb)(t))return f;switch(t){case"ticket_created":case"ticket_changed":case"assigned":case"customer":case"technician":return f;case"organization":case"requester":case"assignee":case"additionalAssignedTechnicianIds":case"tags":case"form":case"location":if(["present","not_present"].includes(a))return u;if(["requester","assignee"].includes(t)){var r="assignee"===t?"id":"uid";return E({metaData:n,metadataIdKey:r,valueToArrayConverter:e=>I({objectList:(0,i.getAsArray)(e),idKey:r})})}return"form"===t?T({metaData:n,checkWrongValue:e=>!1===(null===e||void 0===e?void 0:e.active),errorMessage:(0,i.localized)("Must not contain inactive forms")}):"location"===t?T({metaData:n,checkWrongValue:e=>!0===(null===e||void 0===e?void 0:e.deleted),errorMessage:(0,i.localized)("Must not contain deleted locations"),valueToArrayConverter:e=>I({objectList:(0,i.getAsArray)(e),idKey:"id"})}):"organization"===t?S({metaData:n,valueToArrayConverter:e=>I({objectList:(0,i.getAsArray)(e),idKey:"id"})}):i.validations.required;case"business_hours":return u;case"type":case"status":case"source":case"severity":case"priority":return"changed"===a?u:i.validations.required;case"ticket":if(["requesterUid","assignedAppUserId","additionalAssignedTechnicianId"].includes(a)){var l=["assignedAppUserId","additionalAssignedTechnicianId"].includes(a)?"id":"uid";return E({metaData:n,metadataIdKey:l,valueToArrayConverter:e=>I({objectList:(0,i.getAsArray)(e),idKey:l})})}return"organization"===a?S({metaData:n,valueToArrayConverter:e=>I({objectList:(0,i.getAsArray)(e),idKey:"id"})}):i.validations.required;case"SEND_EMAIL":return E({metadataIdKey:"uid",metaData:null===n||void 0===n?void 0:n.toUsers,valueToArrayConverter:e=>{if((0,i.isNilOrEmpty)(e))return[];var{uids:t=[],keys:a=[],emails:n=[]}=e;return I({objectList:[...t,...a,...n]})}});case"add_cc_list":case"set_cc_list":return E({metaData:null===n||void 0===n?void 0:n.users,metadataIdKey:"uid",valueToArrayConverter:e=>I({objectList:e})});case"TICKET_LOG_ENTRY_TIME_TRACKER":return w;default:var s=((e,t)=>e.find((e=>{var{value:a}=e;return a===t})))(e,t);return s?((e,t)=>["present","not_present"].includes(t)?u:"NUMERIC"===e?y:i.validations.required)(s.type,a):i.validations.required}},_=e=>{var{getValidations:t,field:a,operator:n,metaData:r}=e;if(t){var o=t(a,n,r);if(o)return o}return i.validations.required},x=e=>{var{list:t,getValidations:a}=e;return(t||[]).map((e=>{if(e.validation)return e;var{field:t,operator:n,metaData:r,value:i}=e;return{...e,touched:!0,validation:_({getValidations:a,field:t,operator:n,metaData:r})(i)}}))},R=(0,n.qCK)(n.kKJ,(0,n.sEJ)((0,n.qCK)((0,n.KJl)((0,n.e$l)("success"),(0,n.OH4)("success",!1),(0,n.Bxt)(void 0)),(0,n.vgT)("validation"))),(0,n.yAE)([])),A=(0,n.qCK)(n.xHg,n.VO0),Z=R,D=e=>R(A(e))},44676:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(4519),r=a(50176),i=a(8456),o=a(6775),l=a(75493),s=a(58064),d=a(39055),c=a(74657);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return((e,t)=>{if(!e.includes("@user:"))return e;var a=(0,o.arrayToMapWithKey)("id",t);return(0,s.qCK)((0,s.u4g)(((e,t)=>{if(t.startsWith("@user:")){var n=parseInt(t.split(":")[1],10),r=a[n];e+=" ".concat(r?(0,d.Y)(r):t)}else e+=" ".concat(t);return e}),""),(0,s.Vl2)(" "))(e)})((new DOMParser).parseFromString(e,"text/html").documentElement.textContent,t)}function p(e){var{user:t,publicEntry:a,showPublicStatus:n,createTime:r,system:i}=e,l=(0,o.localizationKey)("{{status}} {{source}} on {{timeStamp}}"),s=(0,o.localizationKey)("{{source}} on {{timeStamp}}"),d=n&&(!i||!!t),u=(0,c.XW)({system:i,user:t});return(0,o.localized)(d?l:s,{source:i&&!t?(0,o.localized)("By the {{userName}}",{userName:u}):u,timeStamp:(0,o.dateTime)(new Date(r)),...d&&{status:a?(0,o.localized)("Public Comment by"):(0,o.localized)("Private Note by")}})}var h=a(77537);const g=(0,n.memo)((function(e){var{createTime:t,user:a,body:s,showPublicStatus:d,titleToken:c,techniciansTaggedMetadata:g,textWrapLineLimit:v,showMetadata:m=!1,system:f,public:y}=e,b=(0,n.useMemo)((()=>u(s,g)),[s,g]);return(0,h.BX)(l.kC,{width:"100%",marginTop:i.default.spacing[4],flexDirection:"column",overflow:"hidden",children:[(0,h.tZ)(l.kC,{justifyContent:"space-between",width:"100%",children:(0,h.BX)(l.xu,{display:"grid",gridTemplateRows:"auto auto",children:[(0,h.tZ)(r.X6,{type:"headingXs",fontWeight:i.typography.fontWeight.semiBold,level:2,children:(0,o.localized)(c)}),m&&(0,h.tZ)(r.uT,{color:"colorTextWeakest",marginTop:i.default.spacing[2],children:p({user:a,publicEntry:y,showPublicStatus:d,createTime:t,system:f})})]})}),(0,h.tZ)(l.xu,{width:"100%",marginTop:i.default.spacing[1],children:(0,h.tZ)(r.uT,{textWrapLineLimit:v,textWrap:!0,children:b})})]})}))},20498:(e,t,a)=>{a.d(t,{Q:()=>l,Z:()=>s});var n=a(4519),r=a(75493),i=a(8326),o=a(77537);function l(e){var{priority:t,severity:a}=e;return"CRITICAL"===a&&"HIGH"===t}const s=(0,n.memo)((e=>(0,o.tZ)(r.xu,{display:"flex",alignItems:"center",justifyContent:"center",...e,children:(0,o.tZ)(r.ny,{fontSize:4,icon:i.WV2,className:"danger"})})))},41632:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(4519),r=a(58064),i=a(37844),o=a(6775),l=a(34928),s=a(24331),d=a(75493),c=a(79343),u=a(77537),p=e=>{var{isNew:t}=e;return t},h=(0,r.UID)((e=>({value:e,name:e}))),g=(0,r.UID)((0,r.CEd)("isNew")),v=e=>{var{selected:t,onChange:a,disableEditor:n,onFocus:v,ariaAttributes:m,ariaInputAttributes:f}=e,y=(0,c.H)(t),b=h(t);return(0,u.tZ)(s.Z,{endpoint:"/ticketing/tags",pageSize:50,searchParams:e=>{var{query:t}=e;return{sortDirection:"ASC",...t&&{searchCriteria:t}}},lastItemKey:"name",getAnchorNaturalId:e=>{var{anchorNaturalId:t}=e;return{anchorName:t}},responseParser:e=>e.map((e=>({value:e.name,...e}))),searchableKey:"name",value:b,width:"100%",isMulti:!0,isCreatable:!0,placeholderToken:(0,l.eWj)("Tags"),onSelect:async e=>{var t=(0,r.sEJ)(p,e||[]);if(t){var n=y(t.value);if(n)return n.forEach((e=>{(0,o.showErrorMessage)(e)}));try{await(0,i.lnY)(t.value)}catch(s){return(0,o.reportErrorAndShowMessage)(s,(0,l.eWj)("Error creating tag"))}}a(t?g(e):e)},openOnFocus:!0,shouldCreate:e=>{var t=y(e);return t&&t.forEach((e=>{(0,o.showErrorMessage)(e)})),!t},keepDropdownInView:!0,disabled:n,rowRenderer:e=>(0,u.tZ)(d.xu,{overflow:"hidden",children:(0,u.tZ)("p",{className:"no-margin text-ellipsis line-height-initial",children:e.name})}),ariaAttributes:m,ariaInputAttributes:f})};v.defaultProps={onChange:()=>{}};const m=(0,n.memo)(v)},34192:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(4519),r=a(58064),i=a(55460),o=a(69716),l=a(75493),s=a(77537),d=(0,r.wVM)([[e=>{var{isTile:t}=e;return t},(0,r.Bxt)(null)],[e=>{var{shortHand:t}=e;return t},(0,r.qCK)(o.l4,(0,r.vgT)("displayName"))],[r.T,(0,r.vgT)("displayName")]]),c=e=>{switch(e){case o.S2.NEW:case o.S2.OPEN:case o.S2.WAITING:case o.S2.PAUSED:case o.S2.RESOLVED:return{backgroundColor:(0,o._M)(e)};case o.S2.CLOSED:return{backgroundColor:(0,o._M)(e),border:"2px solid",borderColor:"ninjaLight",color:"ninjaDark"};default:throw new Error("Invalid status: ".concat(e))}};const u=(0,n.memo)((e=>{var{status:t,shortHand:a=!0,isTile:n=!1,...r}=e,u=a&&!n?(0,i.Oy)(7):(0,i.Oy)(n?2:30),p=[0,n?0:1],{statusId:h,displayName:g}=t,v=(0,o.S3)(h);return(0,s.tZ)(l.xu,{display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",height:(0,i.Oy)(7),width:u,minWidth:u,lineHeight:(0,i.Oy)(7),padding:a?p:[0,2],...c(v),...r,children:d({shortHand:a,isTile:n,displayName:g})})}))},50326:(e,t,a)=>{a.d(t,{R:()=>l});var n=a(39434),r=a(95970),i=[n.Fh,e=>{var t=document.createElement("table"),a=e._config.theme.table;return a&&(t.className=a),t.style="border-collapse: collapse; border-spacing: 0;",{element:t}}],o=[r.HJ,(e,t)=>{var a=document.createElement("img");return a.setAttribute("data-cid",t.__cid),a.setAttribute("src",t.getSrc()),a.setAttribute("width",t.getWidth().toString()),a.setAttribute("height",t.getHeight().toString()),a.setAttribute("max-width","100%"),{element:a}}],l=new Map([i,o])},90959:(e,t,a)=>{a.d(t,{Tc:()=>c,bN:()=>d,rH:()=>s});var n=a(78374),r=a(95970),i=a(6775),o=a(37123),l=e=>{var t=e.getAttribute("width"),a=e.getAttribute("height");return{width:+t||t,height:+a||a}},s=e=>{var{attachments:t}=e;return e=>{var a,r=null===(a=e.getAttribute("src"))||void 0===a?void 0:a.split(":"),i=null===r||void 0===r?void 0:r[1],s=t.find((e=>{var t;return(null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.contentId)===i}));if(!s)return null;var d=(0,o.MN)({cid:i,attachment:s,...l(e)});return{conversion:()=>({node:d}),priority:n.jw}}},d=e=>{var{attachments:t,importImagesFromMemory:a,showStatus:i}=e;return e=>{var s,d=e.getAttribute("src");if(a){var c=e.getAttribute("data-cid");s=(0,r.HB)({cid:c,src:d,...l(e)})}else{var u=null===d||void 0===d?void 0:d.split(":"),p=null===u||void 0===u?void 0:u[1],h=t.find((e=>{var t;return(null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.contentId)===p}));if(!h)return null;var g=h.uploadStatus;s=i&&["PROCESSING","FAILURE","SUSPICIOUS"].includes(g)?(0,o.cq)({cid:p,src:h.metadata.__src,...l(e),status:g}):(0,r.HB)({cid:p,src:h.metadata.__src,...l(e)})}return{conversion:()=>({node:s}),priority:n.jw}}},c=e=>{var{initialMentionData:t}=e;return e=>{if(e.hasAttribute("data-lexical-mention")||e.classList.contains("technician-tagged")){if((0,i.isNilOrEmpty)(t))return null;var a=e.textContent.split(":").pop(),r=t.find((e=>Number(e.id)===Number(a)));if(r){var l=(0,o.D2)(r.id,r.displayName,r);return{conversion:e=>({node:l}),priority:n.jw}}}return null}}},70110:(e,t,a)=>{a.d(t,{MN:()=>C,it:()=>T});var n=a(4519),r=a(78374),i=a(95970),o=a(41554),l=a(58064),s=a(50176),d=a(37844),c=a(48548),u=a(6775),p=a(59833),h=a(37096),g=a(15064),v=a(77537);var m=(0,o.Z)("span",{target:"ed1jcon0"})({name:"1sli5au",styles:"img{&:hover{cursor:pointer!important;}}"});function f(e){var{width:t,height:a}=e;return{width:(0,l.is)(Number,t)?"".concat(t,"px"):"200px",height:(0,l.is)(Number,a)?"".concat(a,"px"):"100px"}}var y=e=>{var t,a,r,{attachment:o,src:l}=e,[y,b]=(0,c.DJ)(null===e||void 0===e||null===(t=e.attachment)||void 0===t?void 0:t.uploadStatus),[T,C]=(0,c.DJ)(l),[E,S]=(0,n.useState)(!!o),w=(0,n.useCallback)((async()=>{if(null!==o&&void 0!==o&&o.id)try{var{signedUrl:e}=await(0,d.jKd)(o.id);C(e)}catch(t){(0,u.reportErrorAndShowMessage)(t,(0,u.localizationKey)("Failed to load inline image"))}finally{S(!1)}}),[o,C,S]);(0,n.useEffect)((()=>{"PROCESSING"!==y&&o&&E&&w()}),[o,E,w,y]),(0,n.useEffect)((()=>{var e=o&&u.PubSub.subscribe("ATTACHMENT_".concat(o.id),((e,t)=>{var{uploadStatus:a}=t;b(a)}));return()=>e&&u.PubSub.unsubscribe(e)}),[o,b]);var I=(0,n.useCallback)((async()=>{try{var e,{signedUrl:t}=await(0,d.jKd)(null===o||void 0===o?void 0:o.id);(0,u.downloadFile)(t,null===o||void 0===o||null===(e=o.metadata)||void 0===e?void 0:e.name)}catch(a){(0,u.reportErrorAndShowMessage)(a,(0,u.localizationKey)("Error while downloading image."))}}),[null===o||void 0===o||null===(a=o.metadata)||void 0===a?void 0:a.name,null===o||void 0===o?void 0:o.id]),k=(0,n.useCallback)((()=>{var e;(0,g.Z)((0,v.tZ)(h.e,{onDownload:I,attachmentId:null===o||void 0===o?void 0:o.id,titleText:null===o||void 0===o||null===(e=o.metadata)||void 0===e?void 0:e.name}))}),[I,null===o||void 0===o?void 0:o.id,null===o||void 0===o||null===(r=o.metadata)||void 0===r?void 0:r.name]);return"PROCESSING"===y?(0,v.tZ)(p.P,{attachment:o}):E?(0,v.tZ)(s.Od,{...f(e)}):(0,v.tZ)(m,{onClick:k,children:(0,v.tZ)(i.cu,{...e,src:T})})};function b(e){var t=e;if(t.src.startsWith("file:///"))return null;var{src:a,width:n,height:r}=t;return{node:C({height:r,src:a,width:n})}}class T extends i.HJ{constructor(e,t,a,n,r,i,o){super(e,t,a,n,r,o),this.__cid=e,this.__src=t,this.__maxWidth=a,this.__width=n||"inherit",this.__height=r||"inherit",this.__attachment=i}static getType(){return"ticketing-image"}static clone(e){return new T(e.__cid,e.__src,e.__maxWidth,e.__width,e.__height,e.__attachment,e.__key)}static importJSON(e){var{height:t,width:a,maxWidth:n,src:r,cid:i,attachment:o}=e;return C({cid:i,height:t,maxWidth:n,src:r,width:a,attachment:o})}exportDOM(){var e=document.createElement("img");return e.setAttribute("data-cid",this.__cid),e.setAttribute("src",this.getSrc()),e.setAttribute("width",this.getWidth().toString()),e.setAttribute("height",this.getHeight().toString()),{element:e}}static importDOM(){return{img:e=>({conversion:b,priority:0})}}exportJSON(){return{src:this.getSrc(),cid:this.__cid,attachment:this.__attachment,maxWidth:this.__maxWidth,height:"inherit"===this.getHeight()?0:this.getHeight(),width:"inherit"===this.getWidth()?0:this.getWidth(),type:"ticketing-image",version:1}}setWidthAndHeight(e,t){var a=this.getWritable();a.__width=e,a.__height=t}getWidth(){return this.getLatest().__width}getHeight(){return this.getLatest().__height}createDOM(e){var t=document.createElement("span"),a=e.theme.image;return a&&(t.className=a),t}updateDOM(){return!1}getSrc(){return this.__src}getCid(){return this.__cid}decorate(){return(0,v.tZ)(n.Suspense,{fallback:null,children:(0,v.tZ)(y,{cid:this.__cid,maxWidth:this.__maxWidth,nodeKey:this.getKey(),src:this.getSrc(),width:this.getWidth(),height:"auto",resizable:!0,attachment:this.__attachment})})}}function C(e){var{key:t,cid:a,src:n,height:i,width:o,maxWidth:l="100%",attachment:s}=e;return(0,r.U2)(new T(a,n,l,o,i,s,t))}},67894:(e,t,a)=>{a.d(t,{D2:()=>E,a8:()=>C});var n=a(78374),r=a(41554),i=a(4519),o=a(75100),l=a(67009),s=a(55460),d=a(50176),c=a(75493),u=a(6775),p=a(58064),h=(0,p.wEe)((0,p.vgT)("name"),(0,p.vgT)("displayName")),g=()=>(0,u.localized)("User not Found");function v(e){var t=e?"".concat(h(e)," - ").concat(e.email):g();return null!==e&&void 0!==e&&e.deleted?"".concat(t," (").concat((0,u.localized)("Technician deleted"),")"):!1===(null===e||void 0===e?void 0:e.permitted)?"".concat(t," (").concat((0,u.localized)("Technician not allowed to view ticket"),")"):t}var m=a(77537),f=(0,r.Z)("span",{target:"e1nz2n6v0"})("color:",(e=>{var{theme:t}=e;return t.color.text}),";background-color:",(e=>{var{theme:t,isCurrentUser:a}=e;return a?t.color.yellow:t.color.lightGray}),";padding:",(0,s.Oy)(.5,1),";border-radius:",(0,s.Oy)(1),";text-decoration:none;&:hover{background-color:",(e=>{var{theme:t,isCurrentUser:a}=e;return a?t.color.yellow:t.color.gray}),";}"),y=e=>{var{mention:t}=e,a=(0,o.oR)(),n=(0,i.useMemo)((()=>a.getState().session.user),[a]),r=(0,i.useMemo)((()=>(null===n||void 0===n?void 0:n.id)===(null===t||void 0===t?void 0:t.id)),[n,t]);return(0,m.tZ)("span",{"data-cy":"mention-".concat((null===t||void 0===t?void 0:t.id)||"not-found"),contentEditable:!1,children:(0,m.tZ)(d.u,{label:v(t),children:(0,m.BX)(f,{isCurrentUser:r,children:["@",t?h(t):g(),(null===t||void 0===t?void 0:t.deleted)&&(0,m.tZ)(c.xu,{as:"span",paddingLeft:(0,s.Oy)(1),children:(0,m.tZ)(l.UserXMarkIcon,{size:"xs"})}),!1===(null===t||void 0===t?void 0:t.permitted)&&(0,m.tZ)(c.xu,{as:"span",paddingLeft:(0,s.Oy)(1),children:(0,m.tZ)(l.UserSlashIcon,{size:"xs"})})]})})})},b=a(95970);function T(e){var t=e.textContent;return null!==t?{node:E(null,t)}:null}class C extends b.AV{static getType(){return"ticketing-mention"}static clone(e){return new C(e.__id,e.__label,e.__metadata,e.__key)}constructor(e,t,a,n){super(e,t,a,n),this.__id=e,this.__label=t,this.__metadata=a}exportJSON(){return{...super.exportJSON(),id:this.__id,label:this.__label,metadata:this.__metadata,type:"ticketing-mention",version:1}}static importJSON(e){return E(e.id,e.label,e.metadata)}createDOM(e){var t=document.createElement("span");return t.className="mention",t}exportDOM(){var e=document.createElement("span");return e.setAttribute("data-lexical-mention","true"),e.textContent="@user:".concat(this.__id),e.className="technician-tagged",{element:e}}updateDOM(){return!1}static importDOM(){return{span:e=>e.hasAttribute("data-lexical-mention")||e.classList.contains("technician-tagged")?{conversion:T,priority:1}:null}}getTextContent(){return this.__label}decorate(){var e,t,a,n=this.__id?{id:this.__id,displayName:this.__label,email:null===(e=this.__metadata)||void 0===e?void 0:e.email,deleted:null===(t=this.__metadata)||void 0===t?void 0:t.deleted,permitted:null===(a=this.__metadata)||void 0===a?void 0:a.permitted}:null;return(0,m.tZ)(y,{mention:n})}}function E(e,t,a){var r=new C(e,t,a);return(0,n.U2)(r)}},34082:(e,t,a)=>{a.d(t,{J:()=>r});var n=a(78374);class r extends n.CK{static getType(){return"ticketing-paragraph"}static clone(e){return new r(e.__key)}static importDOM(){var e=n.CK.importDOM();return{...e,p:()=>{return{conversion:(t=null===e||void 0===e?void 0:e.p,e=>{var a=null===t||void 0===t?void 0:t(e);if(!a)return null;var n=a.conversion(e);if(!n)return n;if(e.style){var r=parseInt(e.style.paddingLeft,10)/20;r>0&&n.node.setIndent(r)}return n}),priority:1};var t}}}static importJSON(e){return n.CK.importJSON(e)}exportJSON(){return{...super.exportJSON(),type:r.getType(),version:1}}}},33870:(e,t,a)=>{a.d(t,{v:()=>d});var n=a(4519),r=a(78374),i=a(91386),o=a.n(i),l=a(1244),s=a(23923),d=e=>{var{onAddImage:t}=e,[a]=(0,l.g)();return(0,n.useEffect)((()=>(a.dispatchCommand(s.sJ,!0),a.registerCommand(s.K5,(e=>(a.update((()=>{var t=(0,r.dL)();t&&t.insertText('<img src="cid:'.concat(e.cid,'" />'))})),null===t||void 0===t||t(e),!0)),r.KB))),[a,t]),null};d.propTypes={onAddImage:o().func}},69681:(e,t,a)=>{a.d(t,{NR:()=>s,P3:()=>l,Q1:()=>d,w7:()=>c});var n=a(41554),r=a(8456),i=a(95970);var o=e=>!["noBorder","noPadding","errorMessage","fullWidth","isPublicResponse"].includes(e),l=(0,n.Z)("div",{target:"e1nj16ie3"})({name:"94120r",styles:"position:relative;overflow-x:auto;code{white-space:unset;}.editor-table{min-width:100%;}"}),s=(0,n.Z)(i.Dm,{shouldForwardProp:o,target:"e1nj16ie2"})("border:",(e=>{var{theme:t,noBorder:a,errorMessage:n}=e;return a?0:"1px solid ".concat(n?t.colorBorderError:t.colorBorderWeakest)}),";width:",(e=>{var{fullWidth:t}=e;return t?"100%":"auto"}),";#editor-input{max-height:450px;}.editor-table{min-width:100%;}"),d=(0,n.Z)(i.f$,{shouldForwardProp:o,target:"e1nj16ie1"})("padding:",(e=>{var{noPadding:t}=e;return t?0:"".concat(r.default.spacing[2]," ").concat(r.default.spacing[4]," ").concat(r.default.spacing[9])}),";background-color:unset;"),c=(0,n.Z)(i.Em,{target:"e1nj16ie0"})("background-color:",(e=>{var{isPublicResponse:t,theme:a}=e;return!1===t?a.colorAlertWarningWeakest:a.colorBackground}),";")},6931:(e,t,a)=>{a.d(t,{s:()=>w});var n=a(55460),r=a(75493),i=a(41554),o=a(4519),l=a(8326),s=a(58064),d=a(60036),c=a(6775),u=a(12411),p=a(71936),h=a(65084),g=a(89677),v=a(37844),m=a(34928),f=a(77537),y=(0,i.Z)(r.xu,{target:"ehm7ri40"})("width:100%;height:100px;border:1px solid ",u.colors.ninjaLight,";display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:",(e=>{var{opacity:t}=e;return t}),";position:relative;overflow:hidden;.icon-button{display:none;}&:hover{.icon-button{display:flex;}}"),b=(0,o.memo)((e=>{var{name:t,size:a,extension:n}=e;return(0,f.BX)(r.xu,{padding:1,display:"flex",flexDirection:"column",flex:1,justifyContent:"center",alignItems:"center",width:"100%",overflow:"hidden",children:[(0,f.tZ)(r.xu,{children:(0,f.tZ)(r.ny,{...(0,c.getIconProps)(n,"20px")})}),(0,f.tZ)(r.xu,{className:"text-ellipsis",marginTop:2,children:(0,f.tZ)(p.Z,{output:t,children:(0,f.tZ)(d.ar,{fontWeight:"bold",display:"inline",children:t})})}),(0,f.tZ)(r.xu,{display:"flex",children:(0,f.tZ)(d.ar,{color:"ninjaMedium",children:"".concat(null===n||void 0===n?void 0:n.toUpperCase()," - ").concat(a)})})]})})),T=(0,o.memo)((e=>{var{attachmentId:t,contentId:a,uploadStatus:n,tempUri:r,mimeType:i,size:o,name:l,extension:d}=e;return(0,s.wVM)([[(0,c.contains)(c.IMAGE_EXTENSIONS),(0,s.Bxt)((0,f.tZ)(h.vo,{key:Date.now(),maxHeight:100,uploadStatus:n,attachmentId:t,contentId:a,tempUri:r}))],[(0,c.contains)((0,s.xHg)([c.WORD_EXTENSIONS,c.EXCEL_EXTENSIONS,c.POWER_POINT_EXTENSIONS,c.VISIO_EXTENSIONS,c.WEB_EXTENSIONS,c.COMPRESSED_FILE_EXTENSIONS,c.MISCELLANEOUS_EXTENSIONS])),(0,s.Bxt)((0,f.tZ)(b,{mimeType:i,size:o,name:l,extension:d}))],[s.T,null]])(d.toLowerCase())})),C=e=>{var{icon:t,token:a=(0,m.eWj)("There was an error while uploading the attachment")}=e;return(0,f.tZ)(p.Z,{output:(0,c.localized)(a),children:(0,f.tZ)(r.ny,{fontSize:7,icon:t,marginRight:1,color:"ninjaRed"})})},E=(0,s.wVM)([[e=>{var{uploadStatus:t}=e;return(0,s.fS0)(t,"PROCESSING")},(0,s.Bxt)((0,f.tZ)(g.Z,{noText:!0}))],[e=>{var{uploadStatus:t}=e;return(0,s.fS0)(t,"FAILURE")},(0,s.Bxt)((0,f.tZ)(C,{icon:l.sqG}))],[e=>{var{uploadStatus:t}=e;return(0,s.fS0)(t,"SUSPICIOUS")},(0,s.Bxt)((0,f.tZ)(C,{icon:l.FGB,token:(0,m.eWj)("This attachment has been flagged as suspicious")}))],[s.T,e=>(0,f.tZ)(T,{...e})]]),S=(0,o.memo)((e=>{var{attachment:t,onDelete:a,download:n,...i}=e,{id:o,contentId:u,tempUri:p,progress:h,metadata:g,uploadStatus:m}=t,{mimeType:b,size:T,name:C,extension:S}=g,w=h<100;return(0,s.q9t)(".".concat(S),c.ATTACHMENT_FILE_EXTENSIONS)?(0,f.BX)(y,{opacity:w?.5:1,backgroundColor:"white",...i,children:[w&&(0,f.tZ)(r.xu,{top:0,left:0,height:5,right:"".concat(100-h,"%"),backgroundColor:"ninjaGreen",position:"absolute"}),(0,f.BX)(r.xu,{top:5,right:5,className:"icon-button",position:"absolute",children:[!w&&!!n&&"SUCCESS"===m&&(0,f.tZ)(d.Sn,{width:20,height:20,padding:2,borderWidth:"1px",borderStyle:"solid",borderColor:"ninjaLight",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"ninjaWhite",onClick:async e=>{e.preventDefault(),e.stopPropagation();try{var{signedUrl:t}=u?await(0,v.sPn)(u):await(0,v.jKd)(o);(0,c.downloadFile)(t,C)}catch(a){(0,c.reportErrorAndShowMessage)(a)}},children:(0,f.tZ)(r.ny,{size:"sm",icon:l.q7m})}),!w&&!!a&&(0,f.tZ)(d.Sn,{width:20,height:20,padding:2,marginLeft:1,borderWidth:"1px",borderStyle:"solid",borderColor:"ninjaLight",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"ninjaWhite",hoverTextColor:"ninjaRed",onClick:e=>{e.preventDefault(),e.stopPropagation(),null===a||void 0===a||a(t)},children:(0,f.tZ)(r.ny,{size:"sm",icon:l.NBC})})]}),E({tempUri:p,mimeType:b,attachmentId:o,contentId:u,size:T,name:C,extension:S,uploadStatus:m})]}):(0,f.tZ)(d.ar,{children:(0,c.localized)("File is not supported.")})})),w=e=>{var{attachments:t,deleteAttachment:a,uploadProgress:i}=e;return null!==t&&void 0!==t&&t.length?(0,f.tZ)(r.xu,{display:"grid",gridGap:(0,n.Oy)(1),gridTemplateColumns:"repeat(4, 1fr)",marginTop:(0,n.Oy)(7),children:null===t||void 0===t?void 0:t.map((e=>e.metadata.inline?null:(0,f.tZ)(S,{key:e.resourceId||e.tempId,attachment:{...e,progress:null===i||void 0===i?void 0:i[e.tempId]},onDelete:a})))}):null}},94420:(e,t,a)=>{a.d(t,{P:()=>c});var n=a(55460),r=a(15064),i=a(6775),o=a(498),l=a(18375),s=a(77537),d=new Set(["EVENT_BASED","RESPONSE_TEMPLATE","TIME_BASED"]),c=e=>{var{attributes:t,children:a,element:{automation:c}}=e;return(0,s.tZ)("span",{...t,role:"button",tabIndex:0,className:"btn-link",onClick:()=>{d.has(c.type)?(0,r.Z)((0,s.tZ)(o.Z,{type:c.type,id:c.id}),{withProvider:!0,withGraphQLProvider:!0,graphQLUrl:(0,i.getTicketingUrl)()}):(0,r.Z)((0,s.tZ)(l.Z,{fetchRulesetList:n.ZT,id:c.id,type:c.type}),{withProvider:!0,withGraphQLProvider:!0,graphQLUrl:(0,i.getTicketingUrl)()})},children:a})}},39055:(e,t,a)=>{a.d(t,{Y:()=>h,n:()=>f});var n=a(41554),r=a(4519),i=a(75100),o=a(58064),l=a(50176),s=a(67009),d=a(55460),c=a(6775),u=a(75493),p=a(77537),h=(0,o.wEe)((0,o.vgT)("name"),(0,o.vgT)("displayName")),g=()=>(0,c.localized)("User not Found");function v(e){var t=e?"".concat(h(e)," - ").concat(e.email):g();return null!==e&&void 0!==e&&e.deleted?"".concat(t," (").concat((0,c.localized)("Technician deleted"),")"):!1===(null===e||void 0===e?void 0:e.permitted)?"".concat(t," (").concat((0,c.localized)("Technician not allowed to view ticket"),")"):t}var m=(0,n.Z)("span",{target:"e11ghhke0"})("color:",(e=>{var{theme:t}=e;return t.color.text}),";background-color:",(e=>{var{theme:t,isCurrentUser:a}=e;return a?t.color.yellow:t.color.lightGray}),";padding:",(0,d.Oy)(.5,1),";border-radius:",(0,d.Oy)(1),";text-decoration:none;&:hover{background-color:",(e=>{var{theme:t,isCurrentUser:a}=e;return a?t.color.yellow:t.color.gray}),";}"),f=e=>{var t,a,n,{attributes:o,element:c,children:f}=e,y=(0,i.oR)(),b=(0,r.useMemo)((()=>y.getState().session.user),[y]),T=(0,r.useMemo)((()=>{var e;return(null===b||void 0===b?void 0:b.id)===(null===(e=c.mention)||void 0===e?void 0:e.id)}),[b,c]);return(0,p.BX)("span",{...o,"data-cy":"mention-".concat((null===(t=c.mention)||void 0===t?void 0:t.id)||"not-found"),contentEditable:!1,children:[(0,p.tZ)(l.u,{label:v(c.mention),children:(0,p.BX)(m,{isCurrentUser:T,children:["@",c.mention?h(c.mention):g(),(null===(a=c.mention)||void 0===a?void 0:a.deleted)&&(0,p.tZ)(u.xu,{as:"span",paddingLeft:(0,d.Oy)(1),children:(0,p.tZ)(s.UserXMarkIcon,{size:"xs"})}),!1===(null===(n=c.mention)||void 0===n?void 0:n.permitted)&&(0,p.tZ)(u.xu,{as:"span",paddingLeft:(0,d.Oy)(1),children:(0,p.tZ)(s.UserSlashIcon,{size:"xs"})})]})}),f]})}},58370:(e,t,a)=>{function n(e){var{htmlBody:t,body:a,uploads:n}=e;return!(null===a||void 0===a||!a.trim())||function(e,t){var a=t||"";return(e||[]).some((e=>!e.metadata.inline||a.includes(e.metadata.contentId)))}(n,t)}a.d(t,{G:()=>n})},38897:(e,t,a)=>{a.d(t,{e:()=>n});var n=e=>{var t=e[0],a=e[1];switch(typeof t){case"string":return{[t]:a};case"object":return t;default:return}}},78772:(e,t,a)=>{a.d(t,{f:()=>d,u:()=>c});var n=a(50176),r=a(8456),i=a(6775),o=a(75493),l=a(69716),s=a(77537),d=e=>{var{value:t,valueLabel:a,hideChildColorIndicator:d,isValueRenderer:c,maxWidth:u,disabled:p,...h}=e;return(0,s.BX)(o.xu,{display:"flex",flexDirection:"row",alignItems:"center",...h,children:[(0,s.tZ)(o.xu,{width:r.W0[2],height:r.W0[2],minWidth:r.W0[2],minHeight:r.W0[2],borderRadius:r.E0[1],marginRight:r.W0[2],...!d&&(0,l.Oo)(t)&&{border:"2px solid",borderColor:"ninjaLight"},...!d&&{backgroundColor:(0,l.V7)(t)}}),(0,s.tZ)(o.xu,{maxWidth:u,children:(0,s.BX)(n.uT,{color:p?"colorTextDisabled":"inherit",children:[c&&"".concat((0,i.localized)("Status"),": "),(0,i.capitalizeFirstLetter)(null!==a&&void 0!==a?a:"")]})})]})},c=e=>{var{value:t,labelText:a,maxWidth:n}=e;return(0,s.tZ)(d,{value:t,valueLabel:a,maxWidth:n})}},51094:(e,t,a)=>{a(55460),a(75493),a(12836),a(6931)},79343:(e,t,a)=>{a.d(t,{H:()=>l});var n=a(4519),r=a(58064),i=a(6775),o=a(94308),l=e=>(0,n.useCallback)((t=>{var a=(0,o.uy)(t),n=e.some((e=>((0,r.vgT)("name",e)||e)===t));return(a||n)&&[...n?[(0,i.localized)("Tag is already selected")]:[],...a||[]]}),[e])},96799:(e,t,a)=>{a.d(t,{A:()=>n,V:()=>r});var n=e=>()=>({type:"START_LOADING",name:e}),r=e=>()=>({type:"STOP_LOADING",name:e})},64520:(e,t,a)=>{a.d(t,{$:()=>n,C:()=>r});var n=e=>()=>({type:"SHOW",name:e}),r=e=>()=>({type:"HIDE",name:e})},87037:(e,t,a)=>{a.d(t,{Z:()=>wn});var n=a(23756);const r=(e,t,a)=>(n,r)=>{var{name:i}=r;return i===t||void 0===n?e(n||a,r):n};const i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET"===t.type?t.value:e};var o=a(58064);var l={fetched:!1,resetPasswordViaLink:!1,acceptInvitationViaLink:!1,allowedIPSubnets:[]};const s=(0,n.UY)({language:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_APP_LANGUAGE"===t.type?t.language:e},locale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",t=arguments.length>1?arguments[1]:void 0;return"SET_APP_LOCALE"===t.type?t.locale:e},environment:r(i,"application.environment",null),region:r(i,"application.region",null),isBranded:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_APP_BRANDED"===t.type?t.isBranded:e},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"theme-ninja-blue",t=arguments.length>1?arguments[1]:void 0;return"SET_APP_THEME"===t.type?t.theme:e},darkMode:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_DARK_MODE"===t.type?t.darkMode:e},colorTheme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SYSTEM",t=arguments.length>1?arguments[1]:void 0;return"SET_COLOR_THEME"===t.type?t.colorTheme:e},timezone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_APP_TIMEZONE"===t.type?t.timezone:e},ticketingDomain:r(i,"application.ticketingDomain",null),announcement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_APP_ANNOUNCEMENT":return(0,o.eiS)(["id","content"],t.payload);case"HIDE_APP_ANNOUNCEMENT":return null;default:return e}},serverCallPrefix:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_SERVER_CALL_PREFIX"===t.type?t.prefix:e},recaptchaPublicKey:r(i,"application.recaptchaPublicKey",null),defaultDivisionConfig:r(i,"application.defaultDivisionConfig",{}),security:(e,t)=>{var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;return"SET_DIVISION_SECURITY_CONFIG"===t.type?{...e,fetched:!0,...t.payload}:e}(e,t);return{...r(i,"application.security",null)(e,t),...a}},origin:r(i,"application.origin",null)});var d=a(3857),c={currentStepId:"stepOne",stepsCompleted:{stepOne:!1,stepTwo:!1,stepThree:!1,stepFour:!1,stepFive:!1,stepSix:!1,finishTraining:!1}};const u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_PRODUCTS"===t.type?t.products:e};var p={apps:!1,add:!1,user:!1};const h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MENU":return{...e,[t.name]:!0};case"CLOSE_MENU":return{...e,[t.name]:!1};default:return e}};var g={addDeviceMenu:!1,helpMenu:!1};const v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_TOOLTIP":return{...e,[t.name]:!0};case"CLOSE_TOOLTIP":return{...e,[t.name]:!1};default:return e}};const m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_IVANTI_PRODUCTS"===t.type?t.products:e};const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_RECENT_TAB":var{tab:{type:a,item:{id:n,name:r,nodeClass:i,...l}}}=t;return(0,o.qCK)((0,o.qnb)(10),(0,o.zoF)([{id:n,type:a,name:r,nodeClass:i,...l}]),(0,o.d1t)((0,o.goX)({type:a,id:n})))(e);case"SET_RECENT_TABS":return t.tabs;case"REMOVE_RECENT_TAB":var{type:s,key:d=null,id:c}=t.tab;return(0,o.d1t)((0,o.wEe)((0,o.goX)({type:s,id:c}),(e=>s===e.type&&e[d]===c)),e);case"REMOVE_RECENT_TAB_BY_KEY":var{type:u,key:p,value:h}=t.tab;return(0,o.d1t)((e=>u===e.type&&e[p]===h),e);case"UPDATE_RECENT_TAB":var{id:g,type:v,payload:m}=t.tab;return(0,o.UID)((e=>e.id===g&&e.type===v?{...e,...m}:e),e);case"REMOVE_ALL_RECENT_TABS":return[];default:return e}};const y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!!localStorage.getItem("sideNavBar.collapsed")||!1,t=arguments.length>1?arguments[1]:void 0;return"SET_IS_SIDE_BAR_COLLAPSED"===t.type?t.isSideBarCollapsed:e};var b={nodeRoles:[]};const T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FAVORITE_TABS":return t.tabs;case"UPDATE_FAVORITE_TAB":var{id:a,type:n,payload:r}=t.tab;return(0,o.UID)((e=>e.id===a&&e.type===n?{...e,...r}:e),e);default:return e}};const C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_BOARDS_CONFIGURATION"===t.type?t.boardsConfiguration:e};const E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARD_TABS":return t.tabs;case"ADD_BOARD_TAB":return[...e,t.tab];case"UPDATE_BOARD_TAB":return(0,o.UID)((0,o.gxm)((0,o.OH4)("id",t.tab.id),(0,o.viO)(t.tab)),e);case"DELETE_BOARD_TAB":return(0,o.d1t)((0,o.OH4)("id",t.tab.id),e);default:return e}};const S=(0,n.UY)({products:u,quickMenus:h,guideTooltips:v,ivantiProducts:m,recentTabs:f,isSideBarCollapsed:y,deviceRoles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;return"SET_DEVICE_ROLES_STANDARD_AND_CUSTOM"===t.type?(0,o.ATH)(e,{nodeRoles:t.nodeRoles}):e},favoriteTabs:T,boardsConfiguration:C,boardTabs:E,customHealthStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HEALTH_STATUS":var{healthStatus:a}=t;return[...(0,o.d1t)((0,o.OH4)("name",a.name),e),a];case"SET_HEALTH_STATUSES":return t.healthStatuses;case"REVERT_TO_DEFAULT_HEALTH_STATUS":return[];default:return e}},downloadableProducts:r(i,"downloadableProducts",{})});const w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SORT"===t.type?t.sortBy:e};var I=a(34244);const k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.Sr.DESC,t=arguments.length>1?arguments[1]:void 0;return"SORT"===t.type?t.sortDirection:e};const _=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"SET_TO_TRUE":return!0;case"SET_TO_FALSE":return!1;default:return e}};var x=a(40580),R=a.n(x),A=a(34692);function Z(e){return t=>function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_FILTER_".concat(t):return n.payload;case"CLEAR_FILTER_".concat(t):case"CLEAR_ALL_SEARCH_FILTERS":return e;default:return a}}}var D=Z([]),N=Z(null);const O=(0,n.UY)({nodeType:D("node-type"),nodeStatus:N("node-status"),customer:D("customer"),location:D("location"),nodeRole:D("node-role"),osFullName:D("os-full-name"),os:D("os"),processorType:D("processor-type"),containsText:N("contains-text"),deviceName:N("device-name"),deviceMake:N("device-make"),nodeTeamviewerId:N("node-teamviewer-id"),nodePolicies:D("node-policies"),memoryCapacity:N("memory-capacity"),driveTotalSpace:N("drive-total-space"),volumeFreeSpace:N("volume-free-space"),activities:N("activities"),softwareInventory:N("software-inventory"),patchInventory:N("patch-inventory"),patchSoftwareInventory:N("patch-software-inventory"),needsReboot:N("needs-reboot"),devicesWithInstallIssues:N("devices-with-install-issues"),devicesRequiringInstallReboot:N("devices-requiring-install-reboot"),devicesRequiringRebootUpgradeEngine:N("devices-requiring-reboot-upgrade-engine"),devicesRequiringRebootDisinfect:N("devices-requiring-reboot-disinfect"),loggedInUser:N("logged-in-user"),domain:N("domain"),dnsServer:N("dns-server"),gatewayIp:N("gateway-ip"),ipAddress:N("ip-address"),publicIp:N("public-ip"),notes:N("notes"),nodeReliabilityUptime:N("node-reliability-uptime"),nodeReliabilityLastUptime:N("node-reliability-last-uptime"),nodeReliabilityOffline:N("node-reliability-offline"),anyConditionTriggered:N("any-condition-triggered"),conditionTriggered:N("condition-triggered"),nodeApprovalStatusPending:N("node-approval-status-pending"),nodeApprovalStatusApproved:N("node-approval-status-approved"),osBuildVersion:N("os-build-version"),osArchitecture:D("os-architecture"),deviceThreats:D("device-threats"),bitlockerStatus:D("bitlocker-status"),fileVaultStatus:N("fileVault-status"),tpmStatus:D("tpm-status"),maintenanceMode:D("maintenance-mode"),computerSystemRoles:N("computer-system-roles"),customFields:D("custom-fields"),assetFieldsIdentifier:N("asset-fields-identifier"),assetFieldsStatus:N("asset-fields-status"),assetFieldsPurchaseAmount:N("asset-fields-purchase-amount"),assetFieldsPurchaseDate:N("asset-fields-purchase-date"),assetFieldsExpectedLifespan:N("asset-fields-expected-lifespan"),assetFieldsEndOfLifeDate:N("asset-fields-end-of-life-date"),assetFieldsSerialNumber:N("asset-fields-serial-number"),itamTags:D("itam-tags"),lastPatchScan:N("last-patch-scan"),noPatchScan:N("no-patch-scan"),lastInstalledPatch:N("last-installed-patch"),osPatchingEnabled:N("os-patching-enabled"),windowsPatchingMode:D("windows-patching-mode"),deviceRunningAction:D("device-running-action"),expiredAppleEnrollmentProfileStatus:N("expired-apple-enrollment-profile-status"),isMdmEnrolled:N("is-mdm-enrolled"),mdmApnConnection:D("mdm-apn-connection"),mdmAppleAppsAndBooksConnection:D("mdm-apple-apps-and-books-connection"),mdmAndroidEnterpriseConnection:D("mdm-android-enterprise-connection"),softwarePatchingEnabled:N("software-patching-enabled"),osType:D("os-type"),osMinorVersion:N("os-minor-version"),osMajorVersion:N("os-major-version"),osReleaseVersion:N("os-release-version"),warrantyStartDate:N("warranty-start-date"),warrantyEndDate:N("warranty-end-date"),manufacturerFulfillmentDate:N("manufacturer-fulfillment-date"),nmDelegate:N("nm-delegate"),osInstallDate:N("os-install-date"),ninjaBackupEnabled:N("ninja-backup-enabled"),ninjaBackupAgentInstalled:N("ninja-backup-agent-installed"),ninjaBackupPlanType:N("ninja-backup-plan-type"),vulnerabilityScanGroupName:D("vulnerability-scan-group-name"),vulnerabilitySeverity:D("vulnerability-severity"),vulnerabilityCveId:D("vulnerability-cve-id"),targetRule:D("target-rule"),browserExtensions:N("browser-extensions")});function M(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;return(arguments.length>1?arguments[1]:void 0).type,t}}const L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"START_LOADING":return!0;case"STOP_LOADING":return!1;default:return e}};const P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_ACTIVITY_STATUSES"===t.type?t.activityStatuses:e};function z(e){return t=>function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;return n.type==="SET_PATCHES_".concat(t)?n.patches:a}}var B=z([])("patch-inventory"),W=z([])("patch-software-inventory");const U=(0,n.UY)({patchInventory:B,patchSoftwareInventory:W});const F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_ITEM":return[...e,t.item.id];case"CLEAR_ITEM":return e.filter((e=>e!==t.item.id));case"SELECT_ALL_ITEMS":return(0,o.jge)("id",t.items);case"CLEAR_ALL_ITEMS":return[];case"SELECT_THIS_ITEM_ONLY":var a=t.item.id;return 1===e.length&&e.includes(a)?[]:[a];default:return e}};function K(e){return t=>function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;return n.type==="SET_PATCH_INVENTORY_NAME_FILTER_".concat(t)?n.filter:a}}var H=K("")("patch-inventory"),G=K("")("patch-software-inventory");const j=(0,n.UY)({patchInventory:H,patchSoftwareInventory:G});const V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_PERFORMING_DEVICE_ACTION"===t.type?t.performingDeviceAction:e};var X={cacheKey:"",selectedNodeIds:void 0,unselectedNodeIds:void 0,fromDeviceSearch:!1,selectedCount:0};const q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEVICES_CACHE_KEY":return{...e,cacheKey:t.cacheKey};case"SET_FROM_DEVICE_SEARCH":return{...e,fromDeviceSearch:t.fromDeviceSearch};case"SET_ACTION_RUNNER_PARAMS":return t.actionRunnerParams;case"CLEAR_ACTION_RUNNER_PARAMS":return X;default:return e}},Y=(0,n.UY)({devices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEVICES":return t.devices;case"ADD_DEVICES":return(0,o.xbD)(e)?t.devices:(0,o.zoF)(e,t.devices);case"CLEAR_ACTIVE_SEARCH":return[];case"REFRESH_DEVICES":return(0,o.qCK)((0,o.hXT)((e=>t.devices.some((t=>t.id===e.id)))),(0,o.UID)((e=>({...e,...t.devices.find((t=>t.id===e.id))}))))(e);case"UPDATE_DEVICE_DETAILS":var a=(0,o.jge)("id",t.devices);return e.map((e=>a.includes(e.id)?(0,o.ATH)(e,t.devices.find((t=>t.id===e.id))):e));case"DELETE_DEVICES_FROM_SEARCH_RESULTS":return e.filter((e=>!t.deletedDevices.includes(e.id)));default:return e}},devicesCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEVICES_COUNT":return t.count;case"CLEAR_ACTIVE_SEARCH":return 0;default:return e}},criteria:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CRITERIA":var a=(0,o.qCK)((0,o.hXT)((e=>e>0)),(0,o.jge)("id"),(0,o.F2w)(((e,t)=>e.id===t.id&&R()(e.selectedValues,t.selectedValues))))(e,t.criteria);if(a.length>0){var n=new Set(a),r=(0,o.HK3)((0,o.vgT)("id"),t.criteria);return(0,o.u4g)(((e,t)=>n.has(t.id)?r[t.id]&&"DELETE"!==t.action?[...e,r[t.id]]:e:[...e,t]),[],e)}return(0,o.mNm)((0,o.vgT)("id"),[...e.filter((e=>"DELETE"!==e.action)),...t.criteria]);case"SET_FULL_CRITERIA":return t.criteria;case"CREATE_CRITERION":return[...e,t.criterion];case"UPDATE_CRITERION":return e.map((e=>(0,A.z_)(e,t.criterion)?t.criterion:e));case"UPDATE_CRITERIA":return e.map((e=>t.criteria.find((t=>t.id===e.id))||e));case"UPDATE_NEW_CRITERIA":return(0,o.qCK)((0,o.d1t)((0,o.OH4)("action","DELETE")),(0,o.UID)((e=>(0,o.yAE)(e,function(e,t){var a=-1===t.search||"CREATE"===t.action;return e.find((e=>{var{type:n,search:r}=e;return n===t.type&&(a||t.search===r)}))}(t.criteria,e)))))(e);case"REVERT_CRITERIA":return(0,o.qCK)((0,o.UID)((e=>e.search===t.searchId?(0,o.CEd)(["action"],{...e,...e.initialValues}):e)),(0,o.d1t)((e=>e.search===t.searchId&&e.id<=0)))(e);case"REMOVE_CRITERIA_BY_SEARCH":return e.filter((e=>e.search!==t.searchId));case"DELETE_CRITERION":var i=(0,o.cxD)((0,o.OH4)("id",t.criterion.id),e);return(0,o.zBu)(i,(0,o.yGi)("action","DELETE"),e);case"REMOVE_CRITERIA":return(0,o.zud)(t.criteria,e);case"CLEAR_UNSAVED_SEARCH_CRITERIA":return e.filter((e=>e.id>0||!!e.search));default:return e}},filters:O,groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GROUPS":return t.searches;case"CREATE_GROUP":return[...e,t.filter];case"UPDATE_GROUP":return e.map((e=>e.id===t.filter.id?t.filter:e));case"UPDATE_NEW_GROUP":return e.map((e=>-1===e.id?t.filter:e));case"DELETE_GROUP":return e.filter((e=>e.id!==t.filter.id));default:return e}},groupEditable:r(_,"groupEditable"),groupsFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GROUPS_FILTER_NAME":return{...e,name:t.filter};case"SET_GROUPS_FILTER_TYPE":return{...e,type:t.filter};default:return e}},groupsListSort:(0,n.UY)({sortBy:r(w,"groupsListSort","name"),sortDirection:r(k,"groupsListSort")}),searchForEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_SEARCH_FOR_EDIT"===t.type?t.search.id:e},deviceSearchGroupKey:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_DEVICE_SEARCH_GROUP_KEY"===t.type?t.key:e},selectedCriterion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CRITERION":return t.criterion.id;case"SET_SELECTED_CRITERION":return t.selectedCriterion.id;case"CLEAR_SELECTED_CRITERION":return null;default:return e}},deletingSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BEGIN_DELETE_SEARCH":return t.search.id;case"DELETE_GROUP":return null;default:return e}},activeSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_SEARCH":return t.activeSearch;case"DELETE_GROUP":case"CLEAR_ACTIVE_SEARCH":return"ALL";default:return e}},patches:U,patchInventoryNameFilter:j,patchInventorySorted:(0,n.UY)({sortBy:r(w,"patchInventory","name"),sortDirection:r(k,"patchInventory")}),activityStatuses:P,activityStatusesNameFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_ACTIVITY_STATUSES_NAME_FILTER"===t.type?t.filter:e},activityStatusesTypeFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL",t=arguments.length>1?arguments[1]:void 0;return"SET_ACTIVITY_STATUSES_TYPE_FILTER"===t.type?t.filter:e},activityStatusesSorted:(0,n.UY)({sortBy:r(w,"activityStatuses","name"),sortDirection:r(k,"activityStatuses")}),selectedDevices:r(F,"devices"),selectAllModeUnselectedDevices:r(F,"selectAllModeUnselectedDevices"),actionRunnerParams:q,deviceListSort:(0,n.UY)({sortBy:r(w,"deviceListSort","name"),sortDirection:r(k,"deviceListSort","ASC")}),criteriaDefinitions:M([]),changeDevicePolicy:(0,n.UY)({loading:r(L,"changeDevicePolicyLoading",!1)}),deleteDevice:(0,n.UY)({loading:r(L,"deleteDeviceLoading",!1)}),wakeDevice:(0,n.UY)({modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_WAKE_DEVICE_MODAL":return{devices:t.devices};case"CLOSE_WAKE_DEVICE_MODAL":return{};default:return e}},loading:r(L,"wakeDeviceLoading",!1)}),performingDeviceAction:V,runningSearch:r(L,"runningSearch",!1),savingSearch:r(L,"savingSearch",!1)});const J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SELECT_SUB_TAB"===t.type?t.subTab:e};const $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_OS_PATCHES":return t.osPatches;case"CLEAR_OS_PATCHES":return[];default:return e}};const Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONFIRM_MODAL_OPTIONS":return t.options;case"SET_CONFIRM_MODAL_LOADING":var{loading:a}=t;return{...e,loading:a};case"CLEAR_CONFIRM_MODAL_OPTIONS":return null;default:return e}};const ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PROCESSING_POLICY":return t.policy;case"CLEAR_CONFIRM_MODAL_OPTIONS":case"CLEAR_PROCESSING_POLICY":return null;default:return e}};const te=(0,n.UY)({osPatches:$,selectedPatchType:r(J,"osPatches","pending"),loadingOsPatches:r(L,"loadingOsPatches"),selectedOsPatches:r(F,"osPatches"),confirmModalOptions:Q,processingDevices:r(L,"osPatches"),processingPolicy:ee,osPatchesFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"UPDATE_OS_PATCHES_FILTER"===t.type?t.filter:e}});const ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_CONFIRM_UNINSTALL_INPUT_VALUE"===t.type?t.value:e};const ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_SELECTED_SOFTWARE"===t.type?t.software:e};const re=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_UNINSTALLING_SOFTWARE"===t.type?t.value:e};const ie=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_CONFIRM_UNINSTALL_SOFTWARE_MODAL"===t.type?t.show:e};const oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SOFTWARE_PATCHES":return t.softwarePatches;case"CLEAR_SOFTWARE_PATCHES":return[];default:return e}};const le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"UPDATE_SOFTWARE_PATCHES_FILTER"===t.type?t.filter:e};const se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PROCESSING_POLICY":return t.policy;case"CLEAR_CONFIRM_MODAL_OPTIONS":case"CLEAR_PROCESSING_POLICY":return null;default:return e}};const de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONFIRM_MODAL_OPTIONS":return t.options;case"SET_CONFIRM_MODAL_LOADING":var{loading:a}=t;return{...e,loading:a};case"CLEAR_CONFIRM_MODAL_OPTIONS":return null;default:return e}},ce=(0,n.UY)({softwareInventorySortPropertyDashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publisher",t=arguments.length>1?arguments[1]:void 0;return"SET_SOFTWARE_INVENTORY_SORT_PROPERTY_DASHBOARD"===t.type&&t.selection?t.selection.dataKey:e},softwareInventorySortPropertyDevice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publisher",t=arguments.length>1?arguments[1]:void 0;return"SET_SOFTWARE_INVENTORY_SORT_PROPERTY_DEVICE"===t.type&&t.selection?t.selection.dataKey:e},softwareInventorySortDirectionProperty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ASC",t=arguments.length>1?arguments[1]:void 0;return"SET_SOFTWARE_INVENTORY_SORT_DIRECTION_PROPERTY"===t.type&&t.value?t.value:e},softwareInventorySoftwareFilterPropertyDashboardtoExport:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;return"SET_SOFTWARE_INVENTORY_SOFTWARE_FILTER_PROPERTY_DASHBOARD_EXPORT"===a.type?(null===(e=a.queryFilter)||void 0===e?void 0:e.softwareFilter)||"":t},loadingSoftwareInventory:r(L,"loadingSoftwareInventory"),selectedSoftware:ne,uninstallingSoftware:re,softwareInventoryFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"UPDATE_SOFTWARE_INVENTORY_FILTER"===t.type?t.filter:e},showConfirmUninstallSoftwareModal:ie,confirmUninstallSoftwareInputValue:ae,softwarePlatformFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"UPDATE_SOFTWARE_PLATFORM_FILTER"===t.type&&(null===t||void 0===t?void 0:t.filter)||e},activeSubTab:r(J,"softwareTab","inventory"),softwarePatches:oe,loadingSoftwarePatches:r(L,"loadingSoftwarePatches"),softwarePatchesFilter:le,selectedSoftwarePatches:r(F,"softwarePatches"),processingDevices:r(L,"softwareTab"),processingPolicy:se,confirmModalOptions:de});const ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"collapsed";switch((arguments.length>1?arguments[1]:void 0).type){case"EXPAND":return"expanded";case"COLLAPSE":return"collapsed";default:return e}};const pe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"SHOW":return!0;case"HIDE":return!1;default:return e}};const he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"General",t=arguments.length>1?arguments[1]:void 0;return"SET_SELECTED_TAB"===t.type?t.tab:e};var ge=(0,o.jge)("id");const ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_PRODUCT":return[...e,t.product.id];case"CLEAR_PRODUCT":return e.filter((e=>e!==t.product.id));case"CLEAR_PRODUCTS":return e.filter((e=>!t.products.includes(e)));case"SELECT_ALL_PRODUCTS":return(0,o.XPQ)(t.products);case"CLEAR_ALL_PRODUCTS":return[];case"SELECT_THIS_PRODUCT_ONLY":return[t.product.id];case"SELECT_VENDOR":return[...e,...ge(t.programs)];case"CLEAR_VENDOR":return(0,o.zud)(ge(t.programs),e);case"TOGGLE_SELECT_PRODUCT":var{product:a}=t;return e.some((e=>e===a.id))?e.filter((e=>e!==a.id)):[...e,t.product.id];default:return e}};var me=(0,o.jge)("id");const fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_ADD_PRODUCT":return[...e,t.product.id];case"CLEAR_ADD_PRODUCT":return e.filter((e=>e!==t.product.id));case"SELECT_ADD_ALL_PRODUCTS":return(0,o.jge)("id",t.products);case"CLEAR_ADD_ALL_PRODUCTS":return[];case"SELECT_ADD_THIS_PRODUCT_ONLY":return[t.product.id];case"SELECT_ADD_VENDOR":return[...e,...me(t.programs)];case"CLEAR_ADD_VENDOR":return(0,o.zud)(me(t.programs),e);case"TOGGLE_SELECT_ADD_PRODUCT":var{product:a}=t;return e.some((e=>e===a.id))?e.filter((e=>e!==a.id)):[...e,t.product.id];default:return e}};const ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_SOFTWARE_PRODUCTS"===t.type?t.products:e};const be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"SET_TIMESTAMP"===(arguments.length>1?arguments[1]:void 0).type?Date.now():e};const Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_PRODUCT_SEARCH"===t.type?t.value:e};const Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ADD_PRODUCT_SEARCH":return t.value;case"CLEAR_ADD_PRODUCT_SEARCH":return"";default:return e}};const Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"COPY_SOFTWARE_CURRENT_RULES"===t.type?t.products:e},Se=(0,n.UY)({selectedTab:he,selectedProducts:ve,visibilityAddProductsModal:r(pe,"addProductsModal"),selectedAddProducts:fe,selectedAddProductsRowExpansion:r(ue,"selectedAddProducts"),addedProductsRowExpansion:r(ue,"addedProducts"),products:ye,timestamp:r(be,"softwarePatchManagement"),loadingSoftwareProducts:r(L,"loadingSoftwareProducts"),patchDetailsModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_PATCH_DETAILS":return"loading";case"SET_PATCH_DETAILS":return t.patch;case"CLOSE_PATCH_DETAILS_MODAL":return null;default:return e}},productSearch:Te,addProductSearch:Ce,softwareCurrentRules:Ee});var we={gsmKey:null,requestStatus:null,registrationEmail:null,polling:!1,alternateSubmit:!1,deleteInProgress:!1,registrationStatus:"NOT_CONFIGURED",firstName:null,lastName:null,companyName:null,country:null,username:null,password:null};const Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_REQUEST_STATUS":return{...e,requestStatus:t.requestStatus};case"SET_ALTERNATE_SUBMIT":return{...e,alternateSubmit:t.alternateSubmit};case"SET_REGISTRATION_STATUS":return{...e,registrationStatus:t.registrationStatus};case"SET_DIVISION_MODAL":return{...e,...t.division};case"START_POLLING":return{...e,polling:!0};case"STOP_POLLING":return{...e,polling:!1};case"SET_REQUEST_TIME":return{...e,requestTime:Date.now()};default:return e}};const ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_MAPPING_DATA"===t.type?t.data:e},_e=(0,n.UY)({division:Ie,loadingWebrootConfiguration:r(L,"loadingWebrootConfiguration",!1),webrootConfigurationModalVisible:r(pe,"webrootConfigurationModalVisible",!1),webrootActionsModalVisible:r(pe,"webrootActionModalVisible",!1),mapping:(0,n.UY)({data:ke,sortBy:r(w,"webrootMappingSort","organizationName"),sortDirection:r(k,"webrootMappingSort")})}),xe=(0,n.UY)({configuration:_e});var Re={channelList:[]};const Ae=(0,n.UY)({webroot:xe,notificationChannels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0,{channelList:a}=e;switch(t.type){case"NOTIFICATION_CHANNELS_SET_LIST":return{...e,channelList:t.list};case"NOTIFICATION_CHANNELS_ADD_CHANNEL":return{...e,channelList:(0,o.R3I)(t.channel,a)};case"NOTIFICATION_CHANNELS_UPDATE_CHANNEL":return{...e,channelList:(0,o.UID)((0,o.gxm)((0,o.OH4)("id",t.channel.id),(0,o.wuV)(t.channel)),a)};case"NOTIFICATION_CHANNELS_DELETE_CHANNEL":return{...e,channelList:(0,o.d1t)((0,o.OH4)("id",t.id),a)};default:return e}}});var Ze=window.localStorage.getItem("ninja:dashboard.sortSystemItemsBy")||"status";var De=window.localStorage.getItem("ninja:dashboard.sortOrgItemsBy")||"status";const Ne=(0,n.UY)({mode:r(i,"dashboard.mode"),entityId:r(i,"dashboard.entityId"),entityListItems:r(i,"dashboard.entityListItems"),isDocumentationEnabled:r(i,"dashboard.isDocumentationEnabled"),teamViewerCustomerConfig:r(i,"dashboard.teamViewerCustomerConfig"),sortSystemItemsBy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;return"SET_SORT_SYSTEM_ITEMS_BY"===t.type?t.sortItemsBy:e},sortOrgItemsBy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;return"SET_SORT_ORG_ITEMS_BY"===t.type?t.sortItemsBy:e},customerOverview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SET_RUNNING_JOBS_AND_DEVICE_HEALTH"===t.type){var{runningJobs:a,systemHealth:n}=t;return{runningJobs:a,systemHealth:n}}return e},deviceSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TEAMVIEWER_REACH_ENABLED":return{...e,teamViewerReachEnabled:t.teamViewerReachEnabled};case"UPDATE_SPLASHTOP_ENABLED":return{...e,splashtopEnabled:t.splashtopEnabled};case"UPDATE_NINJACONNECT_ENABLED":return{...e,ninjaConnectEnabled:t.ninjaConnectEnabled};default:return e}},deviceTools:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userGroups:[]},t=arguments.length>1?arguments[1]:void 0;return"SET_GROUPS_TO_AD_USER"===t.type?{userGroups:t.userGroups}:e},currentTab:r(i,"dashboard.currentTab")});var Oe=[];var Me="last_day";const Le=(0,n.UY)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SYSTEM_EVENTS":return t.data;case"RESET_SYSTEM_EVENTS":return Oe;default:return e}},eventScope:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EVENT_SCOPE":return t.scope;case"RESET_EVENT_SCOPE":return Me;default:return e}},eventPopoverVisibility:r(pe,"eventPopoverVisibility",!1)});const Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_USERS_FILTER"===t.type?t.usersFilter:e};const ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS_LIST":return t.usersList;case"DELETE_USER":return(0,o.d1t)((0,o.OH4)("id",t.userId),e);default:return e}},Be=(0,n.UY)({usersFilter:Pe,usersList:ze,usersListSort:(0,n.UY)({sortBy:r(w,"usersListSort","name"),sortDirection:r(k,"usersListSort",I.Sr.ASC)})});const We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[],textFilter:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_END_USERS_LIST":return{...e,list:t.list};case"SET_END_USERS_FILTER":return{...e,textFilter:t.textFilter};case"DELETE_END_USER":return{...e,list:(0,o.d1t)((0,o.OH4)("id",t.userId),e.list)};default:return e}},Ue=(0,n.UY)({endUsers:We,endUsersListSort:(0,n.UY)({sortBy:r(w,"endUsersListSort","name"),sortDirection:r(k,"endUsersListSort",I.Sr.ASC)})});var Fe=a(74398);const Ke=(0,n.UY)({activities:Fe.Z,loadingActivities:r(L,"loadingActivities")});var He={enabled:!1,companyId:"",publicApiKey:"",urlBase:""};var Ge=a(21714),je={deviceDataSyncAttributes:(0,o.qCK)((0,o.jge)("name"),(0,o.d1t)((0,o.vgT)("required")))([...(0,Ge.t)(),...(0,Ge.Z)()])};var Ve={validated:!1,companyCriteria:{types:{message:""},statuses:{message:""}}};var Xe={types:{},statuses:{}};var qe={mapping:{},availableSites:{},companySites:{},locationSiteModal:{location:{}},possibleLocationMappings:[]};const Ye=(0,n.UY)({companyFilterMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CW_COMPANY_FILTER_TYPES":return(0,o.ATH)(e,{types:t.types});case"SET_CW_COMPANY_FILTER_STATUSES":return(0,o.ATH)(e,{statuses:t.statuses});case"SET_CW_COMPANY_FILTER_MAP":return t.payload;default:return e}},accountOrganizationMappingModalVisibility:r(pe,"CWAccountOrganizationMappingModal",!1),accountOrganizationMappingModalLoading:r(L,"CWAccountOrganizationMappingModal",!1),possibleLocationMappingsModalLoading:r(L,"CWPossibleLocationMappingsModal",!1),accountOrganizationMappingSort:(0,n.UY)({sortBy:r(w,"CWAccountOrganizationMappingSort","clientName"),sortDirection:r(k,"CWAccountOrganizationMappingSort",I.Sr.ASC)}),accountOrganizationModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CW_ACCOUNT_ORGANIZATION_MODAL_MAPPING":return(0,o.yGi)("mapping",t.data,e);case"SET_CW_ACCOUNT_ORGANIZATION_MODAL_AVAILABLE_SITES":return(0,o.yGi)("availableSites",t.data,e);case"EDIT_CW_ACCOUNT_ORGANIZATION_MODAL_MAPPING_LOCATION_SITE_MAPPING":var{locationId:a}=t.data,{locationSiteMappings:n}=e.mapping,r=(0,o.qCK)((e=>({...e,...t.data})),(0,o.sEJ)((0,o.OH4)("locationId",a)))(n),i=(0,o.Vxg)(n.findIndex((0,o.OH4)("locationId",a)),r,n);return(0,o.uhR)(["mapping","locationSiteMappings"],i,e);case"SET_CW_ACCOUNT_ORGANIZATION_MODAL_COMPANY_SITES":var{companyId:l,sites:s}=t.data;return(0,o.qCK)((t=>(0,o.yGi)("companySites",t,e)),(0,o.yGi)(l,s))(e.companySites);case"SET_CW_ACCOUNT_ORGANIZATION_MODAL_LOCATION_SITE_MODAL":return(0,o.uhR)(["locationSiteModal","location"],t.data,e);case"SET_CW_ACCOUNT_ORGANIZATION_MODAL_LOCATION_SITE_MODAL_SITE":var d=(0,o.qCK)((0,o.yGi)("psaSiteName",t.data.psaSiteName),(0,o.yGi)("psaSiteId",t.data.psaSiteId),(0,o.yGi)("mapped",!0))(e.locationSiteModal.location);return(0,o.uhR)(["locationSiteModal","location"],d,e);case"SET_CW_ACCOUNT_ORGANIZATION_MODAL_LOCATION_PRODUCT_MAPPING":var{productMappingName:c,productMappingId:u,productMappingType:p}=t.data,h={...e.locationSiteModal.location,productMappingName:c,productMappingId:u,productMappingType:p,mapped:!0};return(0,o.uhR)(["locationSiteModal","location"],h,e);case"SET_CW_ACCOUNT_ORGANIZATION_MODAL_LOCATION_AGREEMENT":var{agreementId:g,agreementName:v}=t.data,m={...e.locationSiteModal.location,agreementId:g,agreementName:v,mapped:!0};return(0,o.uhR)(["locationSiteModal","location"],m,e);case"SET_CW_ACCOUNT_ORGANIZATION_MODAL_LOCATION_CONFIGURATION_TYPE_MAPPING":var{configurationTypeMappingName:f,configurationTypeMappingId:y,configurationTypeMappingType:b}=t.data,T={...e.locationSiteModal.location,configurationTypeMappingName:f,configurationTypeMappingId:y,configurationTypeMappingType:b,mapped:!0};return(0,o.uhR)(["locationSiteModal","location"],T,e);case"SET_CW_ACCOUNT_POSSIBLE_LOCATION_MAPPINGS":var{possibleLocationMappings:C}=t;return{...e,possibleLocationMappings:C};case"CLEAR_CW_ACCOUNT_POSSIBLE_LOCATION_MAPPINGS":return{...e,possibleLocationMappings:[]};case"SET_CW_ACCOUNT_LOCATION_MAPPINGS":var{newMappedLocations:E}=t;return{...e,mapping:{...e.mapping,locationSiteMappings:E}};case"CLEAR_CW_ACCOUNT_ORGANIZATION_MODAL_COMPANY_SITES":return{...e,companySites:{}};default:return e}},locationSiteMappingModalVisibility:r(pe,"CWLocationSiteMappingModal",!1),locationSiteMappingSort:(0,n.UY)({sortBy:r(w,"CWLocationSiteMappingSort","locationName"),sortDirection:r(k,"CWLocationSiteMappingSort")}),locationSiteLoading:r(L,"CWLocationSiteLoading",!1),accountAutoMapModalVisibility:r(pe,"CWAccountAutoMapModal",!1),accountAutoMapPreview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CW_ACCOUNT_AUTO_MAP":return t.data;case"CLEAR_CW_ACCOUNT_AUTO_MAP":return{};default:return e}},companyCriteria:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_CW_COMPANY_CRITERIA"===t.type?t.payload:e},companies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_CW_COMPANIES"===t.type?t.payload:e},accountMapModalLoading:r(L,"CWAccountMapModal",!1),previouslyUsedFilterMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CW_PREVIOUSLY_FETCHED_COMPANY_FILTER_MAP":return t.companyFilterMap;case"RESET_CW_PREVIOUSLY_FETCHED_COMPANY_FILTER_MAP":return null;default:return e}},accountOrganizationMappings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_CW_ACCOUNT_ORGANIZATION_MAPPINGS"===t.type?t.payload:e},selectedAccountMappings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_CW_ACCOUNT_ORGANIZATION_SELECTED_MAPPINGS"===t.type?t.selected:e}});var Je=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=[...e.nodeRoleProductMappings],r=(0,o.cxD)((0,o.OH4)("id",t.mappingId),n),{ranking:i}=n[r];if(0===i)return e;var l=a?i-1:i+1;if(!(a?l>0&&1!==i:l<=n.length))return e;var s=(0,o.cxD)((0,o.OH4)("ranking",l),n);return n[r].ranking=l,n[s].ranking=i,{...e,nodeRoleProductMappings:n}},$e={id:0,name:"",nodeRoleProductMappings:[],productMappingType:"SINGLE_HIT"};var Qe={id:0,nodeRoleId:0,productId:0,productName:"",agreementTypeId:0,agreementTypeName:"",groups:[],groupsLogicOperator:"AND",ranking:0};var et=a(43077),tt=a.n(et),at=a(6775),nt=a(47361),rt={enabled:!1,runCount:0,schedule:(0,o.viO)({dayOfMonth:0,repeats:"MONTHLY",runAtHour:9,runAtMinute:0,startDate:tt()().format(at.serverScheduleDateFormat),end:{type:"NEVER",endDate:null}},nt.r4)};const it=(0,n.UY)({agreementTypeList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_CW_AGREEMENT_TYPE_LIST"===t.type?t.payload:e},productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_CW_PRODUCT_LIST"===t.type?t.payload:e},productMappings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CW_PRODUCT_MAPPINGS":return t.payload;case"ADD_CW_PRODUCT_MAPPING":return(0,o.R3I)(t.newProductMapping,e);case"REMOVE_CW_PRODUCT_MAPPING":var a=e.findIndex((e=>e.id===t.id));return(0,o.OdJ)(a,1,e);case"EDIT_CW_PRODUCT_MAPPING":var n=e.findIndex((e=>e.id===t.productMapping.id)),r=(0,o.OdJ)(n,1,e);return(0,o.$Tr)(n,t.productMapping,r);default:return e}},productMappingSort:(0,n.UY)({sortBy:r(w,"CWProductMappingSort","name"),sortDirection:r(k,"CWProductMappingSort")}),productMappingModalVisibility:r(pe,"CWProductMappingsModal",!1),productModalEditorMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_CW_PRODUCT_MAPPING_MODAL_EDITOR_MODE"===t.type?t.mode:e},currentProductMapping:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_CW_PRODUCT_MAPPING":return $e;case"SET_CW_PRODUCT_MAPPING":return t.productMapping;case"SET_CW_PRODUCT_MAPPING_ID":return(0,o.yGi)("id",t.id,e);case"SET_CW_PRODUCT_MAPPING_NAME":return(0,o.yGi)("name",t.name,e);case"ADD_CW_PRODUCT_MAPPING_NODE_ROLE_PRODUCT_MAPPING":var a=(0,o.u4g)(o.Fp7,0,(0,o.jge)("ranking",e.nodeRoleProductMappings)),n=(0,o.R3I)({...t.mapping,ranking:a+1},e.nodeRoleProductMappings);return(0,o.yGi)("nodeRoleProductMappings",n,e);case"REMOVE_CW_PRODUCT_MAPPING_NODE_ROLE_PRODUCT_MAPPING":var r=e.nodeRoleProductMappings.findIndex((e=>e.id===t.id)),i=e.nodeRoleProductMappings[r].ranking,l=(0,o.qCK)((0,o.d1t)((0,o.OH4)("id",t.id)),(0,o.UID)((e=>e.ranking>i?{...e,ranking:e.ranking-1}:e)))(e.nodeRoleProductMappings);return(0,o.yGi)("nodeRoleProductMappings",l,e);case"EDIT_CW_PRODUCT_MAPPING_NODE_ROLE_PRODUCT_MAPPING":var s=e.nodeRoleProductMappings.findIndex((e=>e.id===t.mapping.id)),d=(0,o.OdJ)(s,1,e.nodeRoleProductMappings);return(0,o.yGi)("nodeRoleProductMappings",(0,o.$Tr)(s,t.mapping,d),e);case"CHANGE_CW_CURRENT_PRODUCT_MAPPING":return{...e,...t.newMapping};case"MOVE_CW_MAPPING_RANK_UP":return Je(e,t);case"MOVE_CW_MAPPING_RANK_DOWN":return Je(e,t,!1);default:return e}},nodeRoleProductMappingModalVisibility:r(pe,"CWNodeRoleProductMappingModal",!1),nodeRoleProductMappingModalEditorTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_CW_NODE_ROLE_PRODUCT_MAPPING_MODAL_EDITOR_TITLE"===t.type?t.title:e},nodeRoleProductMappingModalEditorMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_CW_NODE_ROLE_PRODUCT_MAPPING_MODAL_EDITOR_MODE"===t.type?t.mode:e},currentNodeRoleProductMapping:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_CW_NODE_ROLE_PRODUCT_MAPPING":return Qe;case"SET_CW_NODE_ROLE_PRODUCT_MAPPING":return t.mapping;case"SET_CW_NODE_ROLE_PRODUCT_MAPPING_ID":return(0,o.yGi)("id",t.id,e);case"SET_CW_NODE_ROLE_PRODUCT_MAPPING_NODE_ROLE":return(0,o.yGi)("nodeRoleId",t.nodeRole.id,e);case"SET_CW_NODE_ROLE_PRODUCT_MAPPING_PRODUCT":return e=(0,o.yGi)("productId",t.product.id,e),(0,o.yGi)("productName",t.product.name,e);case"SET_CW_NODE_ROLE_PRODUCT_MAPPING_AGREEMENT_TYPE":return e=(0,o.yGi)("agreementTypeId",t.agreementType.id,e),(0,o.yGi)("agreementTypeName",t.agreementType.name,e);case"SET_CW_NODE_ROLE_PRODUCT_MAPPING_GROUPS":return(0,o.yGi)("groups",t.groups,e);case"SET_CW_NODE_ROLE_PRODUCT_MAPPING_LOGICAL_OPERATOR":return(0,o.yGi)("groupsLogicOperator",t.logicalOperator,e);default:return e}},productAgreementSync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCT_AGREEMENT_SYNC":return t.payload;case"SET_PRODUCT_AGREEMENT_SYNC_ENABLED":return(0,o.yGi)("enabled",t.enabled,e);case"SET_PRODUCT_AGREEMENT_SYNC_SCHEDULE":return(0,o.yGi)("schedule",t.schedule,e);case"":case"INIT_PRODUCT_AGREEMENT_SYNC":return rt;default:return e}}});var ot={id:0,name:"",nodeRoleConfigurationTypeMappings:[]};var lt={id:0,nodeRoleId:0,configurationTypeId:0,configurationTypeName:"",onCreateStatusId:0,onCreateStatusName:"",onDeleteStatusId:0,onDeleteStatusName:""};const st=(0,n.UY)({configurationTypeList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_CW_CONFIGURATION_TYPE_LIST"===t.type?t.payload:e},configurationStatusList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_CW_CONFIGURATION_STATUS_LIST"===t.type?t.payload:e},configurationTypeMappings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CW_CONFIGURATION_TYPE_MAPPINGS":return t.payload;case"ADD_CW_CONFIGURATION_TYPE_MAPPING":return(0,o.R3I)(t.newConfigurationTypeMapping,e);case"REMOVE_CW_CONFIGURATION_TYPE_MAPPING":var a=e.findIndex((e=>e.id===t.id));return(0,o.OdJ)(a,1,e);case"EDIT_CW_CONFIGURATION_TYPE_MAPPING":var n=e.findIndex((e=>e.id===t.configurationTypeMapping.id)),r=(0,o.OdJ)(n,1,e);return(0,o.$Tr)(n,t.configurationTypeMapping,r);default:return e}},configurationTypeMappingSort:(0,n.UY)({sortBy:r(w,"CWConfigurationTypeMappingSort","name"),sortDirection:r(k,"CWConfigurationTypeMappingSort")}),configurationTypeMappingModalVisibility:r(pe,"CWConfigurationTypeMappingsModal",!1),configurationTypeModalEditorMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_CW_CONFIGURATION_TYPE_MAPPING_MODAL_EDITOR_MODE"===t.type?t.mode:e},currentConfigurationTypeMapping:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_CW_CONFIGURATION_TYPE_MAPPING":return ot;case"SET_CW_CONFIGURATION_TYPE_MAPPING":return t.configurationTypeMapping;case"SET_CW_ONFIGURATION_TYPE_MAPPING_ID":return(0,o.yGi)("id",t.id,e);case"SET_CW_CONFIGURATION_TYPE_MAPPING_NAME":return(0,o.yGi)("name",t.name,e);case"ADD_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING":var a=(0,o.R3I)(t.mapping,e.nodeRoleConfigurationTypeMappings);return(0,o.yGi)("nodeRoleConfigurationTypeMappings",a,e);case"REMOVE_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING":var n=e.nodeRoleConfigurationTypeMappings.findIndex((e=>e.id===t.id));return(0,o.yGi)("nodeRoleConfigurationTypeMappings",(0,o.OdJ)(n,1,e.nodeRoleConfigurationTypeMappings),e);case"EDIT_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING":var r=e.nodeRoleConfigurationTypeMappings.findIndex((e=>e.id===t.mapping.id)),i=(0,o.OdJ)(r,1,e.nodeRoleConfigurationTypeMappings);return(0,o.yGi)("nodeRoleConfigurationTypeMappings",(0,o.$Tr)(r,t.mapping,i),e);default:return e}},nodeRoleConfigurationTypeMappingsSort:(0,n.UY)({sortBy:r(w,"CWNodeRoleConfigurationTypeMappingsSort","nodeRoleName"),sortDirection:r(k,"CWNodeRoleConfigurationTypeMappingsSort")}),nodeRoleConfigurationTypeMappingModalVisibility:r(pe,"CWNodeRoleConfigurationTypeMappingModal",!1),nodeRoleConfigurationTypeMappingModalEditorTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_MODAL_EDITOR_TITLE"===t.type?t.title:e},nodeRoleConfigurationTypeMappingModalEditorMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_MODAL_EDITOR_MODE"===t.type?t.mode:e},currentNodeRoleConfigurationTypeMapping:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING":return lt;case"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING":return t.mapping;case"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_ID":return(0,o.yGi)("id",t.id,e);case"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_NODE_ROLE":return(0,o.yGi)("nodeRoleId",t.nodeRole.id,e);case"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_CONFIGURATION_TYPE":return e=(0,o.yGi)("configurationTypeId",t.configurationType.id,e),(0,o.yGi)("configurationTypeName",t.configurationType.name,e);case"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_ON_CREATE_STATUS":return e=(0,o.yGi)("onCreateStatusId",t.status.id,e),(0,o.yGi)("onCreateStatusName",t.status.name,e);case"SET_CW_NODE_ROLE_CONFIGURATION_TYPE_MAPPING_ON_DELETE_STATUS":return e=(0,o.yGi)("onDeleteStatusId",t.status.id,e),(0,o.yGi)("onDeleteStatusName",t.status.name,e);default:return e}}});const dt=(0,n.UY)({accounts:Ye,products:it,configurations:st,nodeRoleList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_CW_NODE_ROLE_LIST"===t.type?t.payload:e}});var ct={syncLogs:[],syncInProgress:!1};var ut={syncLogs:[],syncInProgress:!1};var pt={additionsData:[],nodesData:[],agreementSyncStarted:!1};const ht=(0,n.UY)({connection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;return"SET_CW_CONNECTION"===t.type?{...e,...t.payload}:e},initialEditorState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_CW_INITIAL_EDITOR_STATE"===t.type?t.payload:e},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CW_SETTINGS":return t.payload;case"SET_CW_DEVICE_DATA_SYNC_ATTRIBUTES":return t.attributes?(0,o.ATH)(e,{deviceDataSyncAttributes:t.attributes}):e;default:return e}},cwHelpDeskSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CW_HELPDESK_OPTIONS":return{...e,...t.cwHelpDeskSettings};case"SET_CW_HELPDESK_CREATE_CONTACT_OPTION":return{...e,createContact:t.createContact};default:return e}},mappings:dt,nodeSyncLogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CW_NODES_SYNC_LOGS_DATA":return t.payload;case"SET_CW_NODES_SYNC_LOGS_LOADING_STATUS":return{...e,syncInProgress:t.syncInProgress};default:return e}},agreementSyncLogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CW_AGREEMENT_SYNC_LOGS_DATA":return t.payload;case"SET_CW_AGREEMENT_SYNC_LOGS_LOADING_STATUS":return{...e,syncInProgress:t.syncInProgress};default:return e}},agreementSync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CW_AGREEMENT_SYNC_PREVIEW":var{additionsData:a,nodesData:n}=t;return{...e,additionsData:a,nodesData:n};case"SET_CW_AGREEMENT_RUNNING_SYNC":var{agreementSyncStarted:r}=t;return{...e,agreementSyncStarted:r};case"RESET_CW_AGREEMENT_SYNC":return pt;default:return e}},loadingAgreementSync:r(L,"CWAgreementSync",!0),loadingAgreementSyncLogs:r(L,"CWAgreementSyncLog",!1),loadingNodeSyncLogs:r(L,"CWNodeSyncLog",!1),validations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CW_VALIDATIONS":return{...e,...t.payload};case"RESET_CW_VALIDATIONS":return Ve;default:return e}}});var gt={syncLogs:[],syncInProgress:!1};var vt={enabled:!1,username:"",password:""};var mt=(0,o.yAE)([]),ft=["cpuSpeed","defaultGateway","macAddress","model","lastLoginName","localHardDrives","osInfo","productKey","privateIpAddress","ram","serialNumber"],yt=()=>({syncNodes:!1,accountList:[],productList:[],accountCriteria:[],productCategories:[],deviceDataSyncAttributes:ft,availableDeviceDataSyncAttributes:ft,accountOrganizationMappings:[],nodeRoleMappings:[],locationMappings:[],companyFilterMap:{types:{}}});var bt={};const Tt=(0,n.UY)({helpdeskSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{helpdeskSettings:!1,embedHelpRequestImagesInTickets:!1},t=arguments.length>1?arguments[1]:void 0;return"SET_HELPDESK_OPTIONS"===t.type?{...e,...t.helpdeskSettings}:e},nodeSyncLogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;return"SET_AT_NODES_SYNC_LOGS_DATA"===t.type?t.payload:e},connection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;return"SET_AT_CONNECTION"===t.type?{...e,...t.payload}:e},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AT_ACCOUNT_CRITERIA":return(0,o.yGi)("accountCriteria",mt(t.payload),e);case"SET_AT_SYNC_CONFIGURATIONS":return(0,o.yGi)("syncNodes",t.bool,e);case"SET_AT_PRODUCT_TYPE":return(0,o.yGi)("productCategories",t.productCategories,e);case"SET_AT_NODE_ROLE_MAPPINGS":return(0,o.yGi)("nodeRoleMappings",t.payload,e);case"SET_AT_LOCATION_MAPPINGS":return(0,o.yGi)("locationMappings",t.payload,e);case"SET_AT_ACCOUNT_ORGANIZATION_MAPPINGS":return(0,o.yGi)("accountOrganizationMappings",t.payload,e);case"SET_AT_ACCOUNT_FILTER_TYPES":return((e,t)=>(0,o.uhR)(["companyFilterMap","types"],t.types,e))(e,t);case"SET_AT_PRODUCT_LIST":return(0,o.yGi)("productList",t.payload,e);case"SET_AT_ACCOUNT_LIST":return(0,o.yGi)("accountList",t.payload,e);case"SET_AT_DEVICE_DATA_SYNC_ATTRIBUTES":return(0,o.yGi)("deviceDataSyncAttributes",t.attributes,e);case"RESET_AT_SETTINGS":return yt();case"SET_AT_SETTINGS":return((e,t)=>({...e,...t.payload}))(e,t);default:return e}},loading:L,healthStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;return"SET_AT_HEALTH_STATUS"===t.type?{...e,...t.payload}:e}});var Ct={hostname:"",enabled:!1};const Et=(0,n.UY)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACCELO_HOSTNAME":return(0,o.yGi)("hostname",t.hostname,e);case"SET_ACCELO_ENABLED":return(0,o.yGi)("enabled",t.enabled,e);default:return e}}});var St={data:{}};const wt=(0,n.UY)({connection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;return"SET_GW_CONNECTION"===t.type?{...e,data:t.payload}:e}});var It={enabled:!1,basicAuthCredentials:null,instanceName:"",authType:"",oauthConfiguration:null,defaultTicketTemplateId:null,integrationTypeActivated:null};const kt=(0,n.UY)({connection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SERVICE_NOW_CONNECTION":return{...e,...t.payload};case"RESET_SERVICE_NOW_CONNECTION":return It;default:return e}}});var _t={loading:!1,data:null};const xt=(0,n.UY)({connection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FRESHSERVICE_LOADING_DATA":return{...e,loading:t.payload};case"SET_FRESHSERVICE_CONNECTION":return{...e,data:t.payload};case"RESET_FRESHSERVICE_CONNECTION":return _t;default:return e}}});var Rt={enabled:!1};const At=(0,n.UY)({connection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ZENDESK_NOW_CONNECTION":return{...e,...t.payload};case"RESET_ZENDESK_CONNECTION":return Rt;default:return e}}});var Zt=(0,n.UY)({Autotask:Tt,ConnectWise:ht,Accelo:Et,ServiceNow:kt,Freshservice:xt,Zendesk:At,GenericWebhook:wt,connectionTestResult:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEST_CONNECTION_RESULT":return t.result;case"RESET_TEST_CONNECTION_RESULT":return"";default:return e}},defaultTicketTemplateId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_DEFAULT_TICKET_TEMPLATE_ID"===t.type?t.payload:e},ticketTemplate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_TICKET_TEMPLATE"===t.type?t.payload:e},ticketTemplateEditorValues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TICKET_TEMPLATE_EDITOR_VALUES":return t.editorValues;case"CLEAR_TICKET_TEMPLATE_EDITOR_VALUES":return null;default:return e}},ticketTemplates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_TICKET_TEMPLATE_LIST"===t.type?t.payload:e},ticketSetupValues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_TICKET_SETUP_VALUES"===t.type?t.payload:e},editorLoading:r(L,"PSASettingsEditor",!1),editorSaving:r(L,"PSASettingsEditorSaving",!1),connectionModalVisibility:r(pe,"PSAConnectionModal",!1),connectionModalLoading:r(L,"PSAConnectionModal",!1),defaultTicketTemplateModalVisibility:r(pe,"PSADefaultTicketTemplateModal",!1),ticketTemplateModalVisibility:r(pe,"PSATicketTemplateModal",!1),ticketTemplateModalLoading:r(L,"PSATicketTemplateModal",!1)});var Dt=a(19710),Nt=a(3594);var Ot=(0,n.UY)({brandingNode:Dt.Z,hostname:Nt.Z,editorLoading:r(L,"WBEditor",!1),addTopicModalVisibility:r(pe,"WBAddHelpTopicModal",!1),initialEditorState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_WEBSITE_BRANDING_INITIAL_EDITOR_STATE"===t.type?t.payload:e}});var Mt=a(82289),Lt=a(34928);const Pt={"a8c2658d-add7-49fa-92f1-caa7e0daf656":{parameterComponent:Mt.k2,scriptName:(e,t)=>{var{volumeName:a,checkList:n}=t,r="";return r="BOOT_VOLUME"===a?"INCLUDE"===n?(0,Lt.kIE)("Boot Volume"):(0,Lt.kIE)("Excluding Boot Volume"):"BOOT_AND_RECOVERY_VOLUMES"===a?(0,Lt.kIE)("Excluding Boot & Recovery Volumes"):(0,Lt.kIE)("All Volumes"),"".concat(e," ").concat(r)},parameters:{volumeName:"ALL_VOLUMES",checkList:"INCLUDE"}},"258836d1-5aa1-424e-900a-20cf22b228a3":{parameterComponent:Mt.tM,scriptName:(e,t)=>{var{enabled:a}=t;return"".concat(a?(0,Lt.kIE)("Enable"):(0,Lt.kIE)("Disable")," ").concat(e)},parameters:{enabled:!1}},"7dd142b2-ce16-44ff-a1d6-de2c1baa1749":{parameterComponent:Mt.cs,scriptName:(e,t)=>{var{start:a,serviceName:n}=t;return"".concat(a?(0,Lt.kIE)("Start"):(0,Lt.kIE)("Stop")," ").concat(e," '").concat(n,"'")},parameters:{start:!0},customName:"Start or Stop - Windows Service",generateNameWhenSelected:e=>{var{start:t}=e;return t?(0,Lt.kIE)("Start - Windows Service"):(0,Lt.kIE)("Stop - Windows Service")},generateDescriptionWhenSelected:e=>{var{displayName:t}=e;return"- ".concat(t," ")}},"2fed9333-c4fd-4e6b-9913-375a8d181376":{parameterComponent:Mt.Z_,scriptName:(e,t)=>{var{enabled:a}=t;return"".concat(a?(0,Lt.kIE)("Turn On"):(0,Lt.kIE)("Turn Off")," ").concat(e)},parameters:{enabled:!0}}};var zt=a(4519),Bt=a(50176),Wt=a(8456),Ut=a(67009),Ft=a(55460),Kt=a(75493),Ht=a(77537),Gt={EXPIRES:{value:"expires",labelToken:(0,at.localizationKey)("Expires")},NEVER:{value:"never",labelToken:(0,at.localizationKey)("Never expires")}};function jt(e){return e?e%3600===0?{value:e/3600,unit:"hour"}:{value:e/60,unit:"minute"}:{value:1,unit:"hour"}}var Vt={parameterComponent:function(e){var{onChange:t,values:{options:a,durationInSeconds:n},validation:r}=e,[i,o]=(0,Ft.DJ)(!!n),[l,s]=(0,Ft.DJ)(jt(n).value),[d,c]=(0,Ft.DJ)(jt(n).unit),u=(0,zt.useMemo)((()=>[{value:Gt.EXPIRES.value,label:(0,at.localized)(Gt.EXPIRES.labelToken)},{value:Gt.NEVER.value,label:(0,at.localized)(Gt.NEVER.labelToken)}]),[]),p=(0,zt.useMemo)((()=>[{value:"hour",labelText:(0,at.localized)("Hours")},{value:"minute",labelText:(0,at.localized)("Minutes")}]),[]),h=(0,zt.useCallback)((e=>{var{hasDuration:a,durationValue:n,durationUnit:r}=e;if(a)if("minute"===r)t({durationInSeconds:(0,at.minutesToSeconds)(n)});else t({durationInSeconds:(0,at.hoursToSeconds)(n)});else t({durationInSeconds:null})}),[t]);return(0,Ht.BX)(Ht.HY,{children:[(0,Ht.tZ)(Bt.g7,{dismissable:!1,labelToken:(0,at.localizationKey)("Only one instance of maintenance mode can be configured at any one time. Existing maintenance modes preventing scripting or tasks will prevent this automation from executing.")}),(0,Ht.BX)(Kt.xu,{marginTop:Wt.default.spacing[2],marginBottom:Wt.default.spacing[2],children:[(0,Ht.tZ)(Bt.uT,{as:"label",children:(0,at.localized)("Duration")}),(0,Ht.tZ)(Bt.Ee,{orientation:"horizontal",options:u,defaultValue:n?u[0].value:u[1].value,ariaLabel:(0,at.localized)("Duration"),onValueChange:e=>{var t=e===Gt.EXPIRES.value;o(t),h({hasDuration:t,durationUnit:d,durationValue:l})}})]}),i&&(0,Ht.tZ)(Ht.HY,{children:(0,Ht.BX)(Kt.kC,{width:"100%",gap:Wt.default.spacing[2],children:[(0,Ht.tZ)(Kt.xu,{flexGrow:1,children:(0,Ht.tZ)(Bt.vF,{labelText:(0,at.localized)("Duration value"),value:l,max:1e4,min:1,onChange:e=>{s(e),h({hasDuration:i,durationUnit:d,durationValue:e})}})}),(0,Ht.tZ)(Kt.xu,{flexGrow:4,children:(0,Ht.tZ)(Bt.Vc,{hideClearSelectionButton:!0,vaue:d,options:p,defaultValue:d,labelText:(0,at.localized)("Unit"),onChange:e=>{c(e),h({hasDuration:i,durationUnit:e,durationValue:l})}})})]})}),(0,Ht.BX)(Kt.kC,{gap:Wt.default.spacing[2],marginTop:Wt.default.spacing[2],marginBottom:Wt.default.spacing[1],children:[(0,Ht.tZ)(Bt.uT,{children:(0,at.localized)("Features to suppress")}),(0,Ht.tZ)(Bt.u,{label:(0,at.localized)("Suppressing features prevents spamming of alerts on the dashboard"),children:(0,Ht.tZ)(Ut.RegularInfoCircleIcon,{size:"sm"})})]}),(0,Ht.tZ)(Bt.XZ,{disabled:!0,checked:a.notifications,label:(0,at.localized)("Emails/SMS/Push notifications")}),(0,Ht.tZ)(Bt.XZ,{checked:a.alerts,onChange:e=>{var{isChecked:n}=e;t({options:{...a,alerts:n}})},label:(0,at.localized)("Condition alerts")}),(0,Ht.tZ)(Bt.XZ,{checked:a.notificationChannels,onChange:e=>{var{isChecked:n}=e;t({options:{...a,notificationChannels:n}})},label:(0,at.localized)("Notification channels")})]})},parameters:{durationInSeconds:null,options:{notifications:!0,alerts:!1,notificationChannels:!1}},helpTooltip:{articles:["360051137451"],description:(0,at.localizationKey)("Maintenance mode allows you to suppress selected features for a device or devices for a designated window of time.")}};var Xt={...Pt,...{"361098de-587b-4be0-a4f9-ca60ede7f2a0":{...Vt},"153a4da2-580a-4825-aa7c-222d4be9dcdc":{...Vt},"b142b40d-ca3f-4d4e-a567-bfa5fccd8709":{...Vt}}},qt=e=>e.map((e=>({...e,deviceType:e.operatingSystems[0],parameters:{runAs:"system",scriptParam:""}})));const Yt=(0,n.UY)({deviceType:r(i,"scripting-scriptsSelectorList-deviceType",null),selectedScriptCategory:r(i,"scripting-scriptsSelectorList-selectedScriptCategory",null),nameFilter:r(i,"scripting-scriptsSelectorList-nameFilter"),sort:(0,n.UY)({sortBy:r(w,"scripting-scriptsSelectorList-sort","name"),sortDirection:r(k,"scripting-scriptsSelectorList-sort","ASC")})}),Jt=(0,n.UY)({architectures:M([]),languages:M([]),operatingSystems:M([]),automationTypes:M([]),scriptCategories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_SCRIPT_CATEGORY":return[...e,t.scriptCategory];case"SET_SCRIPT_CATEGORIES":return t.scriptCategories;case"UPDATE_SCRIPT_CATEGORY":var{scriptCategory:a}=t;return e.map((e=>e.id===a.id?a:e));case"DELETE_SCRIPT_CATEGORY":return(0,o.d1t)((0,o.OH4)("id",t.scriptCategory.id),e);default:return e}},scripts:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_SCRIPTS":var{scripts:n}=a,{nativeScripts:r=[],nonNativeScripts:i=[]}=(0,o.vMG)((e=>{var{language:t}=e;return"native"===t?"nativeScripts":"nonNativeScripts"}))(n||[]);return[...(e=r,e.map((e=>({...e,...Xt[e.uid],deviceType:e.operatingSystems[0]})))),...qt(i)];case"CREATE_SCRIPT":return[qt([a.script])[0],...t];case"UPDATE_SCRIPT":var{script:l}=a;return t.map((e=>e.id===l.id?qt([l])[0]:e));case"DELETE_SCRIPT":return(0,o.d1t)((0,o.OH4)("id",a.script.id),t);default:return t}},scriptsSelectorList:Yt,scriptsLoading:r(L,"scriptsLoading",!1),scriptsCategoriesLoading:r(L,"scriptsCategoriesLoading",!1)});var $t=a(8845);const Qt=(0,n.UY)({showScriptSelectorVisibility:r(_,"showScriptSelectorVisibility"),scriptsRequiredMessageVisibility:r(pe,"scriptsRequiredMessageVisibility"),selectedPolicyScripts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CONDITION_SCRIPT":return[...e,t.script];case"REMOVE_CONDITION_SCRIPT":return e.filter((e=>e.id!==t.script.id));case"EDIT_CONDITION_SCRIPT":var{script:a}=t;return e.map((e=>e.id===a.id?a:e));case"SET_CONDITION_SCRIPTS":return t.scripts.map((e=>({...e,id:(0,$t.x0)(10)})));case"REORDER_CONDITION_SCRIPTS":return[...t.scripts];default:return e}},selectedScriptsResultConditionScript:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SCRIPTS_RESULT_CONDITION_SCRIPT":return{...t.script};case"REMOVE_SCRIPTS_RESULT_CONDITION_SCRIPT":return{};default:return e}},parameterModal:r(i,"parameterModal",null),conditionScriptSelector:r(_,"conditionScriptSelector"),showScriptResultConditionError:r(_,"showScriptResultConditionError")});var ea=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{...e,backupPlans:[],storedBackupPlans:t.backupPlans,showBackupErrors:!1,general:{inheritance:{inherited:!1,overridden:!1,sourcePolicyId:null}},...t}},ta=a(26341),aa=(e,t,a)=>{var n=[...e.backupPlans],r=(0,o.cxD)((0,o.OH4)("identifier",t))(n);return n[r].enabled=a,n[r].inheritance&&n[r].inheritance.inherited&&(n[r].inheritance.overridden=!0),{...e,backupPlans:n}};var na=a(97250);var ra={policy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_POLICY":return null;case"SET_POLICY":return t.policy;case"UPDATE_POLICY_ITEM":return((e,t)=>{var{pathToItem:a,parentPolicy:n,newItem:r}=t,i=(0,na.R9)(a);return(0,o.uhR)(i,r,e)})(e,t);case"DELETE_POLICY_ITEM":return((e,t)=>{var{pathToItem:a}=t,n=(0,na.R9)(a);return(0,o.ghH)(n,e)})(e,t);case"UPDATE_POLICY_NAME":return{...e,name:t.name,description:t.description,enabled:t.enabled};case"SHOW_NOT_FOUND_ERROR":return{showNotFoundError:!0};default:return e}},policyOriginal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_POLICY":return null;case"SET_POLICY_ORIGINAL":return t.policy;case"UPDATE_POLICY_NAME":return{...e,name:t.name,description:t.description,enabled:t.enabled};default:return e}},parentPolicy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_PARENT_POLICY":return null;case"SET_PARENT_POLICY":return t.parentPolicy;default:return e}},nodeOverride:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_NODE":return null;case"SET_NODE_FOR_OVERRIDE":return t.node;case"UPDATE_NODE_FOR_OVERRIDE":return{...e,...t.node};default:return e}},savingPolicy:r(L,"SavingPolicy",!1)};const ia=ra;const oa=(0,n.UY)({textFilter:r(i,"patchOverridesTextFilter",""),approvalFilter:r(i,"patchOverridesApprovalFilter",""),typeFilter:r(i,"patchOverridesTypeFilter",""),patchOverrides:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PATCH_OVERRIDES":return t.patchOverrides;case"SET_PATCH_OVERRIDE":var{patchOverridePair:[a,n]}=t,r=(0,o.d9v)(n),{inheritance:{inherited:i}}=r;return i&&(r.inheritance.overridden=!0),{...e,[a]:r};case"REVERT_PATCH_OVERRIDE":var[l,s]=t.patchOverridePair,{inheritance:{parentPolicySettings:d}}=s,c={...s,...d};return c.inheritance.overridden=!1,{...e,[l]:c};case"REMOVE_PATCH_OVERRIDE":return(0,o.CEd)([t.id],e);case"CLEAR_PATCH_OVERRIDES":return(0,o.hXT)((e=>{var{inheritance:{inherited:t}}=e;return!!t}))(e);default:return e}}}),la=(0,n.UY)({...ia,scripting:Qt,backups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POLICY_EDITOR_INITIALIZE_BACKUPS":return ea(e,t.backups);case"POLICY_EDITOR_ADD_BACKUP_PLAN":return((e,t)=>{var{plan:a}=t;return{...e,backupPlans:[...e.backupPlans,a]}})(e,t);case"POLICY_EDITOR_UPDATE_BACKUP_PLAN":return((e,t)=>{var{plan:a}=t,n=[...e.backupPlans],r=(0,o.cxD)((0,o.OH4)("identifier",a.identifier))(n);return R()(a,n[r])?e:(n[r]=a,!(0,ta.x$)(n[r].type)&&n[r].inheritance.inherited&&(n[r].inheritance.overridden=!0),{...e,backupPlans:n})})(e,t);case"POLICY_EDITOR_DELETE_BACKUP_PLAN":return((e,t)=>{var{plan:a}=t;return{...e,backupPlans:e.backupPlans.filter((e=>{var{identifier:t}=e;return t!==a.identifier}))}})(e,t);case"POLICY_EDITOR_ENABLE_BACKUP_PLAN":return((e,t)=>{var{planId:a}=t;return aa(e,a,!0)})(e,t);case"POLICY_EDITOR_DISABLE_BACKUP_PLAN":return((e,t)=>{var{planId:a}=t;return aa(e,a,!1)})(e,t);case"POLICY_EDITOR_REVERT_OVERRIDE_IN_BACKUP_PLAN":return((e,t)=>{var{planId:a}=t,n=[...e.backupPlans],r=(0,o.cxD)((0,o.OH4)("identifier",a))(n);return n[r]={...n[r],...n[r].inheritance.parentPolicySettings,inheritance:{...n[r].inheritance,overridden:!1}},{...e,backupPlans:n}})(e,t);case"POLICY_EDITOR_SHOW_BACKUP_ERRORS":return((e,t)=>{var{value:a}=t;return{...e,showBackupErrors:a}})(e,t);case"SET_BACKUP_SERVER_DEFAULTS":return((e,t)=>{var{serverDefaults:a}=t;return{...e,serverDefaults:a}})(e,t);default:return e}},patchOverrides:oa});const sa=(0,n.UY)({editingScript:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_EDITING_SCRIPT"===t.type?t.script:e},scriptsList:(0,n.UY)({scriptNameFilter:r(i,"configuration-scripting-scriptsList-scriptNameFilter"),scriptCategoryFilter:r(i,"configuration-scripting-scriptsList-scriptCategoryFilter"),scriptLanguageFilter:r(i,"configuration-scripting-scriptsList-scriptLanguageFilter"),scriptOperatingSystemFilter:r(i,"configuration-scripting-scriptsList-scriptOperatingSystemFilter"),sort:(0,n.UY)({sortBy:r(w,"configuration-scripting-scriptsList-sort","name"),sortDirection:r(k,"configuration-scripting-scriptsList-sort","ASC")})}),templateLibrary:(0,n.UY)({scripts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if("SET_TEMPLATE_LIBRARY_SCRIPTS"===t.type){var{scripts:a}=t;return[...qt(a)]}return e},sourceFilter:r(i,"configuration-scripting-templateScripts-sourceFilter"),osFilter:r(i,"configuration-scripting-templateScripts-osFilter"),scriptFilter:r(i,"configuration-scripting-templateScripts-scriptFilter"),sort:(0,n.UY)({sortBy:r(w,"configuration-scripting-templateScripts-sort","name"),sortDirection:r(k,"configuration-scripting-templateScripts-sort","ASC")})})}),da=(0,n.UY)({scripting:sa});var ca=[];var ua=(0,n.UY)({locations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOCATIONS":return t.payload;case"ADD_LOCATION":return(0,o.R3I)(t.newLocation,e);case"REMOVE_LOCATION":var a=e.findIndex((e=>e.id===t.id));return(0,o.OdJ)(a,1,e);case"EDIT_LOCATION":var n=e.findIndex((e=>e.id===t.location.id)),r=(0,o.OdJ)(n,1,e);return(0,o.$Tr)(n,t.location,r);default:return e}},modalEditorTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_MODAL_EDITOR_TITLE"===t.type?t.title:e},modalEditorMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_MODAL_EDITOR_MODE"===t.type?t.mode:e},changeOrganizationLocationModalVisibility:r(pe,"ChangeOrganizationLocationModal",!1),customeDashboardLocationSubTab:r(J,"locationTab","all"),selectedNodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_SELECTED_NODES"===t.type?t.nodes:e}});var pa=a(67659);function ha(){return{id:0,name:"",description:"",enabled:!0,runsOnNodeScheduledTask:!1,scripts:{actionList:[]},schedule:nt.r4,targets:[]}}var ga=[];var va=(0,n.UY)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_SCHEDULED_TASKS":return t.scheduledTasks;case"DELETE_SCHEDULED_TASK":var a=e.findIndex((e=>e.id===t.id));return(0,o.OdJ)(a,1,e);default:return e}},currentTask:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_SCHEDULED_TASK":return t.scheduledTask;case"SET_SCHEDULED_TASK_ENABLED":return(0,o.yGi)("enabled",t.enabled,e);case"SET_SCHEDULED_TASK_NAME":return(0,o.yGi)("name",t.name,e);case"SET_SCHEDULED_TASK_DESCRIPTION":return(0,o.yGi)("description",t.description,e);case"SET_SCHEDULED_TASK_RUNS_ON_NODE":var a=(0,o.YjB)((e=>{var{targetType:t}=e;return"GROUP"===t}))(e.targets),n=a&&t.runsOnNodeScheduledTask;return(0,o.ATH)(e,{schedule:t.runsOnNodeScheduledTask?pa.GV:nt.r4,runsOnNodeScheduledTask:t.runsOnNodeScheduledTask,...n&&{targets:[]}});case"SET_SCHEDULED_TASK_SCRIPTS_DATA":return e.scripts?(0,o.uhR)(["scripts","actionList"],t.data,e):(0,o.yGi)("scripts",{actionList:t.data},e);case"SET_SCHEDULED_TASK_SCHEDULE":return(0,o.yGi)("schedule",t.schedule,e);case"SET_SCHEDULED_TASK_REPEATS":return(0,o.uhR)(["schedule","repeats"],t.repeats,e);case"ADD_SCHEDULED_TASK_TARGETS":var r=(0,o.cZv)(e.targets.length,t.targets,e.targets);return(0,o.yGi)("targets",r,e);case"DELETE_SCHEDULED_TASK_TARGET":var{scheduledTaskId:i,targetType:l,targetId:s}=t.target,d=e.targets.findIndex((e=>e.scheduledTaskId===i&&e.targetType===l&&e.targetId===s)),c=(0,o.OdJ)(d,1,e.targets);return(0,o.yGi)("targets",c,e);case"DELETE_SCHEDULED_TASK_ALL_TARGETS":return(0,o.yGi)("targets",[],e);case"RESET_SCHEDULED_TASK":return ha();default:return e}},scheduledTaskListSort:(0,n.UY)({sortBy:r(w,"ScheduledTaskListSort","name"),sortDirection:r(k,"ScheduledTaskListSort")}),editorLoading:r(L,"ScheduledTaskEditor",!1),editorSaving:r(L,"savingTask",!1),addTargetsModalVisibility:r(pe,"ScheduledTaskAddTargetsModal",!1),targetTypeSort:(0,n.UY)({sortBy:r(w,"TargetTypeSort","name"),sortDirection:r(k,"TargetTypeSort","DESC")}),initialEditorState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_SCHEDULED_TASK_INITIAL_EDITOR_STATE"===t.type?(0,o.d9v)(t.payload):e},preselectedTargets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_PRESELECTED_TARGETS":return t.targets;case"RESET_PRESELECTED_TARGETS":return ga;default:return e}}});const ma=(0,n.UY)({credentialsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_CREDENTIALS"===t.type?t.credentials:e},credentialsListSort:(0,n.UY)({sortBy:r(w,"credentialsListSort","defaults"),sortDirection:r(k,"credentialsListSort")})});var fa=e=>({tabName:e,nodes:[],sortBy:"displayName",sortDirection:"ASC",filterText:"",selected:{rows:{},length:0}}),ya=()=>({clientId:null,activeTab:"security",general:{mode:"AUTOMATIC"},pending:fa("pending"),approved:fa("approved"),rejected:fa("rejected")}),ba=a(52294),Ta=e=>"CANDIDATE_NODE"===e.nodeApprovalType;const Ca=(0,n.UY)({content:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NODE_APPROVALS_CHANGE_MODE":return((e,t)=>{var{mode:a}=t;return{...e,general:{mode:a}}})(e,t);case"NODE_APPROVALS_CHANGE_TAB":return((e,t)=>{var{activeTab:a}=t;return{...e,activeTab:a}})(e,t);case"NODE_APPROVALS_APPROVE_NODES":return((e,t)=>{var{payload:{nodes:a=[],candidateNodes:n=[]}}=t,r=[...e.approved.nodes],i=e.pending.nodes.filter((e=>{var t=(Ta(e)?n:a).includes(e.id);return t&&(e.approvalStatus="APPROVED",Ta(e)&&(e.installationStatus="WAITING",e.approvalStatusByAppUserName=window.application.get("user").getName(),e.approvalStatusByAppUserId=window.application.get("user").id),r.push(e)),!t})),o={...e.approved,nodes:r},l={...e.pending,nodes:i};return{...e,pending:l,approved:o}})(e,t);case"NODE_APPROVALS_REJECT_NODES":return((e,t)=>{var{payload:{tabName:a,nodes:n=[],candidateNodes:r=[]}}=t,i=[...e.rejected.nodes],o=e[a].nodes.filter((e=>{var t=(Ta(e)?r:n).includes(e.id);return t&&(e.approvalStatus="REJECTED",e.approvalStatusByAppUserName=window.application.get("user").getName(),e.approvalStatusByAppUserId=window.application.get("user").id,i.push(e)),!t})),l={...e.rejected,nodes:i},s={...e[a],nodes:o};return{...e,[a]:s,rejected:l}})(e,t);case"NODE_APPROVALS_CLEAR_NODES":return((e,t)=>{var{payload:{tabName:a,nodes:n=[],candidateNodes:r=[]}}=t,i=e[a].nodes.filter((e=>!(Ta(e)?r:n).includes(e.id))),o={...e[a],nodes:i};return{...e,[a]:o}})(e,t);case"NODE_APPROVALS_CHANGE_SELECTED":return((e,t)=>{var{selected:a,tabName:n}=t;return{...e,[n]:{...e[n],selected:a}}})(e,t);case"NODE_APPROVALS_CHANGE_FILTER_TEXT":return((e,t)=>{var{filterText:a,tabName:n}=t;return{...e,[n]:{...e[n],filterText:a}}})(e,t);case"NODE_APPROVALS_INITIALIZE":return((e,t)=>{var{nodes:a,general:n,clientId:r}=t;if(!r)return ya();var i={...e.pending,nodes:a.pending},o={...e.approved,nodes:a.approved},l={...e.rejected,nodes:(0,ba.Hh)(a.rejected)};return{...e,clientId:r,general:n,pending:i,approved:o,rejected:l}})(e,t);case"NODE_APPROVALS_REFRESH":return((e,t)=>{var{nodes:a}=t,n={...e.pending,nodes:a.pending},r={...e.approved,nodes:a.approved},i={...e.rejected,nodes:(0,ba.Hh)(a.rejected)};return{...e,pending:n,approved:r,rejected:i}})(e,t);default:return e}},loading:r(L,"loadingNodeApprovals"),loadingStatusTabs:r(L,"loadingNodeApprovalsStatusTabs")});var Ea=function(){return{list:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}};var Sa=(e,t)=>({...e,node:{...e.node,ownerUid:t.owner.ownerUid,ownerName:t.owner.ownerName}}),wa=(0,o.hXT)((e=>e&&e.volatileData)),Ia=e=>{if(!e)return null;var{datapoints:t}=e,a=(e=>{if(null===e||void 0===e||!e.length)return 0;var t=(0,o.qCK)(o.Z$Q,(0,o.hXT)((e=>(null===e||void 0===e?void 0:e.usedMHz)>0)),o.xHg,(0,o.UID)((0,o.vgT)("volatileData")))(e);if(!t)return 0;var{usedMHz:a,usedPct:n}=t,r=n/100;return r?(100*a/r).toFixed(1):0})(t),n=(0,o.qCK)((0,o.u4g)(((e,t)=>{var{volatileData:a,monTime:n}=t,[r]=a,{usedPct:i}=r,[l,s,d,c]=e,u=i/100,p=(0,o.Fp7)(u,d),h=(0,o.VV$)(u,c);return[l+i/100,[...s,{performance:[r.usedMHz,0],percentage:u,monTime:n}],p,h,i/100]}),[0,[],0,100,0]),wa)(t),[r,i,l,s,d]=n;return{percentage:(r/i.length||0).toFixed(1),parsedData:i,max:l,min:s,latest:d,cpuSpeed:a}},ka=(e,t)=>{if(!e||!t)return null;var{datapoints:a}=e,n=t.datapoints[0].data,r=(0,o.qCK)((0,o.u4g)(((e,t)=>{var{volatileData:a,monTime:n}=t,[r]=a,{usedHostBytes:i}=r,[l,s,d,c]=e;return[l+i,[...s,{performance:[i,0],monTime:n}],(0,o.Fp7)(i,d),(0,o.VV$)(i,c),i]}),[0,[],0,n.memorySize,0]),wa)(a),[i,l,s,d,c]=r;return{averageUsedBytes:i/l.length||0,parsedData:l,max:s,min:d,latest:c}},_a=e=>{if(!e)return[];var{datapoints:t}=e,[a]=t,{staticData:n}=a;return(0,o.UID)((e=>{var a=((e,t)=>{if(!e)return[];var a=(0,o.qCK)((0,o.u4g)(((e,a)=>{var{volatileData:n,monTime:r}=a,i=(0,o.sEJ)((e=>e.vmfs_uuid===t),n)||{},[l,s,d,c]=e,{readSpeedKBps:u,writeSpeedKBps:p,used:h}=i,g={readSpeed:u,writeSpeed:p,monTime:r},v={usedStorage:[h,0],monTime:r},m=!!h||0===h;return[l+i.readSpeedKBps,s+i.writeSpeedKBps,[...d,g],m?[...c,v]:c,i.freeSpace,i.used]}),[0,0,[],[],0,0]),wa)(e),[n,r,i,l,s,d]=a;return{parsedData:i,usedParsedData:l,readSpeed:n/i.length||0,writeSpeed:r/i.length||0,freeSpace:s,usedSpace:d}})(t,e.vmfs_uuid);return{...e,...a}}),n)},xa=e=>{if(!e)return[];var{datapoints:t}=e,[a]=t,{staticData:n}=a;return(0,o.UID)((e=>{var{device:a}=e,n=((e,t)=>{var a=(0,o.u4g)(((e,a)=>{var{volatileData:n,monTime:r}=a;if(n){var i=(0,o.sEJ)((e=>e.device===t),n);if(i&&i.device===t){var{sendBps:l,receiveBps:s}=i,[d,c,u,p,h,g,v]=e;return[d+l,c+s,[...u,{sendBps:[l,0],receiveBps:[s,0],monTime:r}],(0,o.Fp7)(p,l),(0,o.Fp7)(h,s),(0,o.VV$)(g,l),(0,o.VV$)(v,l),l,s]}return e}return e}),[0,0,[],0,0,0,0,0,0],e),[n,r,i,l,s,d,c,u,p]=a;return{sendSpeed:n/i.length||0,receiveSpeed:r/i.length||0,parsedData:i,maxSent:l,maxReceived:s,minSent:d,minReceived:c,latestSent:u,latestReceived:p}})(t,a);return{...e,...n}}),n)},Ra=(e,t)=>{var{datasets:a,agentVersion:n}=t,r=Ia(a["vm-host-cpu"]),i=ka(a["vm-host-memory"],a["vm-host-system"]),l=_a(a["vm-host-datastore"]),s=(e=>{if(!e)return[];var{datapoints:t}=e,[a]=t,{data:n}=a;return n})(a["vm-host-sensor"]),d=xa(a["vm-host-nic"]),c=(e=>{if(!e)return[];var{datapoints:t}=e;return(0,o.u4g)(((e,t)=>{var{data:a}=t,n=(0,o.UID)((e=>e.licenseKey),a);return[...e,...n]}),[],t)})(a["vm-host-license"]);return{...e,cpu:r,memory:i,datastore:l,hostSystem:a["vm-host-system"]?a["vm-host-system"].datapoints[0].data:{},healthSensors:s,network:d,licenses:c,agentVersion:n}};var Aa=(e,t)=>{var{datasets:a}=t,n=Ia(a["vm-guest-cpu"]),r=ka(a["vm-guest-memory"],a["vm-guest-system"]),i=xa(a["vm-guest-nic"]),l=(e=>{var t=(0,o.pMU)([],["datapoints",0,"data"],e),a=(0,o.qCK)((0,o.d1t)(o.xbD),(0,o.jge)("parent_id"))(t);return t.map((e=>(0,o.yGi)("children",a.includes(e.id),e)))})(a["vm-guest-snapshot"]);return{...e,cpu:n,memory:r,guestSystem:a["vm-guest-system"]?a["vm-guest-system"].datapoints[0].data:{},network:i,snapshot:l}};const Za=(0,n.UY)({hosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIRTUALIZATION_HOST_LIST":return Ea(t.hosts);case"ADD_VIRTUALIZATION_HOST":return((e,t)=>({...e,list:[...e.list,t.host]}))(e,t);case"REMOVE_VIRTUALIZATION_HOST":return((e,t)=>{var{host:a}=t;return{...e,list:(0,o.d1t)((0,o.OH4)("id",a.id),e.list)}})(e,t);case"UDPATE_VIRTUALIZATION_HOST":return((e,t)=>{var{host:a}=t;return{...e,list:(0,o.UID)((e=>e.id===a.id?{...e,...a}:e),e.list)}})(e,t);case"CLEAR_VIRTUALIZATION_HOSTS":return Ea();default:return e}},loadingHosts:r(L,"loadingVirtualizationHosts"),vmHostDashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{node:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,cpu:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,memory:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,datastore:arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],hostSystem:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},healthSensors:arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],network:arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],licenses:arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],healhSensorTypeFilter:arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],healhSensorStatusFilter:arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],hostPolicyList:arguments.length>10?arguments[10]:void 0,organization:arguments.length>11&&void 0!==arguments[11]?arguments[11]:null,location:arguments.length>12&&void 0!==arguments[12]?arguments[12]:null,triggeredConditions:arguments.length>13&&void 0!==arguments[13]?arguments[13]:[],activeJobs:arguments.length>14&&void 0!==arguments[14]?arguments[14]:[],maintenanceMode:arguments.length>15&&void 0!==arguments[15]?arguments[15]:null}}(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_DASHBOARD_DATASETS":return Ra(e,t);case"INIT_NODE_DATA":return{...e,node:t.node,organization:t.organization,location:t.location};case"CLEAR_NODE_DATA":return{...e,node:null};case"UPDATE_NODE_FRIENDLY_NAME":return((e,t)=>({...e,node:{...e.node,friendlyName:t.name}}))(e,t);case"UPDATE_HOST_NODE_OWNER":return Sa(e,t);case"SET_HOST_POLICIES_LIST":return{...e,hostPolicyList:t.policies};case"SET_HEALTH_SENSOR_TYPE_FILTER":return{...e,healhSensorTypeFilter:t.filterData};case"SET_HEALTH_SENSOR_STATUS_FILTER":return{...e,healhSensorStatusFilter:t.filterData};case"CLEAR_HEALTH_SENSOR_TYPE":return{...e,healhSensorTypeFilter:[]};case"CLEAR_HEALTH_SENSOR_STATUS":return{...e,healhSensorStatusFilter:[]};case"SET_NODE_STATUS":return((e,t)=>{var{triggeredConditions:a,activeJobs:n,maintenanceMode:r}=t;return{...e,triggeredConditions:a,activeJobs:n,maintenanceMode:r}})(e,t);case"CLEAR_STATUS":return{...e,triggeredConditions:[],activeJobs:[]};case"UPDATE_WARRANTY_DATES":return((e,t)=>{var a,{warrantyStartDate:n,warrantyEndDate:r}=null!==(a=null===t||void 0===t?void 0:t.payload)&&void 0!==a?a:{};return{...e,node:{...e.node,warrantyStartDate:n,warrantyEndDate:r}}})(e,t);case"SET_VM_HOST_ITAM_TAGS":return{...e,node:{...e.node,tags:t.tags}};default:return e}},loadingVmDashboardData:r(L,"loadingVmDashboardData"),vmGuestDashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{node:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,cpu:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,memory:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,storage:arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],guestSystem:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},network:arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],triggeredConditions:arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],activeJobs:arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],snapshot:arguments.length>10&&void 0!==arguments[10]?arguments[10]:[],maintenanceMode:arguments.length>11&&void 0!==arguments[11]?arguments[11]:null,organization:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,location:arguments.length>7&&void 0!==arguments[7]?arguments[7]:null}}(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_GUEST_DASHBOARD_DATASETS":return Aa(e,t);case"INIT_GUEST_NODE_DATA":return{...e,node:t.node,organization:t.organization,location:t.location};case"CLEAR_NODE_DATA":return{...e,node:null};case"SET_GUEST_NODE_STATUS":return((e,t)=>{var{triggeredConditions:a,activeJobs:n,maintenanceMode:r}=t;return{...e,triggeredConditions:a,activeJobs:n,maintenanceMode:r}})(e,t);case"CLEAR_STATUS":return{...e,triggeredConditions:[],activeJobs:[]};case"UPDATE_GUEST_NODE_OWNER":return Sa(e,t);case"SET_VM_GUEST_ITAM_TAGS":return{...e,node:{...e.node,tags:t.tags}};default:return e}},vmGuests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filters:{os:[],states:[]},data:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_VM_GUESTS":return{...e,filters:t.filters};case"FETCH_VM_GUESTS":return{...e,data:t.data};default:return e}},loadingVMGuests:r(L,"FETCH_VM_GUESTS",!1),runningVMGuestAction:r(L,"VM_RUNNING_ACTION",!1)});var Da={nodeRolePolicyMap:[]};const Na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_DISCOVERY_JOBS_FILTER"===t.type?t.discoveryJobsFilter:e};const Oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_".concat(e,"_LIST"):return a.list||[];case"ADD_".concat(e,"_ITEM"):return[...t,a.payload];case"REMOVE_".concat(e,"_ITEM"):return t.filter((e=>e.id!==a.payload));case"UPDATE_".concat(e,"_ITEM"):var{payload:n}=a;return t.map((e=>e.id===n.id?n:e));default:return t}}},Ma=(0,n.UY)({discoveryJobsList:Oa("DISCOVERY_JOBS"),discoveryJobsHistory:Oa("DISCOVERY_JOBS_HISTORY"),discoveryJobsFilter:Na}),La=(0,n.UY)({policies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NODE_ROLE_POLICY_MAP":return((e,t)=>{var{nodeRolePolicyMap:a}=t;return{...e,nodeRolePolicyMap:a}})(e,t);case"UPDATE_NODE_ROLE_POLICY_MAP":return((e,t)=>{var{nodeRoleId:a,policyId:n,policyName:r}=t,{nodeRolePolicyMap:i}=e,l=(0,o.UID)((0,o.gxm)((0,o.OH4)("nodeRoleId",a),(e=>({...e,policyId:n,policyName:r}))),i);return{...e,nodeRolePolicyMap:l}})(e,t);case"CLEAR_NODE_ROLE_POLICY_MAP":return Da;default:return e}},discoveryJobs:Ma,lodingNodeRoles:r(L,"nodeRolesList",!1)});var Pa=a(44354);var za=a(38726);const Ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[],textFilter:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CONTACT_LIST":return{...e,list:t.list};case"SET_CONTACT_FILTER":return{...e,textFilter:t.textFilter};case"DELETE_CONTACT":return{...e,list:(0,o.d1t)((0,o.OH4)("id",t.contactId),e.list)};case"ADD_CONTACT":return{...e,list:[...e.list,t.contact]};case"EDIT_CONTACT":return{...e,list:(0,o.UID)((e=>e.id===t.contact.id?t.contact:e),e.list)};default:return e}},Wa=(0,n.UY)({contacts:Ba,contactListSort:(0,n.UY)({sortBy:r(w,"contactListSort","name"),sortDirection:r(k,"contactListSort")})});var Ua=a(63014),Fa={newTickets:{},openTickets:{}};function Ka(e,t){var a,n,r,i,o;return{...e.openTickets,[t.ticket.id]:{ticket:t.ticket,original:t.ticket,editorData:{body:t.editorData.body,htmlBody:t.editorData.htmlBody,uploads:t.editorData.uploads,isPublic:t.editorData.isPublic,techniciansTagged:t.editorData.techniciansTagged},timeEntry:{remote:null===(a=t.editorData.timeEntry)||void 0===a?void 0:a.remote,startDate:null===(n=t.editorData.timeEntry)||void 0===n?void 0:n.startDate,agreementId:null===(r=t.editorData.timeEntry)||void 0===r?void 0:r.agreementId,billingType:null===(i=t.editorData.timeEntry)||void 0===i?void 0:i.billingType,agreementOriginType:null===(o=t.editorData.timeEntry)||void 0===o?void 0:o.agreementOriginType}}}}function Ha(e,t){var a,{shouldUpdateOriginal:n,ticketId:r}=t,i={...null===(a=e.openTickets[r])||void 0===a?void 0:a.ticket,...t.payload};return{...e.openTickets,[r]:{...e.openTickets[r],ticket:i,...n&&{original:i}}}}function Ga(e,t){var a,n={...null===(a=e.openTickets[t.ticketId])||void 0===a?void 0:a.editorData,...t.payload};return{...e.openTickets,[t.ticketId]:{...e.openTickets[t.ticketId],editorData:n}}}function ja(e,t){var{ticket:a,editorData:n}=t;return{...e.newTickets,[a.id]:{ticket:a,editorData:{body:n.body,htmlBody:n.htmlBody,isPublic:n.isPublic,uploads:n.uploads,techniciansTagged:n.techniciansTagged}}}}function Va(e,t){var{tempTicketId:a,payload:n}=t;return{...e.newTickets,[a]:{...e.newTickets[a],ticket:{...e.newTickets[a].ticket,...n}}}}function Xa(e,t){var{tempTicketId:a,payload:n}=t;return{...e.newTickets,[a]:{...e.newTickets[a],editorData:{...e.newTickets[a].editorData,...n}}}}function qa(e,t){var{payload:{id:a,uid:n}}=t;return(0,o.IDH)((e=>{var t=e.original.assignedAppUserId===a||e.ticket.assignedAppUserId===a,r=e.original.requesterUid===n||e.ticket.requesterUid===n,i={...(t||r)&&{original:(0,o.rO9)({...t&&{assignedAppUserId:()=>null},...r&&{requesterUid:()=>null}}),ticket:(0,o.rO9)({...t&&{assignedAppUserId:()=>null},...r&&{requesterUid:()=>null}})}};return(0,o.rO9)(i,e)}),e.openTickets)}var Ya={pendingEmailsCount:0};var Ja={emailTemplate:{globalFilter:""}};var $a={list:[],loading:!1};var Qa={};var en={list:[]},tn=(0,o.MRu)((0,o.vgT)("id"));const an=(0,n.UY)({configurations:Ua.Z,editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_NEW_TICKET":return{...e,newTickets:ja(e,t)};case"UPDATE_NEW_TICKET":return{...e,newTickets:Va(e,t)};case"UPDATE_NEW_TICKET_EDITOR_DATA":return{...e,newTickets:Xa(e,t)};case"ADD_NEW_TICKET_EDITOR_DATA_UPLOAD":return{...e,newTickets:{...e.newTickets,[t.tempTicketId]:{...e.newTickets[t.tempTicketId],editorData:{...e.newTickets[t.tempTicketId].editorData,uploads:[...e.newTickets[t.tempTicketId].editorData.uploads,t.payload.upload]}}}};case"REMOVE_NEW_TICKET_EDITOR_DATA_UPLOAD":return{...e,newTickets:{...e.newTickets,[t.tempTicketId]:{...e.newTickets[t.tempTicketId],editorData:{...e.newTickets[t.tempTicketId].editorData,uploads:(0,o.d1t)((0,o.OH4)("resourceId",t.resourceId),e.newTickets[t.tempTicketId].editorData.uploads)}}}};case"REMOVE_NEW_TICKET":return{...e,newTickets:(0,o.CEd)([t.tempTicketId],e.newTickets)};case"SET_REQUEST_UID":return{...e,requestUid:t.requestUid};case"ADD_TO_OPEN_TICKETS":return{...e,openTickets:Ka(e,t)};case"UPDATE_OPEN_TICKET":return{...e,openTickets:Ha(e,t)};case"REMOVE_OPEN_TICKET":return{...e,openTickets:(0,o.CEd)([t.ticketId],e.openTickets)};case"UPDATE_EDITOR_DATA":return{...e,openTickets:Ga(e,t)};case"ADD_EDITOR_DATA_UPLOAD":return{...e,openTickets:{...e.openTickets,[t.ticketId]:{...e.openTickets[t.ticketId],editorData:{...e.openTickets[t.ticketId].editorData,uploads:[...e.openTickets[t.ticketId].editorData.uploads,t.payload.upload]}}}};case"REMOVE_EDITOR_DATA_UPLOAD":return{...e,openTickets:{...e.openTickets,[t.ticketId]:{...e.openTickets[t.ticketId],editorData:{...e.openTickets[t.ticketId].editorData,uploads:(0,o.d1t)((0,o.OH4)("resourceId",t.resourceId),e.openTickets[t.ticketId].editorData.uploads)}}}};case"DELETE_USER_FROM_OPEN_TICKETS":return{...e,openTickets:qa(e,t)};default:return e}},timers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_TIMERS":return{...e,...t.payload};case"SET_TIMER":return{...e,[t.ticketId]:{isRunning:t.isRunning,timerSets:t.timerSets}};default:return e}},boards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,t=arguments.length>1?arguments[1]:void 0;return"TICKETING_SET_PENDING_EMAIL_COUNT"===t.type?{...e,pendingEmailsCount:t.ticketCount}:e},forms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TICKETING_SET_TICKET_FORMS_LIST":return{...e,list:t.list};case"TICKETING_SET_TICKET_FORMS_LOADING":return{...e,loading:t.loading};default:return e}},smtpHealth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TICKETING_SET_SMTP_HEALTH":return t.payload;case"TICKETING_UPDATE_SMTP_HEALTH_STATUS":return{...e,health:t.status};default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;return"TICKETING_SET_TICKET_STATUSES"===t.type?{...e,list:tn(t.payload)}:e},dataTables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TICKETING_SET_DATA_TABLES_DATA":return{...e,...t.payload};case"TICKETING_RESET_DATA_TABLES_DATA":var a=t.payload;return a in Ja?{...e,[a]:Ja[a]}:Ja;default:return e}}});const nn=(0,n.UY)({deviceGlobalCustomFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fields:{all:[],organization:[],location:[],node:[],end_user:[]},values:{organization:{},location:{},locations:{},node:{},end_user:{}},tabName:"",tabDescription:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEVICE_GLOBAL_CUSTOM_FIELDS":return((e,t)=>{var{definitionScope:a,fields:n,tabName:r,tabDescription:i}=t;return{...e,fields:{...e.fields,[(null===a||void 0===a?void 0:a.toLowerCase())||"all"]:n},tabName:r,tabDescription:i}})(e,t);case"SET_DEVICE_GLOBAL_CUSTOM_FIELD_VALUES":return((e,t)=>{var{definitionScope:a,values:n}=t;return{...e,values:{...e.values,[(null===a||void 0===a?void 0:a.toLowerCase())||"node"]:n}}})(e,t);case"RESET_DEVICE_GLOBAL_CUSTOM_FIELDS":return{fields:{all:[],organization:[],location:[],node:[],end_user:[]},values:{organization:{},location:{},locations:{},node:{},end_user:{}},tabName:"",tabDescription:""};default:return e}},deviceRoleCustomFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fields:[],values:{},tabName:"",tabDescription:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEVICE_ROLE_CUSTOM_FIELDS":return((e,t)=>({...e,fields:t.fields,tabName:t.tabName,tabDescription:t.tabDescription}))(e,t);case"SET_DEVICE_ROLE_CUSTOM_FIELD_VALUES":return((e,t)=>({...e,values:t.values}))(e,t);case"RESET_DEVICE_ROLE_CUSTOM_FIELDS":return{fields:[],values:{},tabName:"",tabDescription:""};default:return e}},deviceCoreAssetFields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fields:[],values:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CORE_ASSET_FIELDS":return((e,t)=>{var{fields:a}=t;return{...e,fields:a}})(e,t);case"SET_CORE_ASSET_FIELD_VALUES":return((e,t)=>{var{nodeId:a,values:n}=t;return{...e,values:{...e.values,[a]:n}}})(e,t);default:return e}},deviceCustomFieldsLoading:r(L,"deviceCustomFieldsLoading",!1)});const rn=(0,n.UY)({oidConfigsFromPolicy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_OIDS_FROM_POLICY":return t.oids;case"ADD_OIDS_TO_POLICY":return[...e,...t.oids];case"REMOVE_OID_FROM_POLICY":return(0,o.d1t)((0,o.goX)({oid:t.oid,mib:t.mib}),e);default:return e}}});var on={enabled:!1};var ln={agreements:{active:{globalFilter:""},inactive:{globalFilter:""},archived:{globalFilter:""}}};var sn={enabled:!1};var dn={path:[]};const cn=(0,n.UY)({configurations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;return"NINJA_PSA_SET_CONFIGURATIONS"===t.type?{...e,...t.payload}:e},dataTables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NINJA_PSA_SET_DATA_TABLES_DATA":return{...e,...t.payload};case"NINJA_PSA_RESET_DATA_TABLES_DATA":var a=t.payload;return a in ln?{...e,[a]:ln[a]}:ln;default:return e}},quickBooks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;return"NINJA_PSA_SET_QUICK_BOOKS_CONFIGURATION"===t.type?{...e,...t.payload}:e},clientDashboardPath:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NINJA_PSA_CLIENT_DASHBOARD_PATH":return{...e,path:t.path};case"CLEAR_NINJA_PSA_CLIENT_DASHBOARD_PATH":return dn;default:return e}}});const un=(0,n.UY)({checklists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{path:[]},t=arguments.length>1?arguments[1]:void 0;return"SET_CHECKLISTS_PATH"===t.type?((e,t)=>{var{path:a}=t;return{...e,path:a}})(e,t):e},delegate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},t=arguments.length>1?arguments[1]:void 0;return"SET_DOCUMENTATION_DELEGATE_NODES"===t.type?((e,t)=>{var{nodes:a}=t;return{nodes:a}})(0,t):e},knowledgeBase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{path:[]},t=arguments.length>1?arguments[1]:void 0;return"SET_KB_PATH"===t.type?((e,t)=>{var{path:a}=t;return{...e,path:a}})(e,t):e},appsAndServices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{path:[],documentTemplates:[],documentTemplateInstance:null,documentTemplateInstances:[],documentTemplateInstanceValues:{},documentTemplateToEdit:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DOCUMENT_PATH":return((e,t)=>{var{path:a}=t;return{...e,path:a}})(e,t);case"SET_DOCUMENT_TEMPLATES":return((e,t)=>{var{documentTemplates:a}=t;return{...e,documentTemplates:a}})(e,t);case"SET_DOCUMENT_TEMPLATE_INSTANCE":return((e,t)=>{var{documentTemplateInstance:a}=t;return{...e,documentTemplateInstance:a}})(e,t);case"SET_DOCUMENT_TEMPLATE_INSTANCES":return((e,t)=>{var{documentTemplateInstances:a}=t;return{...e,documentTemplateInstances:a}})(e,t);case"SET_DOCUMENT_TEMPLATE_INSTANCE_VALUES":return((e,t)=>{var{documentTemplateInstanceValues:a}=t;return{...e,documentTemplateInstanceValues:a}})(e,t);case"UPDATE_DOCUMENT_TEMPLATE_INSTANCE_VALUES":return((e,t)=>{var{updatedDocumentTemplateInstanceValues:a}=t;return{...e,documentTemplateInstanceValues:{...e.documentTemplateInstanceValues,...a}}})(e,t);case"SET_DOCUMENT_TEMPLATE_TO_EDIT":return((e,t)=>{var{documentTemplateToEdit:a}=t;return{...e,documentTemplateToEdit:a}})(e,t);default:return e}}});const pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,{pageExactResults:a,pageSuggestedResults:n,persistedExactResults:r,persistedSuggestedResults:i,pageValue:o,pageFilter:l,persistedValue:s,persistedFilter:d}=t;switch(t.type){case"SET_GLOBAL_SEARCH_PAGE_RESULTS":return{...e,pageExactResults:a,pageSuggestedResults:n};case"RESET_GLOBAL_SEARCH_PAGE_RESULTS":return{...e,pageExactResults:null,pageSuggestedResults:null};case"SET_GLOBAL_SEARCH_PAGE_QUERY":return{...e,pageValue:o,pageFilter:l};case"SET_GLOBAL_SEARCH_PERSISTED_RESULTS":return{...e,persistedExactResults:r,persistedSuggestedResults:i};case"SET_GLOBAL_SEARCH_PERSISTED_QUERY":return{...e,persistedValue:s,persistedFilter:d};default:return e}};var hn={enabled:!1};var gn={urls:null};const vn=(0,n.UY)({configurations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QUICK_CONNECT_SET_CONFIGURATIONS":return{...e,...t.payload};case"QUICK_CONNECT_TOGGLE_STATUS":return{...e,enabled:!e.enabled};default:return e}},connect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;return"QUICK_CONNECT_SET_URLS"===t.type?{...e,urls:t.urls}:e}});var mn={enabled:!1,scim:{enabled:!1},skipLoginMFA:{enabled:!1}};var fn=a(16475),yn={criticalApps:null,nodeRolesList:[],isAdvancedInstallerEnabled:null};const bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fn.ZK:return{...e,criticalApps:t.payload};case fn.$3:return{...e,nodeRolesList:t.payload.nodeRolesList,isAdvancedInstallerEnabled:t.payload.isAdvancedInstallerEnabled};default:return e}};var Tn=a(88650);const Cn=(0,n.UY)({systemVulnerabilities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{path:[],nodeVulnerabilitySeverities:{critical:0,high:0,medium:0,low:0}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VULNERABILITY_PATH":return((e,t)=>{var{path:a}=t;return{...e,path:a}})(e,t);case"SET_NODE_VULNERABILITY_SEVERITIES":return((e,t)=>({...e,nodeVulnerabilitySeverities:t}))(e,t.payload);default:return e}},vulnerabilityFilters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filters:Tn.uv},t=arguments.length>1?arguments[1]:void 0;return"SET_VULNERABILITY_FILTERS"===t.type?((e,t)=>{var{filters:a}=t;return{filters:a}})(0,t):e},patchingVulnerabilities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{patchName:""},t=arguments.length>1?arguments[1]:void 0;return"SET_PATCHING_FILTER"===t.type?((e,t)=>{var{patchName:a}=t;return{patchName:a}})(0,t):e}});const En=(0,n.UY)({discoveredDevices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lastDiscoveredJobId:null},t=arguments.length>1?arguments[1]:void 0;return"SET_LAST_DISCOVERED_JOB_ID"===t.type?((e,t)=>{var{lastDiscoveredJobId:a}=t;return{...e,lastDiscoveredJobId:a}})(e,t):e}});var Sn=a(16566);const wn=(0,n.UY)({activeDevices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("UPDATE_ACTIVE_DEVICE"===t.type){var{id:a,payload:n}=t,r=(0,o.qCK)((0,o.viO)(n),(0,o.Uth)({},a))(e);return(0,o.yGi)(a,r,e)}return e},activityList:Ke,alerts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ALERT":return e.concat(t.alert);case"REMOVE_ALERT":return e.filter((e=>e.id!==t.alertId));case"REMOVE_ALL_ALERTS":return[];default:return e}},application:s,backups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Pa.E3)(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CUSTOMER_EDITOR_SET_BACKUP_PRODUCT_CODE":return((e,t)=>{var{productCode:a}=t;return{...e,productCode:a}})(e,t);case"CUSTOMER_EDITOR_CHANGE_BACKUP_MODE":return((e,t)=>{var{mode:a}=t,n=e.productCode.toLowerCase();return{...e,[n]:{...e[n],mode:a,nodeIds:"MANUAL"===a?e[n].nodeIds:[]}}})(e,t);case"CUSTOMER_EDITOR_SELECT_BACKUP_NODE":return((e,t)=>{var{nodeIds:a}=t,n=e.productCode.toLowerCase();return{...e,[n]:{...e[n],nodeIds:a}}})(e,t);case"CUSTOMER_EDITOR_ENABLE_BACKUP":return((e,t)=>{var{nodeIds:a}=t,n=e.productCode.toLowerCase();return{...e,[n]:{...e[n],nodeIds:[...new Set([...e[n].nodeIds,...a])],excludedNodeIds:e[n].excludedNodeIds.filter((e=>!a.includes(e)))}}})(e,t);case"CUSTOMER_EDITOR_DISABLE_BACKUP":return((e,t)=>{var{excludedNodeIds:a}=t,n=e.productCode.toLowerCase();return{...e,[n]:{...e[n],excludedNodeIds:[...new Set([...e[n].excludedNodeIds,...a])],nodeIds:e[n].nodeIds.filter((e=>!a.includes(e)))}}})(e,t);case"CUSTOMER_EDITOR_SET_INCLUDED_AND_EXCLUDED_NODES":return((e,t)=>{var{nodeIds:a,excludedNodeIds:n}=t,r=e.productCode.toLowerCase();return{...e,[r]:{...e[r],nodeIds:a,excludedNodeIds:n}}})(e,t.data);case"CUSTOMER_EDITOR_SAVE_BACKUP_BANDWIDTH_THROTTLE":return((e,t)=>{var{bandwidthThrottle:a}=t,n=e.productCode.toLowerCase();return{...e,[n]:{...e[n],bandwidthThrottle:a}}})(e,t);case"CUSTOMER_EDITOR_SAVE_BACKUP_BANDWIDTH_THROTTLE_KB":return((e,t)=>{var{bandwidthThrottleKb:a}=t,n=e.productCode.toLowerCase();return{...e,[n]:{...e[n],bandwidthThrottleKb:a}}})(e,t);case"CUSTOMER_EDITOR_SAVE_BACKUP_NETWORK_LOCATION":return((e,t)=>{var{networkLocation:a}=t,n=e.productCode.toLowerCase();return{...e,[n]:{...e[n],networkLocation:a}}})(e,t);case"CUSTOMER_EDITOR_INITIALIZE_BACKUPS":return(0,Pa.E3)(t.backups);case"SET_DELETES_SCHEDULED":return(0,o.uhR)(["lockhart","deletesScheduled"],t.deletesScheduled,e);case"CUSTOMER_EDITOR_CHANGE_BACKUP_CLOUD_STORAGE_LOCATION":return((e,t)=>{var{cloudStorageLocation:a}=t,n=e.productCode.toLowerCase();return{...e,[n]:{...e[n],overrides:{...e[n].overrides,bucket:a}}}})(e,t);case"CUSTOMER_EDITOR_CHANGE_DEPLOY_TO":return((e,t)=>{var{deployTo:a}=t,n=e.productCode.toLowerCase();return{...e,[n]:{...e[n],deployTo:a}}})(e,t);default:return e}},configuration:da,contactListTab:Wa,credentials:ma,customerEditor:La,customFields:nn,customSnmp:rn,dashboard:Ne,dashboardTab:Le,deviceSearch:Y,documentation:un,endUsersListTab:Ue,general:S,gettingStarted:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMPLETE_GETTING_STARTED_STEP":return{...e,stepsCompleted:{...e.stepsCompleted,[t.stepId]:!0}};case"SET_GETTING_STARTED_STEP":return{stepsCompleted:e.stepsCompleted,currentStepId:t.stepId};case"SETUP_GETTING_STARTED":var{gettingStartedSteps:a}=t;if(!a)return e;var{currentStep:n,...r}=a,{isTrialLicense:i}=window.application.get("session").attributes,{userInvitationAcceptedTime:o}=window.application.get("session").attributes.user,l=(0,d.$F)(o,d.z1,d.oB),s=!i&&!r.finishTraining&&l?Object.keys(r).reduce(((e,t)=>({...e,[t]:!0})),{}):r,u=n||"stepOne";return{currentStepId:r.finishTraining?"finishTraining":u,stepsCompleted:s};default:return e}},globalSearch:pn,identityProvider:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SAML_CONFIGURATION":return{...e,...t.payload};case"SET_SCIM_STATUS":return{...e,scim:{...e.scim,enabled:t.enabled}};default:return e}},integrations:Ae,locations:function(e,t){return ua(e,t)},mdmConfiguration:bn,ninjaPSA:cn,nms:En,nodeApprovals:Ca,organizationLocations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_ORGANIZATION_LOCATIONS_LIST"===t.type?t.locations:e},organizations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ORGANIZATION_LIST":return t.organizations;case"REMOVE_ORGANIZATION":return(0,o.d1t)((0,o.OH4)("id",t.payload),e);default:return e}},osPatches:te,policyEditor:la,psa:function(e,t){return"DELETE_PSA"===t.type&&(window.psaConnect.set("psaType",null),e=void 0),Zt(e,t)},quickConnect:vn,remoteSupport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za.$2,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REMOTE_SUPPORT_SET_SUPPORT_FOLDERS":return{...e,supportFolders:t.payload};case"REMOTE_SUPPORT_SET_SETTINGS":var{enabled:a,expirationTTL:n,connections:r,installMessage:i}=t.payload;return{...e,enabled:a,expirationTTL:n,connections:r,installMessage:i};default:return e}},scheduledTasks:function(e,t){return va(e,t)},scripting:Jt,session:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_SESSION":var r={...a,...n.updatedProperties};return null!==(e=window.application)&&void 0!==e&&null!==(t=e.attributes)&&void 0!==t&&t.session&&(window.application.attributes.session.attributes=r),r;case"UPDATE_DIVISIONCONFIG":return{...a,divisionConfig:(0,o.YjB)((0,o.OH4)("name",n.key),a.divisionConfig)?(0,o.UID)((0,o.gxm)((0,o.OH4)("name",n.key),(0,o.yGi)("enabled",n.value)),a.divisionConfig):[...a.divisionConfig,{name:n.key,enabled:n.value}]};case"SET_SESSION":var{session:i}=n;return{...i,origin:"localhost"!==window.location.hostname&&i["application.origin"]?(0,o.S1n)(n.session["application.origin"]):window.location.origin};case"UPDATE_PSA_TYPE":return window.psaConnect.set("psaType",n.psaType),{...a,psaType:n.psaType};case"DELETE_SESSION_AUTHUSER":return(0,o.ghH)(["connect","authUser"],a);default:return a}},softwarePatchManagement:Se,softwareTab:ce,ticketing:an,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.user;case"UPDATE_USER_EMAIL":return{...e,email:t.email};case"UPDATE_USER_PHONE":return{...e,phone:t.phone};default:return e}},usersListTab:Be,virtualization:Za,vulnerabilities:Cn,websiteBranding:function(e,t){return Ot(e,t)},browserManagement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{...Sn.AN},t=arguments.length>1?arguments[1]:void 0;if("BROWSER_MANAGEMENT_SET_SETTINGS"===t.type){var{enabled:a,isolationPageContentMessage:n}=t.payload;return{...e,enabled:a,isolationPageContentMessage:n}}return e}})},63014:(e,t,a)=>{a.d(t,{S:()=>n,Z:()=>i});var n={enabled:!1,mode:null},r={enabled:!1,fromEmailDomain:null,useFromEmailDomain:!1,timerSettings:n,attachmentSettings:{canAttachFiles:!1,requireAuthToView:!1},emailNotificationSettings:{onAssigned:{technician:!0},onRemoved:{technician:!0},onCCAdded:{technician:!0,endUserOrContact:!0},onTicketCreated:{onEditor:{technician:!0,endUserOrContact:!0},onEmail:{technician:!0,endUserOrContact:!0}},onTicketUpdated:{toRequester:{technician:!0,endUserOrContact:!0},toCC:{technician:!0,endUserOrContact:!0},toAssignee:{technician:!0}},onPrivateComment:{toRequester:{technician:!0},toCC:{technician:!0},toAssignee:{technician:!0}},onPublicComment:{toRequester:{technician:!0,endUserOrContact:!1},toCC:{technician:!0,endUserOrContact:!0},toAssignee:{technician:!0}}},businessHours:{twentyFourSeven:!0,days:[]}};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;return"TICKETING_SET_CONFIGURATIONS"===t.type?{...e,...t.payload}:e}},58496:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(55113),r=a(6775);const i=(0,n.P1)([e=>e.data,e=>e.sortBy,e=>e.sortDirection],r.sortMultiTypeTableList)},98545:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(23756);function r(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||n.qC,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return window.store=(0,n.MT)(e,t,a((0,n.md)(...i))),window.store}},46928:(e,t,a)=>{a.d(t,{Z:()=>n});const n={prefix:"fac",iconName:"fileVicio",icon:[384,512,[],"0030","M0.741,20.287L0.292,491.395C1.795,502.087 10.15,509.667 21.136,511.881L362.6,511.769C374.591,509.68 381.903,503.064 383.89,491.299L383.857,159.925L245.265,159.842C232.885,157.141 226.037,149.422 223.987,137.348L224.027,-0.159L22.46,-0.14C10.743,1.949 3.472,8.726 0.741,20.287ZM215.158,439.827C212.406,447.06 176.997,446.522 172.354,439.304L72.043,265.561C68.337,259.141 70.54,250.921 76.959,247.215L100.22,233.785C106.639,230.079 114.86,232.281 118.566,238.701L193.907,369.195L268.946,239.223C272.652,232.804 280.873,230.601 287.292,234.307L310.553,247.737C316.973,251.444 319.175,259.664 315.469,266.083L215.158,439.827ZM256.276,-0.102L256.292,128.246L383.335,127.565C384.449,119.666 382.748,112.839 378.798,106.87L278.01,5.716C272.261,1.707 265.129,-0.389 256.276,-0.102Z"]}},14717:(e,t,a)=>{a.d(t,{Z:()=>n});const n={prefix:"fac",iconName:"teamviewer",icon:[256,256,[],"0001","M113.083,0.269c-17.048,2.572 -30,6.572 -43.905,13.715c-34.571,17.619 -58.952,49.904 -67.333,89.047c-2.476,11.333 -2.476,38 0,49.333c11.047,51.715 49.333,90 101.047,101.048c11.334,2.476 38,2.476 49.334,0c51.714,-11.048 89.999,-49.333 101.047,-101.048c2.476,-11.333 2.476,-38 0,-49.333c-11.048,-51.333 -49.047,-89.619 -100.19,-100.857c-6.857,-1.524 -33.905,-2.762 -40,-1.905Zm-18.286,88.095c0.952,2 0.667,3.239 -1.048,6.858c-2.761,5.714 -2.761,8 0,9.904c1.905,1.334 6.858,1.524 33.81,1.524c26.952,0 31.905,-0.19 33.809,-1.524c2.762,-1.904 2.762,-4.381 0.096,-9.619c-1.334,-2.476 -1.81,-4.952 -1.429,-6.476c0.667,-2.667 4.095,-4.476 6.572,-3.428c5.428,2.095 65.428,38 66.666,39.809c1.333,2 1.333,2.572 0,4.572c-1.238,1.809 -61.238,37.714 -66.666,39.809c-2.477,1.048 -5.905,-0.762 -6.572,-3.429c-0.381,-1.523 0.095,-4 1.429,-6.476c2.666,-5.238 2.666,-7.714 -0.096,-9.619c-3.333,-2.381 -64.285,-2.381 -67.619,0c-2.761,1.905 -2.761,4.381 -0.095,9.619c1.334,2.476 1.81,4.953 1.429,6.476c-0.667,2.667 -4.095,4.477 -6.572,3.429c-5.428,-2.095 -65.428,-38 -66.666,-39.809c-1.334,-2 -1.334,-2.572 0,-4.572c1.238,-1.809 61.428,-37.809 66.666,-39.809c2.477,-0.953 5.143,0.19 6.286,2.761Z"]}},21622:(e,t,a)=>{a.d(t,{Z:()=>l});a(4519);var n=a(55460),r=a(75493),i=a(51201),o=a(77537);const l=e=>{var{count:t,color:a="colorTextStrong",bold:l,...s}=e;return(0,o.tZ)(r.xu,{borderRadius:10.5,padding:(0,n.Oy)(1,0),width:"40px",textAlign:"center",...s,children:(0,o.tZ)(i.Z,{lineHeight:1,color:a,size:"xs",bold:l,children:t})})}},86185:(e,t,a)=>{a.d(t,{Z:()=>b});var n=a(41554),r=a(4519),i=a(27573),o=a(8456),l=a(67009),s=a(55460),d=a(48548),c=a(6775),u=a(75493),p=a(98521),h=a(24573),g=a(75185),v=a.n(g),m=a(77537),f=(0,n.Z)("nav",{target:"e1ejwf241"})("font-size:",(0,s.y3)("sm"),";margin-bottom:",(e=>{var{marginBottom:t}=e;return t||o.default.spacing[4]}),";width:",(e=>{var{width:t}=e;return t||"100%"}),";display:flex;align-items:center;ol{list-style:none;}.disabled{cursor:default;color:",(e=>{var{theme:t}=e;return t.colorTextDisabled}),";}.breadcrumb-history-root-icon{width:38px;line-height:1;}.breadcrumb-history-path-wrapper{flex:1;min-width:1px;.breadcrumb-history-path{text-overflow:ellipsis;padding:2px 0;display:flex;flex-wrap:nowrap;margin:0;.last-link{color:",(e=>{var{theme:t}=e;return t.colorTextWeak}),";font-weight:500;text-overflow:ellipsis;overflow:hidden;}.active-link{color:",(e=>{var{theme:t}=e;return t.colorTextWeak}),";font-weight:500;}li{white-space:nowrap;}}.clickable-link{color:",(e=>{var{theme:t,isLink:a}=e;return a?t.colorTextAction:t.colorTextWeakest}),";cursor:pointer;&:hover{text-decoration:underline;}}.breadcrumb-history-path-dropdown{position:absolute;background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundWidget}),";border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeak}),";width:auto;z-index:2000;padding-inline-start:0;li:hover:not(.disabled){background-color:",(e=>{var{theme:t}=e;return t.colorForegroundHover}),";text-decoration:underline;}.breadcrumb-history-path-dropdown-path{width:300px;display:flex;align-items:center;padding:",o.default.spacing[2],";justify-content:space-between;overflow-wrap:anywhere;}}}"),y=(0,n.Z)(l.CaretRightIcon,{target:"e1ejwf240"})("color:",(e=>{var{theme:t}=e;return t.colorTextWeakest}),";");const b=(0,r.memo)((e=>{var t,a,{history:n,setHistory:o,getItemUrl:l,handleClick:g,separator:b,rootRenderer:T,customRenderer:C,disableLastLink:E,width:S,isLink:w,marginBottom:I=(0,s.Oy)(4),disableActiveLastLink:k=!1,disableCollapse:_=!1}=e,[x,R]=(0,d.DJ)([]),A=(0,r.useRef)(null),Z=(0,r.useRef)(null),[D,N]=(0,d.DJ)(!1);(0,r.useEffect)((()=>{var e=(0,c.debounce)((()=>{var e,t;if(null!==(e=Z.current)&&void 0!==e&&e.childNodes){R([]);var a=null===(t=Z.current)||void 0===t?void 0:t.childNodes,r=a.length,i=[];if(r){for(var o=a[0].offsetWidth+50,l=r-1;l>=0;l--){var s=a[l];s.style.display="inline",o+=s.offsetWidth,n[l]&&0!==l&&l!==r-1&&!_&&(o>=A.current.offsetWidth&&(i=[...i,{node:n[l],historyIndex:l}],s.style.display=l>1?"none":"inline"))}R(i.reverse())}else R(i)}}),160);return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[n,R,_]);var O=(0,m.tZ)(y,{size:"xs"}),M=e=>b?"function"===typeof b?b(e):b:O,L=()=>N(!0),P=()=>(0,c.debounce)(N(!1),1e3),z=e=>{var{node:t,historyIndex:a}=e;if(g)g({node:t,historyIndex:a});else{if(t.path===window.location.hash)return;null===o||void 0===o||o(0===a?[]:(0,i.tPi)(0,a+1,n)),window.location.hash=t.path}},B=n.map(((e,t)=>{var{path:a,name:r,active:i,id:o=t}=e,s="".concat(o,"-").concat(r),d=x.some((e=>{var{node:t}=e;return t.path===a})),u=n.length>1?M(e):"",g=t===n.length-1,f=!_&&d&&1===t;if(E&&g)return k?(0,m.tZ)("li",{className:_?i?"active-link":"disabled":"last-link","aria-label":r,children:r},s):(0,m.tZ)("li",{className:"last-link","aria-label":r,children:r},s);if(f)return(0,m.tZ)("li",{className:"clickable-link",children:(0,m.BX)(h.kG,{onKeyDown:e=>{((0,p.r$)(e)||(0,p.Xq)(e))&&(D?P():L())},onMouseEnter:L,children:["...",u]})},s);var y=(0,c.isNilOrEmpty)(a),b=v()({disabled:(0,c.isNilOrEmpty)(a),"clickable-link":!(0,c.isNilOrEmpty)(a),"active-link":k&&i});return(0,m.tZ)("li",{className:y?"disabled":"",children:(0,m.tZ)("a",{href:(null===l||void 0===l?void 0:l(e))||window.location.href,className:b,onClick:a=>{a.preventDefault(),!y&&z({node:e,historyIndex:t})},children:C?C(r,u):(0,m.BX)(m.HY,{children:[r,u]})})},s)})),W=!!x.length&&(0,m.tZ)("ol",{className:"breadcrumb-history-path-dropdown",children:x.map((e=>{var{node:t,historyIndex:a}=e,{path:n,name:r,id:i}=t,o="".concat(i,"-").concat(r),l=M(t),d=(0,c.isNilOrEmpty)(n);return(0,m.tZ)("li",{className:"breadcrumb-history-path-dropdown-path".concat(d?" disabled":""),children:(0,m.BX)(h.kG,{onClick:e=>{e.preventDefault(),!d&&z({node:t,historyIndex:a})},children:[(0,m.tZ)("a",{href:n||"#!",className:d?"disabled":"clickable-link",children:C?C(r,l):r}),(0,m.tZ)(u.Fe,{marginLeft:(0,s.Oy)(1),children:l})]})},"dropdown_".concat(o))}))}),U=null===(t=Z.current)||void 0===t||null===(a=t.childNodes[0])||void 0===a?void 0:a.offsetWidth;return(0,m.BX)(f,{width:S,isLink:w,marginBottom:I,onMouseLeave:P,children:[null===T||void 0===T?void 0:T(),(0,m.BX)("div",{"data-testid":"breadcrumbs-wrapper",className:"breadcrumb-history-path-wrapper",ref:A,children:[(0,m.tZ)("ol",{"data-testid":"breadcrumbs-history",className:"breadcrumb-history-path",ref:Z,children:B}),(0,m.tZ)(u.xu,{position:"relative",left:null!==U&&void 0!==U?U:"0",children:D&&W})]})]})}))},19401:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(27573),r=a(67009),i=a(50176),o=a(34928),l=a(66037),s=a(6775),d=a(77537),c=e=>{var{copyableDropdownOptions:t}=e;return(0,d.tZ)(i.ME,{buttonRenderer:()=>(0,d.tZ)("button",{className:"data-table-copy-to-clipboard","data-visible-on-row-hover":!0,onClick:e=>e.stopPropagation(),children:(0,d.tZ)(r.CopyIconLightSvg,{})}),dropdownRenderer:()=>(0,n.UID)((e=>(0,d.tZ)(i.kN,{token:e.token,onClick:async()=>{var t,a=await(null===(t=e.getAsyncValue)||void 0===t?void 0:t.call(e));(0,s.clipboardWriteText)(a)}},e.token)))(t),dropdownMargin:!0,alignRight:!0})};const u=e=>{var{value:t,copyableDropdownOptions:a}=e;return null!==a&&void 0!==a&&a.length?(0,d.tZ)(c,{copyableDropdownOptions:a}):(0,d.tZ)(l.ZP,{label:(0,o.kIE)("general.copyToClipboard"),children:(0,d.tZ)("button",{className:"data-table-copy-to-clipboard","data-visible-on-row-hover":!0,"data-clipboard-text":t,onClick:()=>(0,s.clipboardWriteText)(t),children:(0,d.tZ)(r.CopyIconLightSvg,{})})})}},98835:(e,t,a)=>{a.d(t,{P:()=>c});var n=a(4519),r=a(67009),i=a(48548),o=a(6775),l=a(37844),s=a(50836),d=a(77537);var c=(0,n.memo)((e=>{var{attachmentId:t,size:a,defaultIconName:c}=e,[u,p]=(0,n.useState)(null),[h,g]=(0,n.useState)(!1),v=(0,i.s4)();if((0,n.useEffect)((()=>{if(t){(async()=>{try{var e=function(e){var t=window.localStorage.getItem("ninja:signed-url:".concat(e));if(!t)return null;var[a,n]=t.split(" ");return Date.now()-parseInt(a)>55e3?null:{signedUrl:n}}(t),{signedUrl:a}=e||await(0,l.jKd)(t);a!==(null===e||void 0===e?void 0:e.signedUrl)&&function(e,t){window.localStorage.setItem("ninja:signed-url:".concat(e),"".concat(Date.now()," ").concat(t))}(t,a),v.current&&(a?(p(a),g(!1)):g(!0))}catch(n){g(!0),(0,o.ninjaReportError)(n)}})()}}),[t,v]),h){var m=c?r[c]:null;return m&&(0,d.tZ)(m,{})}return u?(0,d.tZ)("img",{height:null!==a&&void 0!==a?a:"20",width:null!==a&&void 0!==a?a:"20",src:u,alt:""}):(0,d.tZ)(s.ZP,{height:"28px",width:"28px"})}))},64762:(e,t,a)=>{a.d(t,{BN:()=>o,Cl:()=>i,Xv:()=>r,ZP:()=>l});var n=a(77537),r="data-table-text",i=e=>{var{textWrap:t,textWrapLineLimit:a}=e;return"text ".concat(t?"":"no-text-wrap"," ").concat(t&&a?"clamp-lines":"")},o=e=>{var{textWrap:t,textWrapLineLimit:a}=e;return{...t&&a&&{WebkitLineClamp:a}}};const l=e=>{var{textWrap:t,textWrapLineLimit:a,extraClassName:l,value:s,ariaLabel:d}=e;return(0,n.tZ)("div",{className:"".concat(r," ").concat(i({textWrap:t,textWrapLineLimit:a})," ").concat(l||""),style:o({textWrap:t,textWrapLineLimit:a}),"aria-label":d,children:s})}},79637:(e,t,a)=>{a.d(t,{Z:()=>Ie});var n=a(4519),r=a(96560),i=a(72748),o=a(21840),l=a(44164),s=a(65230),d=a(27573),c=a(67009),u=a(8456),p=a(55460),h=a(48548),g=a(15064),v=a(6775),m=a(34928),f=a(75493),y=a(29374),b=a(52254),T=a(77537);const C=(0,n.memo)((function(e){var{isLoading:t,lastUpdated:a,onlyShowAfter5Minutes:r}=e,[i,o]=(0,n.useState)(null),l=r&&i<=5;return(0,n.useEffect)((()=>{o((0,b.xH)(a));var e=setInterval((()=>{o((0,b.xH)(a))}),6e4);return()=>clearInterval(e)}),[a]),!l&&(0,T.tZ)(y.Z,{type:"bodyXs",color:t?"colorTextDisabled":"colorTextWeakest",children:(0,v.localized)("Last refresh: {{time}}",{time:(0,v.time)(a)})})}));var E=a(50176),S=a(18370),w=a(64762),I=a(32754),k=a(56830),_=a(66037),x=e=>{var{textWrap:t,textWrapLineLimit:a,value:r,mouseEnteredRow:i,tooltip:o,extraClassName:l}=e,s=(0,n.useRef)(),d=(0,n.useRef)(),c="string"===typeof r&&r.includes(" ")&&t,[u,p]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if(!o){var e=s.current,t=d.current,a=(c?null===e||void 0===e?void 0:e.offsetHeight:null===e||void 0===e?void 0:e.offsetWidth)||0,n=((c?null===t||void 0===t?void 0:t.offsetHeight:null===t||void 0===t?void 0:t.offsetWidth)||0)-1;a<n&&p(a<n)}}),[c,i,o,r]);var h=i&&(0,m.h7H)(r)&&(o||u),g=(0,T.tZ)("div",{className:"".concat(w.Xv," ").concat((0,w.Cl)({textWrap:c,textWrapLineLimit:a})," ").concat(h?"enable-tooltip":""," ").concat(!c||a?"show-ellipsis":""," ").concat(l||""),style:(0,w.BN)({textWrap:c,textWrapLineLimit:a}),ref:s,children:(0,T.tZ)("span",{ref:d,children:r})});return h?(0,T.tZ)(_.ZP,{label:null!==o&&void 0!==o?o:r,children:g}):g};const R=(0,n.memo)(x);var A=a(19401),Z=a(35036),D=a(98835),N={[S.k2.ANCHOR]:e=>{var{children:t,className:a="",...n}=e;return(0,T.tZ)(E.BY,{...n,className:"".concat(a," data-table-interactive-cell"),children:t})},[S.k2.BUTTON_LINK]:e=>{var{children:t,className:a="",...n}=e;return(0,T.tZ)("button",{...n,className:"".concat(a," data-table-button-link data-table-interactive-cell"),children:t})},[S.k2.ICON]:e=>{var t;return null===(t=c[e.svgIconName])||void 0===t?void 0:t.call(c,e)},[S.k2.TEXT]:n.Fragment,[S.k2.TAGS]:e=>(0,T.tZ)(E.$G,{wrap:e.hasMaxWidth,...e,renderFullVersion:!1}),[S.k2.LAZY_RENDERER]:e=>(0,T.tZ)(k.Z,{...e}),[S.k2.STICKY_POPOVER]:e=>(0,T.tZ)(Z.Z,{...e}),[S.k2.PROGRESS]:e=>(0,T.tZ)(I.Z,{...e})},O=(0,n.memo)((e=>{var{graphic:t,graphicContainerStyles:a}=e;return t&&(0,T.tZ)("div",{className:"data-table-graphic-wrapper",style:a,children:t})})),M=e=>{var t,a,r,i,o,s,d,u,h,g,m,f,{column:y,value:b,mouseEnteredRow:C,originalRow:I,tableContainerWidth:k,hasMultipleVisibleColumns:_}=e,x=(0,l.u)(),{textWrap:Z,textWrapLineLimit:M,getCellTypeProps:L,getCellInlineTags:P,getCellBadgeProps:z,getDescription:B,getImg:W,getIconName:U,getIconProps:F,getGraphicContainerStyles:K,bold:H,isCopyable:G,secondaryIconProps:j,maxWidth:V,minWidth:X,id:q,tooltipAccessor:Y,ignoreTooltip:J,getCopyableDropdownProps:$,getCellSizeProps:Q}=y,ee=(null===Q||void 0===Q?void 0:Q({tableContainerWidth:k,originalRow:I}))||{},te=null!==(t=ee.maxWidth)&&void 0!==t?t:V,ae=null!==(a=ee.minWidth)&&void 0!==a?a:X,{type:ne,props:re,backgroundColor:ie,iconTooltipLabel:oe,error:le,required:se,rightAlign:de}=(null===L||void 0===L?void 0:L(I))||{},ce=null!==(r=null===P||void 0===P?void 0:P(I))&&void 0!==r?r:null,ue=null!==(i=N[ne])&&void 0!==i?i:N.Text,pe=null===B||void 0===B?void 0:B(I),he=null===W||void 0===W?void 0:W(I),ge=null===U||void 0===U?void 0:U(I),ve=null===F||void 0===F?void 0:F(I),me=null===K||void 0===K?void 0:K(I),fe=ge?c[ge]:null,ye=null===ve||void 0===ve||null===(o=ve.getTooltipLabel)||void 0===o?void 0:o.call(ve,I),be=null===j||void 0===j||null===(s=j.getIconName)||void 0===s?void 0:s.call(j,I),Te=null===j||void 0===j||null===(d=j.getIconColor)||void 0===d?void 0:d.call(j),Ce=be?c[be]:null,Ee=null===j||void 0===j||null===(u=j.getIconTooltipLabel)||void 0===u?void 0:u.call(j,I),Se=null===j||void 0===j||null===(h=j.getIconTooltipVariant)||void 0===h?void 0:h.call(j,I),we=null===$||void 0===$||null===(g=$(I))||void 0===g?void 0:g.options,Ie=null!==he&&void 0!==he&&he.attachmentId?(0,T.tZ)(D.P,{size:he.size,attachmentId:he.attachmentId,defaultIconName:he.defaultIconName}):he?(0,T.tZ)("img",{height:null!==(m=he.size)&&void 0!==m?m:"20",width:null!==(f=he.size)&&void 0!==f?f:"20",src:he.src,style:he.style,alt:""}):null,ke=fe?(0,T.tZ)(fe,{...ve}):Ie||null,_e=te&&te!==Number.MAX_SAFE_INTEGER,xe=(e=>{var{value:t,required:a}=e;if(null===t||void 0===t)return"-";var n="string"===typeof t&&t.length>1e3?(0,v.ellipsis)(t,1e3):t;return a?"".concat(n," *"):n})({value:b,required:se}),Re=(e=>{if(null===e||void 0===e)return(0,v.localized)("Blank")})(b),Ae=!J&&(Y||_e),Ze=(0,n.useCallback)((()=>Y?"function"===typeof Y?Y(I):Y:null),[I,Y]),De=Ae?(0,T.tZ)(R,{textWrap:Z,textWrapLineLimit:M,extraClassName:H?"bold":"",value:xe,mouseEnteredRow:C,tooltip:Ze(),color:le?"red":""}):(0,T.tZ)(w.ZP,{extraClassName:"".concat(H?"bold":"").concat(J?" show-ellipsis":""),value:xe,ariaLabel:Re,color:le?"red":""}),Ne=(0,n.useCallback)((()=>pe?_e?(0,T.tZ)(R,{textWrap:Z,textWrapLineLimit:M,value:pe,mouseEnteredRow:C,extraClassName:"description"}):(0,T.tZ)(w.ZP,{textWrap:Z,textWrapLineLimit:M,extraClassName:"description",value:pe}):null),[pe,C,_e,Z,M]),Oe=oe&&C?(0,T.tZ)(E.u,{label:oe,children:(0,T.tZ)(ue,{...re})}):(0,T.tZ)(ue,{...re}),Me=_&&(ne===S.k2.CURRENCY||ne===S.k2.NUMBER||de);return(0,T.tZ)("td",{tabIndex:0,"data-no-pad":"actions"===q,"data-error":le,"data-test-column-id":q,style:{...ie&&{backgroundColor:ie},...ne===S.k2.LAZY_RENDERER&&ee.height&&{height:ee.height}},...ne===S.k2.LAZY_RENDERER&&{"data-lazy-renderer-cell":!0},className:b?"":"no-value",children:(0,T.BX)("div",{className:"data-table-cell ".concat(Me?"right-aligned":""," gap-4"),style:{...(null===re||void 0===re?void 0:re.isCenter)&&(ne===S.k2.ICON||"-"===xe)&&{paddingRight:"0"},..._e&&{maxWidth:te},...ae&&{minWidth:ae},...Me&&{justifyContent:"end"},...ne===S.k2.LAZY_RENDERER&&{width:"max-content"},..."undefined"!==typeof ee.paddingRight&&{paddingRight:ee.paddingRight}},children:[C&&ye&&ke?(0,T.tZ)(E.u,{label:ye,children:(0,T.tZ)(O,{graphic:ke,graphicContainerStyles:me})}):(0,T.tZ)(O,{graphic:ke,graphicContainerStyles:me}),(0,T.BX)("div",{className:"data-table-text-wrapper ".concat(Ae||J?"":"flex-shrink-0"),style:{...(null===re||void 0===re?void 0:re.isCenter)&&{margin:"0 auto"}},children:[ne&&"Text"!==ne?ne===S.k2.ICON?Oe:ne===S.k2.TAGS?(0,T.tZ)(ue,{...re,mouseEnteredRow:C,hasMaxWidth:_e}):(0,T.tZ)(ue,{...re,...ne===S.k2.LAZY_RENDERER&&{mouseEnteredRow:C,tableContainerWidth:k},children:De}):De,Ne()]}),ce&&(0,T.tZ)(E.$G,{labels:ce,mouseEnteredRow:!0,renderFullVersion:!1}),(()=>{var e=null===z||void 0===z?void 0:z(I);if(!e)return null;var t=(0,T.tZ)(E.Ct,{backgroundColor:x.colorBackgroundAccentNeutral,display:"flex",alignItems:"center",justifyContent:"center",padding:[0,(0,p.Oy)(2)],width:"initial",height:"15px",bold:!0,...e});return e.tooltipLabel&&C?(0,T.tZ)(E.u,{label:e.tooltipLabel,children:t}):t})(),Ce&&(0,T.tZ)("div",{className:"secondary-icon-container",children:C?(0,T.tZ)(E.u,{label:Ee,...Se&&{variant:Se},children:(0,T.tZ)("span",{className:"cell-span","data-visible-on-row-hover":!0,children:(0,T.tZ)(Ce,{...Te?{color:Te}:{color:"colorTextWeak"}})})}):null}),G&&b&&(0,T.tZ)("div",{style:{width:"30px"},children:C?(0,T.tZ)(A.Z,{value:b,copyableDropdownOptions:we}):null})]})})};const L=(0,n.memo)(M);const P=e=>{var t,a,r,{cell:i,cellId:o,row:l,actions:s,lastCellFocused:u,multipleRowsSelected:g,isLoading:v,resetData:f,mouseEnteredRow:y,isShiftPressed:b,hideActions:C,actionButtons:S,onOpenChange:w,getRowActions:I}=e,[k,_]=(0,h.DJ)(null),[x,R]=(0,h.DJ)(!1),[A,Z]=(0,h.DJ)({}),[D,N]=(0,h.DJ)({}),O=k||s,M=(0,n.useRef)(null),{current:L}=(0,p.s4)(),P=async e=>{var{id:t,getOptions:a}=e;try{Z((e=>({...e,[t]:!0})));var n=await a(l.original);N((e=>({...e,[t]:n})))}catch(r){(0,m.iv2)(r),N((e=>({...e,[t]:[]})))}finally{Z((e=>({...e,[t]:!1})))}},[z,B]=(0,h.DJ)(0),W=(null===O||void 0===O||null===(t=O.primary)||void 0===t?void 0:t.length)||(null===O||void 0===O||null===(a=O.secondary)||void 0===a?void 0:a.length)||I,U=u.id===l.cells.length-1&&u.rowId===l.id,F=(null===S||void 0===S?void 0:S.length)>0&&(null===S||void 0===S?void 0:S.length)<=3,K=(0,n.useMemo)((()=>{var e;return L?(null===M||void 0===M||null===(e=M.current)||void 0===e?void 0:e.children)||(null===M||void 0===M?void 0:M.current):[]}),[L]);if((0,n.useEffect)((()=>{if(U&&!g){var e=b?K.length-1:0,t=K[e];if(t){var a=t.querySelector("button");B(e),null===a||void 0===a||a.focus()}}}),[U,g,K,b,B]),!W||v||C)return null;var H=(0,d.qCK)((0,d.yGi)("resetData",f),(0,d.yGi)("selected",[l.original]),(0,d.gxm)((e=>{var t;return(null===(t=e.options)||void 0===t?void 0:t.length)>0}),(e=>(0,d.yGi)("options",e.options.filter((e=>{var t,a;return null===(t=null===(a=e.show)||void 0===a?void 0:a.call(e,l.original))||void 0===t||t})).map(H))(e)))),G=(0,d.qCK)((0,d.gxm)((()=>{var e;return!(null===O||void 0===O||null===(e=O.secondary)||void 0===e||!e.length)}),(0,d.zBu)((null===O||void 0===O||null===(r=O.primary)||void 0===r?void 0:r.length)-1,(0,d.yGi)("splitAfter",!0))),(0,d.hXT)((e=>{var{options:t}=e;return!t||t.length>0})),(0,d.UID)(H),(0,d.hXT)((e=>{var{hideRowAction:t}=e;return!(null!==t&&void 0!==t&&t(l.original))})),d.xHg,d.VO0,(0,d.CEd)(["row"]))(O);return(0,T.tZ)("td",{"data-no-pad":!0,...i.getCellProps(),className:"data-table-cell-actions","data-test-column-id":i.column.id,...U&&{onKeyDown:e=>{if("Tab"===e.key){if(e.shiftKey?!z:z===K.length-1)return;var t,a=e.shiftKey?z-1:z+1;if(a<0&&(a=0),!g)(null===(t=K[a])||void 0===t?void 0:t.querySelector("button")).focus(),e.preventDefault(),B(a),e.stopPropagation()}"Space"!==e.code&&"Enter"!==e.code||e.stopPropagation()}},children:(0,T.tZ)("div",{className:"data-table-inline-action-wrap",style:{...g&&{display:"none"}},...!U&&{"data-visible-on-row-hover":!0},children:(0,T.BX)("div",{className:"data-table-inline-action",ref:M,children:[F&&S.map((e=>{var t,{id:a,Icon:n,action:r,getOptions:i,options:o,getLabel:s,labelToken:c,getDisabled:u,variant:p="blue",showTooltipWhenDisabled:h=!1}=e,g=(null===s||void 0===s?void 0:s({...l.original}))||(0,m.kIE)(c),v=null!==(t=null===u||void 0===u?void 0:u({...l.original}))&&void 0!==t&&t,f=(0,d.u4g)(((e,t)=>{var a,n;return(null===(a=null===(n=t.show)||void 0===n?void 0:n.call(t,l.original))||void 0===a||a)&&e.push({...t,action:()=>t.action({...l.original,isSelected:l.isSelected})}),e}),[],o||D[a]||[]);return!o&&!P||v?(0,T.tZ)(E.hU,{size:"sm",tabIndex:0,tooltip:g,variant:p,disabled:v,showTooltipWhenDisabled:h,handleClick:()=>r({...l.original,isSelected:l.isSelected}),children:(0,T.tZ)(n,{size:"sm"})},g):(0,T.tZ)(E.Lt,{key:g,modal:!0,isLoadingOptions:A[a],onOpenChange:e=>{null===w||void 0===w||w(e),e&&i&&P({id:a,getOptions:i})},alignRight:!0,variant:"compact",childIsButton:!0,options:f,children:(0,T.tZ)(E.hU,{size:"sm",tabIndex:0,variant:p,tooltip:g,handleClick:()=>r({...l.original,isSelected:l.isSelected}),children:(0,T.tZ)(n,{size:"sm"})})})})),(0,T.tZ)("div",{className:"actions-dropdown-button",children:((null===G||void 0===G?void 0:G.length)>0||I)&&(0,T.tZ)(T.HY,{children:y||U?(0,T.tZ)(E.Lt,{isLoadingOptions:x,options:G,modal:!0,onOpenChange:e=>{e&&I&&(async()=>{if(I)try{R(!0);var e=await I(l.original);_(e)}catch(t){(0,m.iv2)(t),_([])}finally{R(!1)}})(),null===w||void 0===w||w(e)},alignRight:!0,childIsButton:!0,variant:"compact",children:(0,T.tZ)(E.hU,{tooltipAlignRight:!0,size:"sm",tooltip:(0,m.kIE)("Actions"),children:(0,T.tZ)(c.EllipsisHIconSvg,{})})}):(0,T.tZ)("button",{children:(0,T.tZ)(c.EllipsisHIconSvg,{})})})})]})})},o)};var z=a(17335),B=a.n(z),W=a(39152),U=(0,d.qCK)((0,d.HK3)((0,d.vgT)("name")),d.xHg,d.VO0,(0,d.IDH)(((e,t)=>e.map((0,d.yGi)("category",t))))),F=(0,d.UID)((e=>{var t;return(0,d.yGi)("value",null!==(t=e.initialValue)&&void 0!==t?t:e.defaultValue,e)})),K=(0,d.UID)((e=>(0,d.yGi)("value",e.defaultValue,e))),H=e=>{var{rowIsUnselected:t,checked:a,id:n,rowIdsObject:r}=e;return a&&t?delete r[n]:a||(r[n]=!0),r},G=e=>{var[t,...a]=e;return{selectionEnabled:"selection"===t.id,firstColumn:t,remainingColumns:a}},j=e=>{var{rows:t,tableId:a,selected:r,hasRowSelection:i,handleToggleRow:o,toggleRowSelected:l,getCustomRowProps:s,enableLazyLoadRows:c,hideCheckboxes:u}=e,p=(0,n.useRef)(null),[h,g]=(0,n.useState)((()=>({rowId:null,id:null})));return{handleKeyDown:(0,n.useCallback)((e=>{var n,v,{event:m,row:f,enableRowAction:y,rowAction:b,fetchData:T}=e;if(!("c"===m.key&&(m.metaKey||m.ctrlKey))&&!!(null===(n=m.target)||void 0===n||!n.closest("[data-ninja-popover-container]"))){m.preventDefault(),h.rowId||g((e=>({...e,rowId:f.id})));var C=null===(v=p.current)||void 0===v?void 0:v.children.namedItem("".concat(a,"-").concat(f.id)),E=null===C||void 0===C?void 0:C.previousElementSibling,S=null===C||void 0===C?void 0:C.nextElementSibling,w=E?E.getAttribute("data-table-row-id"):null,I=(0,d.sEJ)((e=>e.id===w),t),k=S?S.getAttribute("data-table-row-id"):null,_=(0,d.sEJ)((e=>e.id===k),t),x=h.id||0,R=e=>{var t;return null===C||void 0===C||null===(t=C.children[e])||void 0===t?void 0:t.hasAttribute("data-lazy-renderer-cell")};switch(m.key){case"ArrowUp":if(g({rowId:w,id:null}),E){var A;if(E.focus(),u)break;var Z=null===s||void 0===s||null===(A=s(null===I||void 0===I?void 0:I.original))||void 0===A?void 0:A.disabled;if(i&&m.shiftKey&&I)(c||T)&&(!Z&&o(w,!0),f.isSelected&&I.isSelected&&o(f.id,!1)),!Z&&l(w,!0),f.isSelected&&I.isSelected&&l(f.id,!1);else{if((null===r||void 0===r?void 0:r.length)>1)return;(c||T)&&(o(w,!0),o(f.id,!1)),!Z&&l(w,!0),l(f.id,!1)}}break;case"ArrowDown":if(g({rowId:k,id:null}),S){var D;if(S.focus(),u)break;var N=null===s||void 0===s||null===(D=s(null===_||void 0===_?void 0:_.original))||void 0===D?void 0:D.disabled;if(i&&m.shiftKey&&_)(c||T)&&(!N&&o(k,!0),f.isSelected&&_.isSelected&&o(f.id,!1)),!N&&l(k,!0),f.isSelected&&_.isSelected&&l(f.id,!1);else{if((null===r||void 0===r?void 0:r.length)>1)return;(c||T)&&(o(k,!0),o(f.id,!1)),!N&&l(k,!0),l(f.id,!1)}}break;case"Tab":var O=e=>{if(R(e)){var t=Array.from(null===C||void 0===C?void 0:C.children[e].querySelectorAll("button, [href], [tabindex]:not([tabindex='-1'])")),a=((e,t)=>{var a=t.indexOf(document.activeElement),n=e.shiftKey?a-1:a+1;return n<-1?t.length-1:n})(m,t);return t[a]?(m.preventDefault(),t[a].focus(),g((t=>({...t,id:e}))),!0):void 0}};if(O(x))break;if(m.shiftKey){var M=(x-1+C.children.length)%C.children.length;if(C.children[x].blur(),O(M))break;g((e=>({...e,id:M}))),C.children[M].focus()}else{var L=(x+1)%C.children.length;if(C.children[x].blur(),O(L))break;g((e=>({...e,id:L}))),C.children[L].focus()}m.preventDefault();break;case"Enter":if(R(x)){var P;null===(P=m.target)||void 0===P||P.click();break}var z=null===C||void 0===C?void 0:C.children[x],B=null===z||void 0===z?void 0:z.querySelector(".data-table-interactive-cell");y&&!B&&b(f.original,m),B&&(null===B||void 0===B||B.click()),m.preventDefault();break;case" ":if(!u&&i)(null===s||void 0===s?void 0:s(f.original).disabled)||l(f.id,!f.isSelected)}}}),[i,a,o,l,c,t,r,h,s,u]),tbodyRef:p,lastCellFocused:h,setLastCellFocused:g}},V="text/plain",X=e=>{var t="tr"===e.tagName.toLowerCase(),a="body"===e.tagName.toLowerCase(),n=!!e.onclick||!!e.href||"input"===e.tagName.toLowerCase(),r=null!==e.getAttribute("data-ninja-tooltip-trigger");return!(t||a||r)&&(!!n||X(e.parentNode))},q=e=>{var{error:t,errorTooltipLabel:a}=e;return t?t?a?(0,T.tZ)(f.xu,{marginTop:"1px",children:(0,T.tZ)(E.u,{label:a,variant:"danger",children:(0,T.tZ)(c.ErrorIconSvg,{})})}):(0,T.tZ)(c.ErrorIconSvg,{}):void 0:null},Y=e=>{var t,{fetchData:a,row:r,id:i,selectMode:o,enableLazyLoadRows:l,handleToggleRow:s,checked:d,title:u,actions:p,actionButtons:h,getRowActions:g,handleKeyDown:v,handleOnClick:f,multipleRowsSelected:y,hideCheckboxes:b,rowLabelColumn:C,isLoading:S,hasMultipleVisibleColumns:w,className:I,resetData:k,dragAndDrop:_,scrollableArea:x,getCustomRowProps:R,lastCellFocused:A,showSelectedToggleRowSelected:Z,tableContainerWidth:D}=e,{onDrop:N,accessorKey:O}=_||{},M=(()=>{var[e,t]=(0,n.useState)(!1),a=(0,n.useCallback)((e=>{"Shift"===e.key&&t(!0)}),[]),r=(0,n.useCallback)((e=>{"Shift"===e.key&&t(!1)}),[]);return(0,n.useEffect)((()=>(window.addEventListener("keydown",a),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",a),window.removeEventListener("keyup",r)})),[a,r]),e})(),[z,B]=(0,n.useState)(!1),[W,U]=(0,n.useState)(!1),{action:F,disable:K}=(null===p||void 0===p?void 0:p.row)||{},H=r.getRowProps(),{hideActions:G,...j}=(null===R||void 0===R?void 0:R(r.original))||{},Y=F&&!(null!==K&&void 0!==K&&K(r.original))&&!G,J=e=>{var{event:t,row:n}=e;(l||a)&&s(n.id,!d),n.toggleRowSelected(),Z(n.id,!d),f({event:t,row:n})};return(0,T.tZ)("tr",{...H,id:i,className:"".concat(I," ").concat(Y&&!o?"cursor-pointer":""," ").concat(null!==j&&void 0!==j&&j.greyedOut?" greyed-out":""," ").concat(W?" force-hover":""," ").concat(N?" dnd-row":""),tabIndex:0,"data-selected":d,"data-disabled":null===j||void 0===j?void 0:j.disabled,"data-testid":r.id,onKeyDown:e=>v({event:e,row:r,rowAction:F,enableRowAction:Y,fetchData:a}),"data-test-element-key":null===r||void 0===r||null===(t=r.original)||void 0===t?void 0:t.id,"data-table-row-id":r.id,onMouseEnter:()=>{N&&document.getElementById(i).removeAttribute("draggable"),z||B(!0)},onMouseLeave:()=>{z&&!W&&B(!1)},onPointerOver:()=>{z||B(!0)},...(Y||o)&&{onClick:e=>{X(e.target)||(!o||null!==j&&void 0!==j&&j.disabled?Y&&F(r.original,e,k):J({event:e,row:r}))}},...N&&{onDragStart:e=>{e.dataTransfer.effectAllowed="move",e.dataTransfer.clearData(V),e.dataTransfer.setData(V,JSON.stringify({fromRow:r.original,index:r.index}))},onDragEnd:e=>{e.currentTarget.removeAttribute("draggable")},onDragEnter:e=>e.preventDefault(),onDragOver:e=>{e.preventDefault(),e.currentTarget.classList.contains("dnd-hover")||e.currentTarget.classList.add("dnd-hover")},onDragLeave:e=>e.currentTarget.classList.remove("dnd-hover"),onDrop:e=>{var t=JSON.parse(e.dataTransfer.getData(V));N({fromIndex:t.index,toIndex:r.index,fromRow:t.fromRow,toRow:r.original}),document.getElementById(i).classList.remove("dnd-hover")}},...M&&{style:{userSelect:"none"}},children:r.cells.map(((e,t)=>{var a="".concat(i,"-").concat(t);if("selection"===e.column.id){var n,o;if(b)return null;var{disabled:l,disabledTooltipLabel:s=(0,m.kIE)("This item cannot be actioned")}=j||{};return(0,T.tZ)("td",{tabIndex:0,...e.getCellProps(),className:"data-table-cell-selection","data-test-column-id":e.column.id,onClick:e=>!l&&J({event:e,row:r}),onKeyDown:e=>{"Enter"!==e.key||l||(J({event:e,row:r}),e.stopPropagation())},children:l?(0,T.tZ)(E.u,{label:s,children:(0,T.tZ)(E.XZ,{onChange:e=>{var{event:t}=e;return J({event:t,row:r})},ariaLabel:null!==(n=r.values[C])&&void 0!==n?n:s,disabled:l,checked:d})}):(0,T.tZ)(E.XZ,{title:u,checked:d,onChange:e=>{var{event:t}=e;return J({event:t,row:r})},ariaLabel:null!==(o=r.values[C])&&void 0!==o?o:""})},a)}if("drag-and-drop"===e.column.id)return(0,T.tZ)("td",{...e.getCellProps(),className:"dnd-cell",children:(0,T.BX)("div",{className:"content",children:[O&&(0,T.tZ)("div",{className:"value",children:r.original[O]}),(0,T.tZ)("div",{"data-visible-on-row-hover":!0,className:"hover-cursor-grab",...N&&{onMouseDown:()=>document.getElementById(i).setAttribute("draggable",!0),onMouseUp:()=>document.getElementById(i).removeAttribute("draggable")},children:z?(0,T.tZ)(E.u,{label:(0,m.kIE)("Drag to re-order row"),children:(0,T.tZ)(c.GripLinesIconSvg,{})}):(0,T.tZ)(c.GripLinesIconSvg,{})})]})});if("status-indicator"===e.column.id){var{className:v="",...f}=e.getCellProps(),{fallbackColor:y,getStatusIndicatorColor:I,getStatusIndicatorBorderColor:_,getStatusIndicatorLabel:R}=e.column;return S?null:(0,T.tZ)("td",{tabIndex:0,...f,className:"".concat(v," ").concat("status-indicator-column"),"data-test-column-id":e.column.id,children:(0,T.tZ)("div",{className:"status-indicator-cell",children:(0,T.tZ)("output",{className:"status-indicator",style:{backgroundColor:I(r.original)||y,...!!_&&{border:"1px solid ".concat(_(r.original))}},...!!R&&{"aria-label":R(r.original)}})})})}return"row-state-icon"===e.column.id?(0,T.tZ)("td",{tabIndex:0,...e.getCellProps(),"data-test-column-id":e.column.id,style:{paddingLeft:0},children:q(j)}):"actions"===e.column.id?(0,T.tZ)(P,{key:a,cell:e,cellId:a,row:r,actions:p,actionButtons:h,lastCellFocused:A,isLoading:S,resetData:k,mouseEnteredRow:z,scrollableArea:x,hideActions:G,isShiftPressed:M,onOpenChange:U,getRowActions:g}):(0,T.tZ)(L,{key:a,mouseEnteredRow:z,hasMultipleVisibleColumns:w,value:e.value,column:e.column,originalRow:r.original,tableContainerWidth:D})}))})};const J=(0,n.memo)(Y);var $=a(88141);const Q=e=>{var{showSelected:t,toggleShowSelected:a,showSelectedCount:n,gotoPage:r}=e,i=(0,l.u)();return(0,T.tZ)(E.CO,{compact:!0,variant:$.ZC.ACCESSORY,labelText:(0,v.localized)("Show selected"),pressed:t,onPressedChange:()=>{a((e=>{e&&r(0)}))},rightRenderer:()=>(0,T.tZ)(E.Ct,{"data-testid":"show-selected-count-badge",count:n,backgroundColor:t?i.colorForegroundSelectedStrong:i.colorBackgroundAccentNeutral,display:"flex",alignItems:"center",justifyContent:"center",padding:[0,(0,p.Oy)(2)],width:"initial",height:"14px",bold:!0})})};var ee=a(60400),te=a(24331),ae=a(93429),ne=a(19298),re=a(51201),ie=a(87221),oe=a(4455),le=a(49137),se=a(56632),de=a(7993),ce=(0,d.rO9)({columns:(0,d.UID)((0,d.eiS)(["id"]))}),ue=e=>{var{name:t,checked:a,onChange:n,labelToken:r,tooltipToken:i}=e;return(0,T.BX)(f.kC,{alignItems:"center",marginTop:(0,p.Oy)(2),children:[(0,T.tZ)(f.xu,{marginRight:(0,p.Oy)(2),children:(0,T.tZ)(ie.Z,{checked:a,onChange:e=>n(t,e),labelToken:r},t)}),i&&(0,T.tZ)(_.ZP,{label:(0,v.localized)(i),children:(0,T.tZ)(c.RegularInfoCircleIcon,{size:"sm",color:"colorTextWeak"})})]},t)};const pe=e=>{var{unmount:t,onSubmit:a,canAutoRefresh:r,canResetDefaults:i,autoRefreshEnabledTooltipToken:o,initialAutoRefreshEnabled:l,defaultAutoRefreshEnabled:s,initialSortBy:c=[],defaultSortBy:g=[],initialColumns:m=[],visibleColumns:b=[],defaultVisibleColumns:C=[],additionalColumnSettings:E,maxColumnCount:w,saveButtonToken:I,displayedSettingsFields:k={sort:!0,columns:!0},onMount:_,onUnmount:x=(()=>{})}=e,R={value:"ASC",name:(0,v.localized)("Ascending")},A={value:"DESC",name:(0,v.localized)("Descending")},Z=e=>{var t;return null!==(t=e[0])&&void 0!==t&&t.id?m.find((t=>{var a;return t.id===(null===(a=e[0])||void 0===a?void 0:a.id)})):null},D=e=>{var t;return null!==(t=e[0])&&void 0!==t&&t.desc?A:R},N=e=>null===E||void 0===E?void 0:E.reduce(((t,a)=>({...t,[a.name]:a[e]})),{}),O={sortByColumn:Z(c),sortByDirection:D(c),columns:b,autoRefreshEnabled:l||s,...N("initialValue")},M={sortByColumn:Z(g),sortByDirection:D(g),columns:C,autoRefreshEnabled:s,...N("defaultValue")},{onChange:L,values:P}=(0,h.cI)({fields:O,validate:{columns:v.validations.required}}),{columns:z,sortByColumn:W,sortByDirection:U,autoRefreshEnabled:F}=P,K=(0,d.jge)("id",z),H=m.filter((e=>!e.hideFromTableSettingsAvailableColumns&&(!K.includes(e.id)||e.generateColumns))).reduce(((e,t)=>{var{isRemovable:a=!0}=t;if(a){var n={...t,label:"function"===typeof t.Header?t.Header({columns:z}):t.Header};if(t.tableSettingsColumnsGroup){var r=e.findIndex((e=>e.label===t.tableSettingsColumnsGroup));-1!==r?e[r].options.push(n):e.push({id:t.tableSettingsColumnsGroup,label:t.tableSettingsColumnsGroup,options:[n]})}else e.push(n)}return e}),[]),G=(0,n.useRef)(null),j=(0,n.useMemo)((()=>B()(ce(M),ce(P))),[M,P]);return(0,n.useEffect)((()=>(null===_||void 0===_||_(),x)),[_,x]),(0,T.tZ)(ne.Z,{cancelable:!0,size:"sm",heading:(0,v.localized)("Table settings"),buttonRenderer:()=>(0,T.BX)(f.kC,{justifyContent:"space-between",width:"100%",children:[i&&(0,T.tZ)(le.C,{variant:"tertiary",onClick:()=>{L(M),(0,v.addVisuallyHiddenMessage)((0,v.localized)("Default settings restored successfully"))},labelToken:(0,v.localizationKey)("Reset to defaults"),disabled:j}),(0,T.tZ)(ae.g5,{actionToken:I,onConfirm:()=>{a({autoRefreshEnabled:F,columns:z,sortBy:null!==W&&void 0!==W&&W.id?[{id:null===W||void 0===W?void 0:W.id,desc:"DESC"===(null===U||void 0===U?void 0:U.value)}]:[],...E&&(0,d.eiS)((0,d.jge)("name",E),P)}),t()},disabled:!z.length,unmount:t})]}),unmount:t,children:(0,T.BX)(f.xu,{children:[k.sort&&(0,T.BX)(T.HY,{children:[(0,T.BX)(f.xu,{marginBottom:(0,p.Oy)(2),children:[(0,T.tZ)(f.xu,{marginBottom:(0,p.Oy)(1),children:(0,T.tZ)(re.Z,{size:"sm",token:(0,v.localizationKey)("Sort By"),color:"colorTextWeak"})}),(0,T.tZ)(te.Z,{options:z.filter((e=>!e.disableSortBy)),width:"100%",value:W,onSelect:e=>L({sortByColumn:e}),valueSelectorKey:"id",searchableKey:"Header",rowRenderer:e=>(0,T.tZ)("div",{className:"text-ellipsis",children:e.Header}),searchPlaceholderToken:(0,v.localizationKey)("Select")})]}),(0,T.BX)(f.xu,{marginBottom:(0,p.Oy)(2),children:[(0,T.tZ)(f.xu,{marginBottom:(0,p.Oy)(1),children:(0,T.tZ)(re.Z,{size:"sm",token:(0,v.localizationKey)("Sort Direction"),color:"colorTextWeak"})}),(0,T.tZ)(te.Z,{options:[R,A],width:"100%",value:U,onSelect:e=>L({sortByDirection:e}),valueSelectorKey:"value",searchableKey:"name",searchPlaceholderToken:(0,v.localizationKey)("Select")})]})]}),k.columns&&(0,T.BX)(T.HY,{children:[(0,T.BX)(f.xu,{children:[(0,T.BX)(f.kC,{marginBottom:(0,p.Oy)(1),justifyContent:"space-between",alignItems:"center",children:[(0,T.tZ)(re.Z,{size:"sm",token:(0,v.localizationKey)("Columns"),color:"colorTextWeak"}),(0,T.tZ)(f.xu,{marginLeft:(0,p.Oy)(1),children:(0,T.tZ)(re.Z,{size:"xs",color:"colorTextWeakest",children:(0,v.localized)("{{count}} column(s) selected out of {{maxCount}}",{count:z.length,maxCount:Math.min(w,m.length)})})})]}),(0,T.tZ)(te.Z,{options:H,width:"100%",shouldSelectOption:async e=>{if(e.generateColumns){var t=(await e.generateColumns({columns:z})).filter((e=>!K.includes(e.id)));t.length&&(L({columns:[...z,...t]}),setTimeout((()=>{var e;return null===(e=G.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})}),100))}else L({columns:(0,d.R3I)(e,z)}),setTimeout((()=>{var e;return null===(e=G.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})}),100);return!1},valueSelectorKey:"id",disabled:z.length>=w,rowRenderer:e=>(0,T.tZ)("div",{className:"text-ellipsis",children:e.label}),searchPlaceholderToken:(0,v.localizationKey)("Add column to board")},z.toString())]}),!(null===z||void 0===z||!z.length)&&(0,T.tZ)(f.xu,{marginTop:u.default.spacing[3],children:(0,T.tZ)(de.rZ,{children:(0,T.BX)(de.gP,{children:[(0,T.tZ)(de.ww,{children:(0,v.localized)("Drag columns to reorder")}),(0,T.tZ)(de.Xf,{titleSelectorKey:"Header",items:z,renderContent:e=>(0,T.BX)(f.kC,{gap:u.default.spacing[1],children:[(0,T.tZ)(y.Z,{children:e.tableSettingsHeader?e.tableSettingsHeader:e.Header}),e.tableSettingsTag&&(0,T.tZ)(oe.Z,{labels:[{id:e.tableSettingsTag,label:e.tableSettingsTag}]})]}),onChange:function(){return L({columns:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]})},onRemoved:e=>e===(null===W||void 0===W?void 0:W.id)&&L({sortByColumn:null}),canRemove:e=>{var t,{activeItem:a}=e;return null===(t=null===a||void 0===a?void 0:a.isRemovable)||void 0===t||t},maxHeight:"300px",isRemovable:!0,isRestrictedToVerticalAxis:!0})]})})}),z.length>=w&&(0,T.tZ)(f.xu,{marginTop:u.default.spacing[3],children:(0,T.tZ)(se.Z,{variant:"warning",titleToken:(0,v.localizationKey)("Warning"),labelToken:(0,v.localizationKey)("This table has reached maximum amount of columns.")})})]}),null===E||void 0===E?void 0:E.map((e=>e.type===S.rG.SWITCH?(0,T.tZ)(ue,{name:e.name,checked:P[e.name],onChange:L,labelToken:e.labelToken,tooltipToken:e.tooltipToken},e.name):null)),r&&(0,T.tZ)(ue,{name:"autoRefreshEnabled",checked:F,onChange:L,labelToken:(0,v.localizationKey)("Auto-Refresh Table Data"),tooltipToken:o})]})})};var he=a(54830),ge=a(55736),ve=a(83315),me=a(46012),fe=a(21940),ye=a(45822),be=a(67071);const Te=e=>{var{unknownTotalCount:t,withPaginationLoader:a,isLoading:n,currentPageCounts:r,getTotalRowCount:i}=e;return t&&a&&n?(0,T.tZ)(E.Od,{"data-testid":"pagination-loader-skeleton",width:"65px"}):t?(0,T.tZ)(E.xv,{type:"body",color:"colorTextWeak",token:(0,m.eWj)("{{start}} - {{end}}"),tokenArgs:{start:r.start,end:r.end}}):(0,T.tZ)(E.xv,{type:"body",color:"colorTextWeak",token:S.pI,tokenArgs:{start:r.start,end:r.end,total:i()},"data-testid":"data-table-results-count"})};var Ce=a(38562),Ee=a(38709);const Se=function(e){var{actions:t,actionButtons:a,unknownTotalCount:n,hideCheckboxes:r,actionsRenderer:i,enableLazyLoadRows:o,handleTogglePageRows:l,handleToggleAllRows:s,pageSizeLimit:d,hideSelectAllDropdownOption:u,hideSelectPageDropdownOption:p,onSelectRows:h,getCustomRowProps:g,loadedRowsWithDisabled:m,showSelected:f,showSelectedToggleAllPageRowsSelected:y,showSelectedToggleAllRowsSelected:C,fetchData:E,totalCount:w,omitDisabledInSelection:I,getRowActions:k}=e;return e=>{var _;(null!==t&&void 0!==t&&null!==(_=t.primary)&&void 0!==_&&_.length||i||h)&&e.visibleColumns.push((e=>{var i;return[...r?[]:[{id:"selection",sticky:"left",disableSortBy:!0,Header:e=>{var{getToggleAllPageRowsSelectedProps:t,getToggleAllRowsSelectedProps:a,pageCount:r,page:i,rows:h,toggleAllRowsSelected:k,toggleAllPageRowsSelected:_,isAllRowsSelected:x,selectedFlatRows:R,toggleRowSelected:A,state:{totalRowCount:Z,selectedRowIds:D},dispatch:N}=e,{title:O,checked:M}=t(),{checked:L}=a(),P=(0,b.VN)({enableLazyLoadRows:o,totalRowCount:Z,pageSizeLimit:d,pageCount:r,showSelected:f,rowsSelectedCount:R.length}),{isAllSelectableRowsSelected:z,isAllSelectablePageRowsSelected:B,disableSelectAll:W,selectableRowsCount:U,selectablePageRowsCount:F}=(0,b.WI)({rows:h,page:i,hasMultiplePages:P,getCustomRowProps:g,loadedRowsWithDisabled:m}),K=f||(m?(x||z)&&!W:L),H=M||m&&B||f,G=!(null!==h&&void 0!==h&&h.length)||W,j=G&&{disabled:!0,style:{cursor:"not-allowed"}},V=m?F:i.length,X=p||0===V;return P?(0,T.tZ)(Ce.N9,{children:(0,T.tZ)(ge.Z,{childIsButton:!0,disabled:G,onOpenChange:e=>{e||document.querySelector(".data-table-header-cell-selection").focus()},options:[...X?[]:[{LabelComponent:()=>(0,T.tZ)(re.Z,{size:"sm",token:H?S.JP:S.JA,tokenArgs:{count:V}}),action:()=>{(o||E)&&l(!M,i),I&&g?i.forEach((e=>{var{original:t,isSelected:a,toggleRowSelected:n}=e;g(t).disabled||a!==H||n(!H)})):_(),y(i,!H)},id:"toggle-select-current"}],...n||u?[]:[{LabelComponent:()=>(0,T.tZ)(re.Z,{size:"sm",token:K?S.OA:S.iM,tokenArgs:{count:(0,b.iY)({enableLazyLoadRows:o,totalRowCount:Z,loadedRowsWithDisabled:m,selectableRowsCount:U,rows:h,fetchData:E,totalCount:w})}}),action:()=>{n||((o||E)&&s(!K),I&&g?h.forEach((e=>{var{original:t,id:a}=e;!g(t).disabled&&A(a,!K)})):k(),E&&K&&N({type:"clearSelection"}),C(h,!K))},id:"toggle-select-all"}]],variant:"compact",children:(0,T.BX)("div",{children:[(0,T.tZ)(Ee.ZP,{title:O,tabIndex:-1,...j,onClick:e=>e.preventDefault(),ariaLabel:(0,v.localized)("Select All"),checked:K||!!(R.length||E&&(0,v.isNotEmpty)(D))&&"partial"}),(0,T.tZ)(c.CaretDownIcon,{size:"xs",fixedWidth:!1,color:"colorTextWeakest"})]})})}):(0,T.tZ)(Ee.ZP,{title:O,tabIndex:-1,checked:K||!!R.length&&"partial",onChange:()=>{o&&l(!M,i),I&&g?h.forEach((e=>{var{original:t,id:a}=e;!g(t).disabled&&A(a,!K)})):k(),y(i,m?!z:!M)},...j,ariaLabel:(0,v.localized)("Select All")})}}],...e,...null!==t&&void 0!==t&&null!==(i=t.primary)&&void 0!==i&&i.length||null!==a&&void 0!==a&&a.length||k?[{id:"actions",sticky:"right",canSort:!1,Header:()=>null}]:[]]}))}};var we=a(95922);a(58823);const Ie=function(e){var t,a,y,E,{autoResetPage:w=!0,resultsCountLabel:I,pageSizeLimit:k=250,tableId:_,rowLabelColumn:x="name",columns:R,shouldUseUserSettings:A=!0,visibleColumnsIds:Z=[],onSettingsChange:D,rows:N,loading:O,searchPlaceholderText:M,onGlobalFilterChange:L,globalFilterCharLimit:P,enableManualGlobalFilter:z=!1,shouldTrimGlobalFilter:V=!1,initialGlobalFilter:X,noRowsToken:q,onRefresh:Y,actions:$=S.Wx,getRowActions:te,actionButtons:ae,titleGroup:ne,filters:ie={primary:[],secondary:[]},clearFiltersOnReset:oe=!1,onClearFilters:se,fetchData:de,withPaginationLoader:ce=!1,hidePaginationButtons:ue=!1,hideResultsCount:Ee=!1,hideCheckboxes:Ie,initialSortBy:ke=[],settingsSaveButtonToken:_e=(0,m.eWj)("Save"),hideSettingsButton:xe,getExportButtonProps:Re,globalActionsButton:Ae={},secondaryGlobalActions:Ze=[],secondaryGlobalActionsButtons:De=[],showSearchBar:Ne=!0,searchBarFullWidth:Oe,searchBarAutoFocus:Me,additionalColumnSettings:Le,actionsRenderer:Pe,onSelectRows:ze,lazyLoadRows:Be,autoResetSelectedRows:We=!0,isShowSelectedEnabled:Ue=!1,dataKey:Fe="id",autoResetSortBy:Ke=!0,getRowId:He,onSort:Ge,manualSortBy:je,manualPagination:Ve,getStatusIndicatorColor:Xe,getStatusIndicatorBorderColor:qe,getStatusIndicatorLabel:Ye,scrollToTopIfDataChanges:Je,maxColumnCount:$e=20,hideSelectAllDropdownOption:Qe,hideSelectPageDropdownOption:et,isReactive:tt,selectedRowIds:at=[],autoRefresh:nt={},displayedSettingsFields:rt={sort:!0,columns:!0},dragAndDrop:it,hideFilters:ot=!1,getCustomRowProps:lt,error:st,resetPageOnFetchChange:dt,SearchComponent:ct=he.Z,onSettingsModalMount:ut,onSettingsModalUnmount:pt,omitDisabledInSelection:ht,enableAutoHeight:gt=!1,tableMaxHeight:vt,hideHeaders:mt=!1,usesStateSelectedRows:ft=!1,caption:yt}=e,bt=(0,n.useRef)(null),Tt=(0,n.useRef)(null),Ct=(0,n.useRef)(0),Et=(0,n.useRef)(null),St=(0,n.useRef)(ke.length?ke[0]:null),wt=(0,l.u)(),It=!(null===$||void 0===$||null===(t=$.primary)||void 0===t||!t.length),kt=It||Pe||ze,_t=kt&&!Ie,xt=Ue&&_t,Rt=(0,n.useCallback)((e=>e[Fe]),[Fe]),{customFilters:At,filterFunctionList:Zt,updateFilter:Dt,clearFilters:Nt}=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r=(0,n.useRef)(U(e)),[i,o]=(0,h.DJ)(F(r.current)),l=(0,n.useMemo)((()=>(0,d.VO0)(i)),[i]),s=(0,h.D9)(e);(0,n.useEffect)((()=>{if(!B()(e,s)){var t=U(e);r.current=t,o((e=>(0,d.UID)((a=>{var n,r,i,o;return(0,d.yGi)("value",null!==a&&void 0!==a&&a.shouldResetValue?null!==(n=a.defaultValue)&&void 0!==n?n:a.initialValue:null!==(r=null===(i=t[a.name])||void 0===i?void 0:i.value)&&void 0!==r?r:null===(o=e[a.name])||void 0===o?void 0:o.value,a)}))(t)))}}),[e,s,o]);var c=(0,n.useMemo)((()=>(0,d.u4g)(((e,t)=>{var{name:a,type:n,filter:r,value:o,componentProps:l}=t;if((0,v.isNilOrEmpty)(o))return e;var s=null!==r&&void 0!==r?r:W.Z[n].filter;return(0,d.R3I)((e=>s({name:a,row:e,value:o,componentProps:l,allFilters:i})),e)}),[],l)),[l]),u=(0,n.useCallback)(((e,t)=>{o((a=>(0,d.Pj$)(e,t,a)))}),[o]),p=(0,n.useCallback)(((e,t)=>{var a,n;o((a=>(0,d.Qwu)([e,"value"],(()=>t),a))),null===(a=r.current[e])||void 0===a||null===(n=a.onFilterChange)||void 0===n||n.call(a,{name:e,value:t,updateFilterProps:u})}),[o,u]),g=(0,n.useCallback)((()=>{a?(null===t||void 0===t||t(),o(r.current)):(o(K(r.current)),null===t||void 0===t||t())}),[a,t,o]);return{customFilters:l,filterFunctionList:c,updateFilter:p,clearFilters:g}}(ie,se,oe),Ot=(0,n.useMemo)((()=>(0,b.De)(At)),[At]),[Mt,Lt]=(0,h.DJ)(null),[Pt,zt]=(0,n.useState)({}),Bt=(0,n.useCallback)((()=>{var e,t,a,n=[...null!==(e=null===(t=Et.current)||void 0===t||null===(a=t.children[0])||void 0===a?void 0:a.children)&&void 0!==e?e:[]].reduce(((e,t)=>{var a;return e[null===(a=t.id)||void 0===a?void 0:a.split(S.BS)[1]]=t.getBoundingClientRect().width,e}),{});zt(n)}),[zt]),{remoteData:Wt,isLoading:Ut,setIsLoading:Ft,setPaginationProps:Kt,pageCount:Ht,totalCount:Gt,updateRemoteData:jt,isError:Vt}=((e,t,a,r)=>{var[i,o]=(0,h.DJ)([]),[l,s]=(0,h.DJ)(null),[c,u]=(0,h.DJ)(null),[p,g]=(0,h.DJ)(null),[m,f]=(0,h.DJ)(!1),[y,b]=(0,h.DJ)(!1),T=(0,n.useRef)(),C=(0,n.useRef)(),E=(0,n.useCallback)((t=>new Promise(((a,n)=>{clearTimeout(T.current),T.current=setTimeout((async()=>{var r=Date.now();C.current=r;var i=await e(t).catch(n);a({response:i,requestTime:r})}),300)}))),[e]),S=(0,n.useMemo)((()=>(0,d.qCK)(JSON.stringify,(0,d.UID)((e=>{var{name:t,value:a,type:n}=e;return{name:t,value:a,type:n}})))(t)),[t]),w=(0,n.useCallback)((async function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e&&p){b(!1),f((e=>(e||r(),t)));var n=!0;try{var{response:{data:i,pageCount:l,totalCount:d},requestTime:c}=await E({...p,filters:JSON.parse(S)});if(c<C.current)return void(n=!1);a(new Date),o(i),s(l),u(d)}catch(st){b(st),(0,v.reportErrorAndShowMessage)(st)}finally{n&&f(!1)}}}),[b,e,p,S,f,o,s,u,a,E,r]);return(0,n.useEffect)((()=>{w()}),[w]),{remoteData:i,isLoading:m,setIsLoading:f,setPaginationProps:g,pageCount:l,totalCount:c,updateRemoteData:w,isError:y}})(de,Ot,Lt,Bt),Xt=Ut||O,qt=Vt||st,{pubsubChannel:Yt,autoRefreshEnabledTooltipToken:Jt,pollingTime:$t}=nt||{},Qt=!!Yt||!!$t,ea=(0,n.useMemo)((()=>Array((0,d.VV$)(20,k)).fill({})),[k]),{onDrop:ta,columnHeader:aa}=it||{},na=!!ta,ra=(0,n.useMemo)((()=>na?(0,b.H4)(R):R),[R,na]),ia={isShowSelectedEnabled:xt,_selectedRowIds:at,getCustomRowProps:lt,rowsData:N,paginationContainerRef:Tt,onSelectRows:ze,getRowId:He||Rt},{showSelected:oa,showSelectedRowIds:la,paginationContainerWidth:sa,toggleShowSelected:da,showSelectedToggleRowSelected:ca,showSelectedToggleAllPageRowsSelected:ua,showSelectedToggleAllRowsSelected:pa,showSelectedTableData:ha}=(e=>{var{isShowSelectedEnabled:t,_selectedRowIds:a,getCustomRowProps:r,rowsData:i,paginationContainerRef:o,onSelectRows:l,getRowId:s}=e,d=Object.fromEntries(a.map((e=>[e,!0]))),[c,u]=(0,n.useState)(d||{}),[p,g]=(0,n.useState)(!1),[v,m]=(0,n.useState)(null),f=(0,n.useMemo)((()=>{if(t){var e={},a=[];return i.forEach(((t,n)=>{var r=s(t,n);!e[r]&&c[r]&&(e[r]=t,a.push(t))})),a}}),[s,t,i,c]),y=(0,h.D9)(f);if(t&&(p&&!f.length&&(g(!1),u([])),Object.keys(c).length!==f.length||!f.every(((e,t)=>{var a=s(e,t);return c[a]})))){var T=f.reduce(((e,t)=>(e[t.id]=!0,e)),{});u(T)}return(0,n.useEffect)((()=>{t&&l&&y&&f.length!==y.length&&(0,b.VL)((()=>{l(f,[])}))}),[t,l,y,f]),{showSelected:p,showSelectedRowIds:c,toggleShowSelected:e=>{var a;t&&(g((e=>!e)),m(p?null:null===(a=o.current)||void 0===a?void 0:a.offsetWidth),e(!p))},paginationContainerWidth:v,showSelectedToggleRowSelected:(e,a)=>{t&&u(a?t=>({...t,[e]:!0}):t=>{var a={...t};return delete a[e],a})},showSelectedToggleAllPageRowsSelected:(e,a)=>{if(t)if(a){var n=e.reduce(((e,t)=>{var a,{disabled:n}=null!==(a=null===r||void 0===r?void 0:r(t.original))&&void 0!==a?a:{};return n||(e[t.id]=!0),e}),{});u((e=>({...e,...n})))}else{var i={...c};e.forEach((e=>!delete i[e.id])),u(i)}},showSelectedToggleAllRowsSelected:(e,a)=>{if(t)if(a){var n=e.reduce(((e,t)=>{var a,{disabled:n}=null!==(a=null===r||void 0===r?void 0:r(t.original))&&void 0!==a?a:{};return n||(e[t.id]=!0),e}),{});u((e=>({...e,...n})))}else u((t=>{var a={...t};return e.forEach((e=>!delete a[e.id])),a}))},showSelectedTableData:f}})(ia),ga=(0,n.useMemo)((()=>de?Wt:(0,d.hXT)((0,d.sv4)(Zt),N)),[de,Zt,Wt,N]),va=(0,be.o)(_),ma=A&&!xe,fa=()=>{var e=(0,v.getLocalStorageParsedObject)(va.initialSortBy);return ma&&null!==e&&void 0!==e&&e.length&&rt.sort?e:ke},[ya,ba]=(0,n.useState)([]),[Ta,Ca]=(0,n.useState)(fa),[Ea,Sa]=(0,n.useState)((()=>{var e=(0,d.yAE)(!!nt.isOnByDefault,(0,v.getLocalStorageParsedObject)(nt.localStorageKey||va.autoRefreshEnabled));return!!(A&&e&&Qt)&&e})),[wa,Ia]=(0,n.useState)(null),ka=(0,n.useMemo)((()=>ya.length?(0,d.qCK)((0,d.hXT)(d.yRu),(0,d.UID)((e=>ra.find((t=>t.id===e)))))(ya):ra),[ra,ya]),_a=(0,n.useMemo)((()=>Z.length?(0,d.qCK)((0,d.hXT)(d.yRu),(0,d.UID)((e=>ra.find((t=>t.id===e)))))(Z):ra),[ra,Z]),xa=(0,n.useMemo)((()=>!!ga.length&&(0,d.e$l)(S.Gf.DISABLED,null===lt||void 0===lt?void 0:lt((0,d.YMb)(ga)))),[ga,lt]),Ra=(0,n.useMemo)((()=>!!ga.length&&(0,d.e$l)(S.Gf.ERROR,null===lt||void 0===lt?void 0:lt((0,d.YMb)(ga)))),[ga,lt]),Aa=xa||Ra,Za=ka.findIndex((0,d.OH4)("priorityWidth",!0)),Da=e=>{var{sortBy:t,columns:a,autoRefreshEnabled:n}=e;A&&rt.sort&&window.localStorage.setItem(va.initialSortBy,JSON.stringify(t)),Ca(t),mn(t);var r=(0,d.jge)("id",a);A&&rt.columns&&window.localStorage.setItem(va.visibleColumnsIds,JSON.stringify(r)),ba(r),Qt&&(A&&window.localStorage.setItem(nt.localStorageKey||va.autoRefreshEnabled,JSON.stringify(n)),Sa(n)),null===D||void 0===D||D(e)},{onLoadMore:Na,totalRowCount:Oa,requestPageSize:Ma}=Be||{},La=Na&&Oa&&Ma,Pa=de&&void 0===Gt&&!La,{initialSelectedRowIds:za,handleToggleRow:Ba,handleTogglePageRows:Wa,handleToggleAllRows:Ua,getRowChecked:Fa,handleLazyLoadRowsAndNext:Ka,nextPageIndex:Ha,canLoadMoreRows:Ga,isInSelectAllMode:ja,unselectedRowIds:Va}=(e=>{var{tableData:t,onLoadMore:a,requestPageSize:r,pageSizeLimit:i,totalRowCount:o,getRowId:l,omitDisabledInSelection:s,getCustomRowProps:d}=e,c=(0,n.useRef)(null),u=(0,n.useRef)(null),p=(0,n.useRef)(null),[h,g]=(0,n.useState)(!1),[v,m]=(0,n.useState)({}),f=(0,n.useMemo)((()=>h?t.reduce(((e,t)=>{var a=null===l||void 0===l?void 0:l(t);return null!==v&&void 0!==v&&v[a]||s&&d(t).disabled||(e[a]=!0),e}),{}):null),[t,h,v,l,s,d]),y=(0,n.useCallback)((e=>{var{unselectedRowIds:t,checked:a,page:n}=e;return n.reduce(((e,n)=>{var{id:r}=n;return H({rowIsUnselected:null===t||void 0===t?void 0:t[r],checked:a,rowIdsObject:{...e},id:r})}),{...t})}),[]),T=(0,n.useCallback)((e=>{var{unselectedRowIds:t,checked:a,rowId:n}=e;return H({rowIsUnselected:null===t||void 0===t?void 0:t[n],checked:a,rowIdsObject:{...t},id:n})}),[]),C=(0,n.useCallback)(((e,t)=>{m((a=>T({unselectedRowIds:a,checked:t,rowId:e})))}),[T]),E=(0,n.useCallback)(((e,t)=>{m((a=>y({unselectedRowIds:a,checked:e,page:t})))}),[y]),S=(0,n.useCallback)((e=>{m({}),g(e)}),[]),w=e=>{var{pageIndex:t,rowsLength:a,pageSize:n}=e;return(t+1)%Math.ceil(r/i)===0&&a<=n*(t+1)&&a<o};return{initialSelectedRowIds:f,handleTogglePageRows:E,handleToggleRow:C,handleToggleAllRows:S,getRowChecked:e=>{var{checked:t,id:a}=e;return t||(null===f||void 0===f?void 0:f[a])},handleLazyLoadRowsAndNext:async e=>{var{nextPage:t,pageIndex:n,rowsLength:r,pageSize:i}=e;c.current||(c.current=!0,w({pageIndex:n,rowsLength:r,pageSize:i})?(u.current=!0,p.current=n+1,await a(),(0,b.VL)((()=>{u.current=!1}))):t(),(0,b.VL)((()=>{c.current=!1,p.current=null})))},disableAutoResetPage:u.current,nextPageIndex:p.current,canLoadMoreRows:w,isInSelectAllMode:h,unselectedRowIds:v}})({tableData:ga,pageSizeLimit:k,onLoadMore:Na,totalRowCount:Oa,requestPageSize:Ma,getRowId:He,omitDisabledInSelection:ht,getCustomRowProps:lt}),Xa=(0,n.useMemo)((()=>za||!!oa&&la||(0,d.u4g)(((e,t)=>({...e,[t]:!0})),{},at)),[za,oa,la,at]),{getTableProps:qa,getTableBodyProps:Ya,headerGroups:Ja,rows:$a,page:Qa,pageCount:en,prepareRow:tn,state:{pageIndex:an,pageSize:nn,globalFilter:rn,sortBy:on,selectedRowIds:ln},setGlobalFilter:sn,selectedFlatRows:dn,canPreviousPage:cn,canNextPage:un,nextPage:pn,previousPage:hn,toggleRowSelected:gn,gotoPage:vn,setSortBy:mn,toggleSortBy:fn,visibleColumns:yn,dispatch:bn}=(0,r.useTable)({autoResetPage:!oa&&w,defaultColumn:{sortType:v.byColumnSort},columns:ka,data:oa?ha:ga,autoResetSortBy:!xt&&Ke,initialState:{pageSize:k,sortBy:Ta,...Xa&&{selectedRowIds:Xa},...X&&{globalFilter:X},...Ha&&{pageIndex:Ha},...La&&{totalRowCount:Oa}},manualSortBy:je,...(null===Ve||void 0===Ve?void 0:Ve.enable)&&{manualPagination:!0,pageCount:Ve.pageCount,autoResetPage:!1},...de&&{manualSortBy:!0,manualPagination:!0,pageCount:Ht,autoResetPage:!1},...de||z?{manualGlobalFilter:!0}:{...xt&&{manualGlobalFilter:oa}},...(de||La||xt)&&{stateReducer:(0,we.l)({fetchData:de,enableLazyLoadRows:La})},autoResetGlobalFilter:!1,autoResetSelectedRows:!xt&&(!!za||We),getRowId:xt?He||Rt:He,...na&&{autoResetPage:!1}},i.useSticky,r.useGlobalFilter,r.useSortBy,r.usePagination,r.useRowSelect,Se({actions:$,actionButtons:ae,unknownTotalCount:Pa,hideCheckboxes:Ie,actionsRenderer:Pe,enableLazyLoadRows:La,handleTogglePageRows:Wa,handleToggleAllRows:Ua,pageSizeLimit:k,hideSelectAllDropdownOption:!(null===Ve||void 0===Ve||!Ve.enable)||Qe,hideSelectPageDropdownOption:et,onSelectRows:ze,getCustomRowProps:lt,loadedRowsWithDisabled:xa,showSelected:oa,showSelectedToggleAllPageRowsSelected:ua,showSelectedToggleAllRowsSelected:pa,fetchData:de,totalCount:Gt,omitDisabledInSelection:ht,getRowActions:te}),(e=>{var{getStatusIndicatorColor:t,getStatusIndicatorBorderColor:a,getStatusIndicatorLabel:n,theme:r,isLoading:i}=e;return e=>{t&&!i&&e.visibleColumns.push((e=>{var{firstColumn:i,remainingColumns:o,selectionEnabled:l}=G(e),s={id:"status-indicator",disableSortBy:!0,fallbackColor:r.color.black["010"],getStatusIndicatorColor:t,getStatusIndicatorBorderColor:a,getStatusIndicatorLabel:n};return l?[i,s,...o]:[s,...e]}))}})({getStatusIndicatorColor:Xe,getStatusIndicatorBorderColor:qe,getStatusIndicatorLabel:Ye,theme:wt,isLoading:Xt}),(e=>{var{onDrop:t,columnHeader:a}=e;return e=>{t&&e.visibleColumns.push((e=>{var{firstColumn:t,remainingColumns:n,selectionEnabled:r}=G(e),i={id:"drag-and-drop",disableSortBy:!0,Header:a||(()=>null)};return r?[t,i,...n]:[i,...e]}))}})({onDrop:ta,columnHeader:aa}),(e=>{var{hasRowStateIcons:t,isLoading:a}=e;return e=>{t&&!a&&e.visibleColumns.push((e=>{var{firstColumn:t,remainingColumns:a,selectionEnabled:n}=G(e),r={id:"row-state-icon",disableSortBy:!0};return n?[t,r,...a]:[r,...e]}))}})({isLoading:Xt,hasRowStateIcons:Aa}));(0,n.useEffect)((()=>{xt&&((0,d.SpD)(Object.keys(ln),Object.keys(la)).length&&bn({type:"manuallySetSelectedRowIds",selectedRowIds:la}))}),[bn,xt,la,ln]);var Tn=(0,n.useCallback)((()=>{0===Qa.length&&an+1>en&&0!==an&&vn(an-1)}),[vn,Qa.length,en,an]);(0,n.useEffect)((()=>{xt&&oa&&Tn()}),[Tn,xt,oa]),(0,n.useEffect)((()=>{Ia(null)}),[on]);var Cn=oa?$a:dn,En=kt&&(0,d.jge)("original",Cn),Sn=(0,h.D9)(En),wn=(0,n.useCallback)(((e,t,a)=>{ca(e,t,a),gn(e,t)}),[ca,gn]),{handleKeyDown:In,tbodyRef:kn,lastCellFocused:_n,setLastCellFocused:xn}=j({rows:$a,tableId:_,selected:En,hasRowSelection:kt,handleToggleRow:Ba,toggleRowSelected:wn,getCustomRowProps:lt,enableLazyLoadRows:La,hideCheckboxes:Ie}),Rn=(0,n.useCallback)((e=>{var{row:t,event:a}=e;if(Ia(t),xn({rowId:t.id,cellId:null}),a.shiftKey&&kt&&wa){var n,r=$a.findIndex((e=>e.id===wa.id)),i=$a.findIndex((e=>e.id===t.id)),o=(e=>{var{rows:t,currentId:a,selectedId:n}=e,r=n>a?a:n,i=r===a?n:a;return t.slice(r,i+1)})({rows:$a,currentId:i,selectedId:r}),l=null===(n=$a[t.id])||void 0===n?void 0:n.isSelected;o.forEach((e=>{(La||de)&&Ba(e.id,!l),wn(e.id,!l)}))}}),[kt,Ba,wa,La,$a,wn,de,xn]),An=!oa&&$a.length<Oa,Zn=ja&&An?Oa-Object.keys(Va||{}).length:(0,d.d1t)((e=>{var t=null===lt||void 0===lt?void 0:lt(e);return null===t||void 0===t?void 0:t.disabled}))(En||[]).length,Dn=()=>oa?Zn:La?Oa:de?Gt:null!==Ve&&void 0!==Ve&&Ve.total?Ve.total:$a.length,Nn=(()=>{if(null!==Ve&&void 0!==Ve&&Ve.enable)return Ve.currentPageCounts;var e,t=an*nn,a=t+1,n=()=>t+Qa.length;return oa?{start:a,end:Math.min(n(),Zn)}:de?{start:a,end:un?t+nn:null!==(e=Dn())&&void 0!==e?e:n()}:{start:a,end:n()}})(),On=(0,n.useCallback)((function(){var{keepCurrentPage:e,showLoading:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};0===an||e?jt(Xt||t):vn(0)}),[an,Xt,vn,jt]),Mn=(0,n.useCallback)(((e,t)=>{vn(0),Dt(e,t)}),[Dt,vn]),Ln=()=>{Ca(fa()),ba((()=>{var e=(0,v.getLocalStorageParsedObject)(va.visibleColumnsIds);return ma&&e&&rt.columns?e:Z})())};(0,n.useEffect)((()=>{Ln()}),[_,A,xe]),(0,n.useEffect)((()=>{La||Kt({pageIndex:an,pageSize:nn,globalFilter:rn,sortBy:on})}),[rn,an,nn,Kt,on,La]),(0,n.useEffect)((()=>{xt||ze&&En&&Sn&&En.length!==Sn.length&&(0,b.VL)((()=>{ze(En,(0,d.XPQ)(Va))}))}),[En,Sn,ze,Va,xt]),(0,n.useEffect)((()=>{La&&bn({type:"totalRowCountUpdate",totalRowCount:Oa})}),[bn,La,Oa]),(0,n.useEffect)((()=>{de&&dt&&vn(0)}),[vn,de,dt]),(0,n.useEffect)((()=>N&&Lt(new Date)),[N,Lt]),(e=>{var{pubsubChannel:t,autoRefreshEnabled:a,resetData:r}=e,i=(0,n.useRef)(null);(0,n.useEffect)((()=>(t&&!i.current&&a&&(i.current=v.PubSub.subscribe(t,((e,t)=>{var{type:a,options:n={}}=t;if(a===S.Qe.RELOAD_TABLE){var{keepCurrentPage:i=!0,showLoading:o=!1}=n;r({keepCurrentPage:i,showLoading:o})}}))),()=>{i.current&&(v.PubSub.unsubscribe(i.current),i.current=null)})),[t,r,a])})({pubsubChannel:Yt,autoRefreshEnabled:Ea,resetData:On}),(e=>{var{pollingTime:t,resetData:a,pollingEnabled:r}=e,i=(0,n.useRef)();(0,n.useEffect)((()=>(r&&(i.current=setInterval((()=>{a({keepCurrentPage:!0,showLoading:!1})}),t)),()=>clearInterval(i.current))),[t,r,a])})({pollingTime:$t,resetData:On,pollingEnabled:!!$t&&!Yt&&Ea});var Pn=oa&&Nn.end===Zn,zn=La&&Ga({pageIndex:an,rowsLength:$a.length,pageSize:nn})&&!Pn||un,Bn=(0,b.VN)({enableLazyLoadRows:La,totalRowCount:Oa,pageSizeLimit:k,pageCount:en,showSelected:oa,rowsSelectedCount:Zn}),Wn=()=>{bt.current.scrollTop=0},Un=e=>{var{labelToken:t,variant:a="primary",Icon:n,options:r,disabled:i,tooltip:o,useDropdownIcon:l}=e,s=r.map((e=>({...e,action:()=>e.action(En,On)})));return(0,T.tZ)(ge.Z,{variant:"compact",options:s,children:(0,T.tZ)(le.C,{compact:!0,renderAsDiv:!0,iconPlacement:n&&l?"left":"right",disabled:i,labelToken:t,Icon:n,tooltip:o,useDropdownIcon:l,variant:a})},t)},Fn=e=>{var{labelToken:t="",action:a,variant:n="primary",Icon:r,disabled:i,tooltip:o}=e,l=lt&&ht&&$a.filter((e=>{var t,{original:a}=e;return null===(t=lt(a))||void 0===t?void 0:t.disabled}));return(0,T.tZ)(le.C,{compact:!0,onClick:()=>a({selected:En,stateSelectedRowIds:ln,resetData:On,unselectedRowIds:Va,isInSelectAllMode:ja,totalCount:Gt,disabledRows:l}),disabled:i,labelToken:t,Icon:r,tooltip:o,variant:n},t)},Kn=()=>{var e="string"===typeof st&&st;return(0,T.tZ)("tr",{className:"no-hover",children:(0,T.tZ)("td",{colSpan:yn.length,children:(0,T.tZ)("div",{children:(0,T.tZ)(ye.U,{children:qt?(0,T.BX)(T.HY,{children:[(0,T.tZ)(c.ExclamationCircle,{color:"colorAlertError"}),(0,T.tZ)(re.Z,{size:"sm",fontWeight:400,color:"colorTextWeakest",token:e||(0,m.eWj)("Unable to fetch data. Try again by refreshing your page.")})]}):(0,T.BX)(T.HY,{children:[(0,T.tZ)(c.MagnifyingGlass,{fontSize:u.default.typography.fontSize.headingM,color:"colorTextWeakest"}),(0,T.tZ)(re.Z,{size:"sm",fontWeight:400,color:"colorTextWeakest",token:q||(0,m.eWj)("No data found")})]})})})})})};if(La&&Xt)return(0,T.BX)(Ce.PQ,{className:"data-table skeleton-rows-only is-loading",children:[(0,T.tZ)("div",{className:"pagination-skeleton data-table-cell"}),(0,T.tZ)(Ce.TO,{children:(0,T.tZ)("table",{children:(0,T.tZ)("tbody",{children:ea.map(((e,t)=>(0,T.tZ)("tr",{className:"no-hover","data-testid":"data-table-skeleton-row-".concat(t),children:(0,T.tZ)("td",{children:(0,T.tZ)("div",{className:"data-table-cell"})})},t)))})})})]});var Hn=!!Xe,Gn=!Ea&&!Y||nt.hideLabel,jn=Y&&!Ea,Vn=oa?Zn:Qa.length,Xn=xt&&!(ja&&An),qn=ha&&Object.keys(la).length?(0,T.tZ)(Q,{showSelected:oa,toggleShowSelected:da,showSelectedCount:ha.length,gotoPage:vn}):null,Yn=Zn?(0,T.tZ)(re.Z,{size:"sm",color:"colorTextWeak",token:(0,m.eWj)("{{count}} Selected"),tokenArgs:{count:Zn}}):null;return(0,T.BX)(Ce.PQ,{className:"data-table ".concat(Xt&&!tt?"is-loading":Xt&&tt?"is-reactive-loading":""),id:_,"data-testid":_,children:[(0,T.BX)(Ce.du,{className:"data-table-accessory-header",children:[(0,T.BX)(Ce.Vd,{children:[ne&&(0,T.tZ)(me.Z,{...ne}),(0,T.BX)(Ce.JW,{"data-testid":"data-table-filters-container",children:[Ne&&(0,T.tZ)(ct,{globalFilter:rn,globalFilterCharLimit:P,gotoPage:vn,isManualPaginationEnabled:null===Ve||void 0===Ve?void 0:Ve.enable,searchPlaceholderText:M||(0,m.kIE)("Search"),setGlobalFilter:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim();if(sn(e),null===L||void 0===L||L(e),e||na&&0!==Qa)return vn(0);w||vn(Ct.current)},shouldTrimGlobalFilter:V,disabled:oa,searchBarFullWidth:Oe,searchBarAutoFocus:Me}),!ot&&(ie.primary||ie.secondary)&&(0,T.tZ)(ee.Z,{customFilters:At,updateFilter:Mn,clearFilters:()=>{vn(0),Nt()},clearFiltersOnReset:oe,disabled:oa})]}),(0,T.tZ)(Ce.A6,{gap:(0,p.Oy)(4),flex:1,children:(0,T.BX)(T.HY,{children:[(0,T.tZ)(f.xu,{ref:Tt,...oa&&sa&&{minWidth:sa},children:Bn?(0,T.BX)(Ce.A6,{className:"data-table-pagination",children:[!ue&&(0,T.BX)(T.HY,{children:[(0,T.tZ)(ve.Z,{size:"sm",handleClick:()=>{var e;rn||(Ct.current=an-1),null===Ve||void 0===Ve||null===(e=Ve.onPreviousPage)||void 0===e||e.call(Ve),hn(),Wn()},disabled:!cn||ce&&Xt,tooltip:(0,m.kIE)("dataTable.previousPage"),children:(0,T.tZ)(c.OpenArrowIcon,{direction:"left",color:cn?"colorTextStrong":"colorTextDisabled"})}),(0,T.tZ)(ve.Z,{size:"sm",handleClick:()=>{var e;La?Ka({nextPage:pn,pageIndex:an,rowsLength:$a.length,pageSize:nn}):(rn||(Ct.current=an+1),null===Ve||void 0===Ve||null===(e=Ve.onNextPage)||void 0===e||e.call(Ve),pn());Wn()},disabled:!zn||ce&&Xt,tooltip:(0,m.kIE)("Next page"),children:(0,T.tZ)(c.OpenArrowIcon,{direction:"right",color:zn?"colorTextStrong":"colorTextDisabled"})})]}),(0,T.tZ)(Te,{unknownTotalCount:Pa,withPaginationLoader:ce,isLoading:Xt,currentPageCounts:Nn,getTotalRowCount:Dn})]}):!Xt&&!Ee&&(0,T.tZ)(f.kC,{alignItems:"center",className:"data-table-pagination",children:(0,T.tZ)(re.Z,{size:"sm",color:"colorTextWeak",token:(null===I||void 0===I?void 0:I.token)||(Vn>1||0===Vn?S.aE:(0,m.eWj)("1 result")),tokenArgs:{results:Vn,...I},italic:null===I||void 0===I?void 0:I.italic,"data-testid":"data-table-results-count"})})}),Xn?qn:Yn,(null===En||void 0===En?void 0:En.length)>0&&(null===Pe||void 0===Pe?void 0:Pe({isInSelectAllMode:ja,hasPendingLazyLoadData:An})),It&&(0,T.tZ)(Ce.A6,{className:"data-table-select-actions",children:(0,T.BX)(Ce.k3,{showActions:(null===En||void 0===En?void 0:En.length)>0||ft&&de&&(0,v.isNotEmpty)(ln),children:[$.primary.filter((e=>{var{hideMultiAction:t}=e;return!(null!==t&&void 0!==t&&t(En))})).map((e=>{var t;return null!==(t=e.options)&&void 0!==t&&t.length?Un(e):Fn(e)})),(0,b.Zu)($.secondary,En)&&(0,T.tZ)(ge.Z,{options:$.secondary.filter((e=>{var{hideMultiAction:t}=e;return!(null!==t&&void 0!==t&&t(En))})).map((0,d.qCK)((0,d.yGi)("resetData",On),(0,d.yGi)("selected",En))),variant:"compact",children:(0,T.tZ)(ve.Z,{size:"sm",renderAsDiv:!0,variant:"blue",tooltip:(0,m.kIE)("More actions"),children:(0,T.tZ)(c.EllipsisHIcon,{})})})]})})]})})]}),(0,T.BX)(Ce.Vd,{children:[((null===De||void 0===De?void 0:De.length)>0||(null===Ae||void 0===Ae||null===(a=Ae.buttonProps)||void 0===a?void 0:a.action)||(null===Ae||void 0===Ae||null===(y=Ae.buttonProps)||void 0===y?void 0:y.asLink)||(null===Ae||void 0===Ae||null===(E=Ae.actions)||void 0===E?void 0:E.length)>0)&&(0,T.BX)(f.kC,{gap:(0,p.Oy)(2),justifyContent:"flex-end",alignItems:"center",children:[Ze.length?(0,T.tZ)(ge.Z,{alignRight:!0,options:Ze,variant:"compact",children:(0,T.tZ)(le.C,{tooltip:(0,m.kIE)("More actions"),renderAsDiv:!0,variant:"secondary",Icon:c.EllipsisHIcon})}):null,De.map((e=>{var{action:t,disabled:a=!1,Icon:n,labelToken:r,tooltipToken:i,variant:o="secondary"}=e;return(0,T.tZ)(le.C,{Icon:n,variant:o,labelToken:r,disabled:a,onClick:()=>t({resetData:On}),...a&&{tooltip:i}},r)})),function(){var{disabled:e=!1,tooltipToken:t,buttonProps:{ariaLabel:a,Icon:n=c.PlusIcon,variant:r="primary",labelToken:i=(0,m.eWj)("Add"),action:o,asLink:l=!1,linkTo:s}={},actions:d=[]}=Ae;return l||o||d.length?o||l?(0,T.tZ)(le.C,{Icon:n,variant:r,onClick:e=>o(e,{resetData:On}),labelToken:i,disabled:e,asLink:l,linkTo:s,...e&&t&&{tooltip:(0,m.kIE)(t)}}):(0,T.tZ)(ge.Z,{ariaLabel:a,disabled:e,alignRight:!0,variant:"compact",options:d,children:(0,T.tZ)(le.C,{renderAsDiv:!0,Icon:n,variant:r,labelToken:i,disabled:e,...e&&{tooltip:t},useDropdownIcon:!0})}):null}()]}),(0,T.BX)(Ce.A6,{className:"data-table-settings",children:[Mt&&!Gn&&(0,T.tZ)(C,{isLoading:Xt,lastUpdated:Mt,showLastUpdatedLabelAfter5Minutes:jn}),Y&&(0,T.tZ)(ve.Z,{size:"sm",handleClick:()=>{!de&&!Xt&&Bt(),Y({resetData:On,setIsLoading:Ft})},tooltip:Ea?(0,m.kIE)("This table has Auto-refresh enabled and will update in the background"):(0,m.kIE)("Refresh"),tooltipAlignRight:!0,children:(0,T.tZ)(c.RefreshLightIcon,{size:"sm",color:"colorTextStrong"})}),function(){var e,t={filters:At,globalFilter:rn,visibleColumnsIds:ya,sortBy:on},{action:a,options:n,disabled:r}=null!==(e=null===Re||void 0===Re?void 0:Re(t))&&void 0!==e?e:{};return a?(0,T.tZ)(ve.Z,{disabled:r,tooltipAlignRight:!0,size:"sm",handleClick:a,tooltip:(0,m.kIE)("Export"),children:(0,T.tZ)(c.DownloadIconLight,{size:"sm",color:"colorTextStrong",label:(0,m.kIE)("Export")})}):n?(0,T.tZ)(ge.Z,{disabled:r,alignRight:!0,childIsButton:!0,variant:"compact",options:n,children:(0,T.tZ)(ve.Z,{tooltipAlignRight:!0,size:"sm",tooltip:(0,m.kIE)("Export"),children:(0,T.tZ)(c.DownloadIconLight,{size:"sm",color:"colorTextStrong",label:(0,m.kIE)("Export")})})}):null}(),!xe&&(0,T.tZ)(ve.Z,{size:"sm",tooltip:(0,m.kIE)("Table settings"),tooltipAlignRight:!0,handleClick:()=>{(0,g.Z)((0,T.tZ)(pe,{canAutoRefresh:Qt,canResetDefaults:A,autoRefreshEnabledTooltipToken:Jt,initialAutoRefreshEnabled:Ea,defaultAutoRefreshEnabled:false,initialSortBy:Ta,defaultSortBy:ke,initialColumns:ra,defaultVisibleColumns:_a,visibleColumns:ka,additionalColumnSettings:Le,onSubmit:Da,saveButtonToken:_e,maxColumnCount:$e,displayedSettingsFields:rt,onMount:ut,onUnmount:pt}))},children:(0,T.tZ)(c.SettingsIcon,{size:"sm",color:"colorTextStrong"})})]})]})]}),(0,T.tZ)(Ce.TO,{priorityWidthColumnIdx:Za,hasActions:It,hasCheckboxes:_t,hasStatusIndicators:Hn,children:(0,T.tZ)(o.ZP,{...gt&&{disableHeight:!0},children:e=>{var{width:t,height:a}=e;return(0,T.tZ)(Ce.N1,{width:t,height:a,...vt&&{maxHeight:vt},ref:bt,children:(0,T.BX)("table",{...qa(),...mt&&{className:"hidden-headers"},children:[yt&&(0,T.tZ)("caption",{children:yt}),(0,T.tZ)("thead",{ref:Et,children:Ja.map((e=>(0,T.tZ)("tr",{className:"data-table-row",...e.getHeaderGroupProps(),children:e.headers.map((e=>{var a,n,r,i=null===e||void 0===e?void 0:e.getCellTypeProps,o=(null===e||void 0===e||null===(a=e.getCellSizeProps)||void 0===a?void 0:a.call(e,{tableContainerWidth:t}))||{},l=null!==(n=o.maxWidth)&&void 0!==n?n:null===e||void 0===e?void 0:e.maxWidth,d=null!==(r=o.minWidth)&&void 0!==r?r:null===e||void 0===e?void 0:e.minWidth,{type:h}=null!==i&&void 0!==i&&i.length?{}:(null===i||void 0===i?void 0:i())||{},g=ka.length>1&&(h===S.k2.CURRENCY||h===S.k2.NUMBER),v=()=>{var t,a,{id:n,isSortedDesc:r}=e,i=(0,b.Lm)(r),o=(null===(t=St.current)||void 0===t?void 0:t.id)===n&&(null===(a=St.current)||void 0===a?void 0:a.desc)&&!i;fn(n),o?null===Ge||void 0===Ge||Ge([]):null===Ge||void 0===Ge||Ge([{id:n,desc:i}]),St.current={id:n,desc:i}},y="".concat(S.BS).concat(e.id);return"actions"===e.id?(0,T.tZ)("th",{id:y,children:(0,T.tZ)(s.f,{children:(0,m.kIE)("Actions")})},"actions"):"status-indicator"===e.id?(0,T.tZ)("th",{id:y,tabIndex:mt?-1:0,className:"status-indicator-column",children:(0,T.tZ)(s.f,{children:(0,m.kIE)("Status")})},"status-indicator"):(0,T.tZ)("th",{id:y,tabIndex:mt?-1:0,...e.getHeaderProps(e.canSort?e.getSortByToggleProps({title:"",...Ge&&{onClick:v},onKeyDown:e=>{"Enter"===e.key&&v()}}):{..."selection"===e.id&&{className:"data-table-header-cell-selection",onKeyDown:e=>{if("Enter"===e.key){var t=e.target.querySelector("[data-ninja-dropdown-trigger]");if(t)window.requestAnimationFrame((()=>t.dispatchEvent(new MouseEvent("pointerdown",{bubbles:!0}))));else e.target.querySelector("button").click()}}}}),children:(0,T.BX)(Ce.xH,{isRightAligned:g,id:e.id,maxWidth:l,minWidth:d,children:[(0,T.BX)(f.kC,{gridColumnGap:(0,p.Oy)(1),minWidth:"1px",alignItems:"center",children:[(0,T.tZ)(re.Z,{type:"body",fontWeight:u.default.typography.fontWeight.medium,children:e.render("Header")}),(e.tooltipToken||e.tooltipText)&&(0,T.tZ)(fe.Z,{text:e.tooltipToken?(0,m.kIE)(e.tooltipToken):e.tooltipText,triggerColor:"colorTextWeak"})]}),e.canSort&&(0,T.tZ)(Ce.rC,{visible:e.isSorted,children:e.isSortedDesc?(0,T.tZ)(c.SortDownIcon,{size:"sm",label:(0,m.kIE)("Sort Ascending")}):(0,T.tZ)(c.SortUpIcon,{size:"sm",label:(0,m.kIE)("Sort Descending")})})]})})}))})))}),(0,T.tZ)("tbody",{...Ya(),ref:kn,children:Xt&&!tt?ea.map(((e,t)=>{return a=t,(0,T.tZ)("tr",{"data-testid":"data-table-skeleton-row-".concat(a),children:yn.map(((e,t)=>{var{id:a,minWidth:n,loadingWidth:r}=e,i="status-indicator"===a,o="actions"===a,l=0===t&&Hn?6:0,s=Pt[a]+l||r||n;return(0,T.tZ)("td",{className:i?"status-indicator-column":"",style:{...s&&{minWidth:s}},children:(0,T.tZ)("div",{className:i||o?"":"data-table-cell"})},a)}))},a);var a})):Qa.length&&!qt?Qa.map((e=>{var a,n;tn(e);var{checked:r,title:i}=null!==(a=e.getToggleRowSelectedProps())&&void 0!==a?a:{},o="".concat(_,"-").concat(e.id),l=La?Fa({checked:r,id:e.id}):r;return(0,T.tZ)(J,{fetchData:de,row:e,id:o,lastCellFocused:_n,enableLazyLoadRows:La,handleToggleRow:Ba,checked:!!l,title:i,key:o,actions:$,getRowActions:te,handleKeyDown:In,handleOnClick:Rn,actionButtons:ae,hasMultipleVisibleColumns:ka.length>1,multipleRowsSelected:!!It&&En.length>1,selectMode:(null===En||void 0===En?void 0:En.length)>0,hideCheckboxes:Ie,rowLabelColumn:x,className:"data-table-row".concat(Hn?" status-indicator-row":""),resetData:On,dragAndDrop:it,scrollableArea:null===(n=bt.current)||void 0===n?void 0:n.getBoundingClientRect(),getCustomRowProps:lt,showSelectedToggleRowSelected:ca,tableContainerWidth:t})})):Kn()})]})})}})})]})}},60400:(e,t,a)=>{a.d(t,{Z:()=>C});var n=a(41554),r=a(4519),i=a(27573),o=a(17335),l=a.n(o),s=a(34928),d=a(8456),c=a(49137),u=a(55736),p=a(51201),h=a(39152),g=a(18370),v=a(77537);var m=(0,n.Z)(c.C,{target:"e23soe30"})({name:"1nijqup",styles:'&[data-disabled="true"]{cursor:initial;}'}),f=(0,i.YjB)((e=>{var{value:t,defaultValue:a}=e,n=(0,s.h7H)(t);return(0,s.KN3)(a)?n:!n||!l()(t,a)})),y=(0,i.YjB)((e=>{var{value:t,initialValue:a,defaultValue:n}=e;return(0,s.h7H)(t)||(0,s.h7H)(a)||(0,s.h7H)(n)})),b=e=>(0,i.jCC)((0,s.r3W)(e),"name"),T=(0,i.qCK)((0,i.jge)("name"),(0,i.hXT)((0,i.jCC)(s.h7H,"initialValue")));function C(e){var{customFilters:t,updateFilter:a,clearFilters:n,clearFiltersOnReset:o,disabled:l}=e,{primary:C=[],secondary:E=[]}=(0,r.useMemo)((()=>(0,i.vMG)((0,i.vgT)("category"),t)),[t]),[S,w]=(0,r.useState)(T(E)),[I,k]=(0,r.useState)(T(E)),_=(0,i.hXT)(b(I),E),x=(0,i.d1t)((0,i.H50)([(0,i.vgT)("hidden"),b(I)]),E),R=I.length>0||o&&y(t)||f(t),A=e=>{w((0,i.zud)(e)),k((0,i.zud)(e))};return(0,v.BX)(v.HY,{children:[C.map((e=>{var t;if(e.hidden)return null;var n=e.type===g.kE.USER_DEFINED?e.Component:null===(t=h.Z[e.type])||void 0===t?void 0:t.Component;return(0,v.tZ)(n,{filter:e,updateFilter:a,openOnMount:null===e||void 0===e?void 0:e.openOnMount,disabled:l},e.name)})),_.map((e=>{var t;if(e.hidden)return null;var n=null===(t=h.Z[e.type])||void 0===t?void 0:t.Component;return(0,v.tZ)(n,{key:e.name,filter:e,updateFilter:a,alwaysShowRemove:!0,openOnMount:!S.includes(e.name),onRemove:A,onDropdownClose:()=>{(0,s.h7H)(e.value)||A(e.name)},disabled:l})})),x.length>0&&(0,v.tZ)(u.Z,{modal:!1,options:x,onSelect:e=>{var{name:t}=e;return k((0,i.R3I)(t))},variant:"compact",disabled:l,children:(0,v.tZ)(m,{renderAsDiv:!0,type:"secondary",variant:"accessory",labelToken:"general.moreFilters",disabled:l})}),R&&(0,v.tZ)(c.C,{type:"tertiary",transparent:!0,onClick:()=>{w(T(E)),k(T(E)),n()},disabled:l,children:(0,v.tZ)(p.Z,{type:"body",token:(0,s.eWj)("Reset filters"),color:l?"colorTextDisabled":"colorTextAction",fontWeight:d.default.typography.fontWeight.medium})})]})}},39152:(e,t,a)=>{a.d(t,{Z:()=>T});var n=a(43077),r=a.n(n),i=a(27573),o=a(6775),l=a(3947),s=a(54154),d=a(61907),c=a(77561),u=a(60707),p=a(99804),h=a(84166),g=a(30220),v=a(16927),m=a(14096),f=a(18370),y=a(89674),b=a(11828);const T={[f.kE.SINGLE_SELECT]:{filter:e=>{var{name:t,row:a,value:n}=e;return Array.isArray(a[t])?a[t].includes(n):(0,i.OH4)(t,n,a)},Component:h.Z},[f.kE.MULTISELECT]:{filter:e=>{var{name:t,row:a,value:n}=e;return n.includes(a[t])},Component:d.Z},[f.kE.SEARCHABLE_SELECT]:{filter:e=>{var{name:t,row:a,value:n,componentProps:{valueSelectorKey:r="value"}}=e;return(0,i.qCK)((0,i.q9t)(a[t]),(0,i.jge)(r))(n)},Component:p.Z},[f.kE.LAZY_SEARCHABLE_SELECT]:{filter:e=>{var{name:t,row:a,value:n,componentProps:{valueSelectorKey:r="value"}}=e;return(0,i.qCK)((0,i.q9t)(a[t]),(0,i.jge)(r))(n)},Component:b.Z},[f.kE.INPUT_WITH_UNIT_DROPDOWN]:{filter:e=>{var t,{name:a,row:n,value:r}=e;return n[a]>=(null!==(t=r.inputValue)&&void 0!==t?t:0)},Component:s.Z},[f.kE.RADIO_GROUP]:{filter:e=>{var t,{name:a,row:n,value:r}=e;return n[a]>=(null!==(t=r.selected)&&void 0!==t?t:0)},Component:u.Z},[f.kE.DATE_RANGE_SELECT]:{filter:e=>{var{name:t,row:a,value:n}=e,{from:r,to:i}=n;return r&&i&&(0,o.isBetweenDates)(a[t],r,i)},Component:l.Z},[f.kE.DATE_RANGE_PICKER]:{filter:e=>{var{name:t,row:a,value:n,componentProps:{inclusive:r=!0}={}}=e,{from:i,to:l}=n;return i&&l&&(0,o.isBetweenDates)(a[t],i,l,r)},Component:g.Z},[f.kE.DATE_RANGE_PICKER_SELECT]:{filter:e=>{var{name:t,row:a,value:n}=e,{from:r,to:i}=n;return r&&i&&(0,o.isBetweenDates)(a[t],r,i)},Component:v.Z},[f.kE.DATE_RANGE_CONDITION]:{filter:e=>{var{name:t,row:a,value:n}=e,{dateRange:i,mode:l,amount:s,timeUnit:d}=n;if("range"===l){var{start:c,end:u}=i;return c&&u&&(0,o.isBetweenDates)(a[t],c,u)}var p=r().unix(a[t]);return"gte"===l?r()().add(s,d).endOf("day").isSameOrAfter(p):r()().subtract(s,d).startOf("day").isSameOrBefore(p)},Component:y.Z},[f.kE.NUMBER_RANGE]:{filter:e=>{var{name:t,row:a,value:n}=e,{from:r,to:i}=n;return(0,o.isNumber)(r)&&(0,o.isNumber)(i)&&(0,o.betweenInclusive)(r,i)(a[t])},Component:c.Z},[f.kE.SINGLE_VALUE]:{filter:e=>{var{name:t,row:a,value:n}=e;return a[t]===n},Component:m.Z}}},54830:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(4519),r=a(96560),i=a(55460),o=a(51817),l=a(77537);function s(e){var{clearButtonId:t="search-bar-global-filter-clear-button",disabled:a,globalFilter:s,globalFilterCharLimit:d,gotoPage:c,isManualPaginationEnabled:u,searchPlaceholderText:p,setGlobalFilter:h,shouldTrimGlobalFilter:g,searchBarFullWidth:v,searchBarAutoFocus:m}=e,[f,y]=(0,n.useState)(s),b=(0,r.useAsyncDebounce)((e=>{h(e||void 0)}),400);return(0,l.tZ)(o.Z,{buttonId:t,className:"data-table-search",width:v?"100%":(0,i.Oy)(75),autofocus:m,placeholderText:p,value:f||"",onChange:e=>{y(e.target.value),b(g?e.target.value.trim():e.target.value)},clearInput:()=>{y(""),b(""),u&&c(0)},maxLength:d,disabled:a})}},18370:(e,t,a)=>{a.d(t,{BS:()=>m,Gf:()=>s,JA:()=>u,JP:()=>p,OA:()=>g,Qe:()=>r,Wx:()=>v,aE:()=>d,iM:()=>h,k2:()=>i,kE:()=>o,pI:()=>c,rG:()=>l});var n=a(34928),r={RELOAD_TABLE:"reload-table"},i={ANCHOR:"Anchor",BUTTON_LINK:"ButtonLink",ICON:"Icon",TEXT:"Text",SWITCH:"Switch",TAGS:"Tags",LAZY_RENDERER:"LazyRenderer",STICKY_POPOVER:"StickyPopover",DATE:"Date",CURRENCY:"Currency",NUMBER:"Number",PROGRESS:"Progress"},o={SINGLE_SELECT:"SingleSelect",MULTISELECT:"MultiSelect",SEARCHABLE_SELECT:"SearchableSelect",LAZY_SEARCHABLE_SELECT:"LazySearchableSelect",INPUT_WITH_UNIT_DROPDOWN:"InputWithUnitDropdown",RADIO_GROUP:"RadioGroup",DATE_RANGE_CONDITION:"DateRangeCondition",DATE_RANGE_SELECT:"DateRangeSelect",DATE_RANGE_PICKER:"DateRangePicker",DATE_RANGE_PICKER_SELECT:"DateRangePickerSelect",NUMBER_RANGE:"NumberRange",SINGLE_VALUE:"SingleValue",USER_DEFINED:"UserDefined"},l={SWITCH:"Switch"},s={DISABLED:"disabled",ERROR:"error"},d=(0,n.eWj)("{{results}} results"),c=(0,n.eWj)("{{start}} - {{end}} of {{total}}"),u=(0,n.eWj)("Select {{count}} on current page"),p=(0,n.eWj)("Unselect {{count}} on current page"),h=(0,n.eWj)("Select all {{count}} result(s)"),g=(0,n.eWj)("Unselect all {{count}} result(s)"),v={primary:[],secondary:[],row:null},m="header_"},95922:(e,t,a)=>{a.d(t,{l:()=>n});var n=e=>{var{fetchData:t,enableLazyLoadRows:a}=e;return(e,n)=>{var{type:r,totalRowCount:i,selectedRowIds:o}=n;return t&&["toggleSortBy","setGlobalFilter"].includes(r)?{...e,pageIndex:0}:a&&"totalRowCountUpdate"===r?{...e,totalRowCount:i}:"manuallySetSelectedRowIds"===r?{...e,selectedRowIds:o}:"clearSelection"===r?{...e,selectedRowIds:{}}:e}}},52254:(e,t,a)=>{a.d(t,{De:()=>h,H4:()=>g,Kf:()=>l,Lm:()=>o,VL:()=>i,VN:()=>s,WI:()=>u,Zu:()=>p,iY:()=>c,xH:()=>d});var n=a(27573),r=(a(55460),a(34928)),i=e=>{setTimeout(e,0)},o=e=>!1===e,l=e=>"\n  min-width: ".concat(e," !important;\n  max-width: ").concat(e," !important;\n  width: ").concat(e," !important;\n"),s=e=>{var{enableLazyLoadRows:t,totalRowCount:a,pageSizeLimit:n,pageCount:r,showSelected:i,rowsSelectedCount:o}=e;return i?o>n:t?Math.ceil(a/n)>1:r&&r>1},d=e=>{var t=(new Date).getTime()-e.getTime();return Math.round(t/6e4)};var c=e=>{var{enableLazyLoadRows:t,totalRowCount:a,loadedRowsWithDisabled:n,selectableRowsCount:r,rows:i,fetchData:o,totalCount:l}=e;return t?a:o?l:n?r:i.length},u=e=>{var{rows:t,page:a,hasMultiplePages:n,getCustomRowProps:r,loadedRowsWithDisabled:i}=e,o=0,l=0,s=0,d=0;return i&&(t.forEach((e=>{var{disabled:t}=r(e.original);e.isSelected&&o++,!t&&l++})),n&&a.forEach((e=>{var{disabled:t}=r(e.original);e.isSelected&&s++,!t&&d++}))),{isAllSelectableRowsSelected:l===o,isAllSelectablePageRowsSelected:d===s,disableSelectAll:i&&0===l,selectableRowsCount:l,selectablePageRowsCount:d}},p=(e,t)=>(null===e||void 0===e?void 0:e.length)>0&&e.some((e=>{var{hideMultiAction:a}=e;return!(null!==a&&void 0!==a&&a(t))})),h=(0,n.hXT)((e=>(0,r.h7H)(e.value)||(0,r.h7H)(e.initialValue))),g=(0,n.UID)((0,n.yGi)("disableSortBy",!0))},81169:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(41554),r=a(67009),i=(a(55460),a(77537)),o=(0,n.Z)("div",{target:"e1hvs9iq0"})("position:relative;width:",(e=>{var{width:t}=e;return t}),";height:",(e=>{var{height:t}=e;return t}),";display:flex;align-items:center;justify-content:center;color:",(e=>{var{theme:t}=e;return t.colorTextWeakest}),";svg{font-size:22px;}");function l(e){var{icon:t,Icon:a,tooltip:n,width:l="25px",height:s="20px"}=e,d=(0,r.createIcon)(t);return(0,i.tZ)(o,{width:l,height:s,children:a?(0,i.tZ)(a,{}):(0,i.tZ)(d,{})})}},55736:(e,t,a)=>{a.d(t,{Z:()=>_});var n=a(41554),r=a(4519),i=a(21250),o=a(93802),l=a(67009),s=a(8456),d=a(55460),c=a(6775),u=a(75493),p=a(24573),h=a(51201),g=a(50836),v=a(77537);var m=(0,n.Z)(o.fC,{target:"e16bvwle5"})({name:"oldbq4",styles:"user-select:none"}),f=(0,n.Z)(o.xz,{target:"e16bvwle4"})("cursor:pointer;user-select:none;padding:0;border:none;background-color:transparent;display:flex;gap:",s.default.spacing[2],";align-items:center;",(e=>{var{asChild:t,theme:a}=e;return!t&&"color: ".concat(a.colorTextAction)}),";&:focus-visible{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";border-radius:",s.default.borderRadius[1],";}&:disabled{background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundCtaDisabled}),";color:",(e=>{var{theme:t}=e;return t.colorTextDisabled}),";}"),y=(0,n.Z)(o.VY,{shouldForwardProp:e=>(0,i.Z)(e)||!["contentZIndex","dropdownListHeight","contentMinWidth"].includes(e),target:"e16bvwle3"})("padding:0;z-index:",(e=>{var{contentZIndex:t}=e;return t||9998}),";background:",(e=>{var{theme:t}=e;return t.colorBackgroundWidget}),";margin-top:2px;min-width:",(e=>{var{contentMinWidth:t}=e;return t||"200px"}),";border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeak}),";border-radius:",s.default.borderRadius[1],";",(e=>{var{width:t}=e;return(e=>{var{width:t}=e;return"match"===t?"\n        width: var(--radix-dropdown-menu-trigger-width);\n      ":""})({width:t})}),";max-height:",(e=>{var{dropdownListHeight:t}=e;return t||"var(--radix-dropdown-menu-content-available-height)"}),";overflow-y:auto;hr{display:none;}*:not(hr)+hr:not(:last-child){display:block;}"),b=y.withComponent(o.tu,{target:"e16bvwle6"}),T=(0,n.Z)(o.ck,{shouldForwardProp:e=>(0,i.Z)(e),target:"e16bvwle2"})("&:not([data-disabled]){cursor:pointer;}user-select:none;text-align:left;margin:",s.default.spacing[1],";padding:",s.default.spacing[3]," ",s.default.spacing[2],";border-radius:",s.default.borderRadius[1],";color:",(e=>{var{usesTextColor:t,theme:a}=e;return t?a.colorTextStrong:a.colorTextAction}),";&:hover&:focus{outline:none;}&:focus{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),';@supports (-moz-appearance: none){outline-offset:-2px;}}&:focus&[aria-expanded="true"]{outline:0;}&[data-highlighted]{background:',(e=>{var{theme:t}=e;return t.colorForegroundHover}),";color:",(e=>{var{usesTextColor:t,theme:a}=e;return t?a.colorTextStrong:a.colorTextAction}),";}&[data-disabled]{color:",(e=>{var{theme:t}=e;return t.colorTextDisabled}),";}",(e=>{var{theme:t,variant:a}=e;return(e=>{var{theme:t,variant:a}=e;return"compact"===a?"\n        padding: ".concat(s.default.spacing[2],";\n        color: ").concat(t.colorTextWeak,';\n\n        &[data-highlighted],\n        &[aria-expanded="true"] {\n          color: ').concat(t.colorTextWeak,";\n        }\n      "):"\n      "})({theme:t,variant:a})}),";"),C=T.withComponent(o.fF,{target:"e16bvwle7"}),E=(0,n.Z)("div",{target:"e16bvwle1"})("padding:",s.default.spacing[3]," 0 0 ",s.default.spacing[3],";user-select:none;"),S=(0,n.Z)("a",{target:"e16bvwle0"})("font-size:",(e=>{var{size:t}=e;return(0,d.y3)(t)}),";color:inherit;text-decoration:none;&:visited{color:inherit;}"),w=e=>{var{titleToken:t}=e;return(0,v.tZ)(E,{children:(0,v.tZ)(h.Z,{size:"xs",color:"colorTextWeakest",token:t,lineHeight:"13px"})})},I=e=>{var{action:t=(()=>{}),disabled:a,href:n,id:i,isRed:d,Icon:g,labelToken:m,LabelComponent:f,onSelect:y=(()=>{}),splitBefore:b,splitAfter:E,options:I,target:_="_blank",titleToken:x,TitleComponent:R,usesTextColor:A,variant:Z,isLastOption:D,subMenuSideOffset:N=6,subMenuAlignOffset:O=-6,...M}=e,L=(0,r.useRef)(null),P=(0,r.useRef)(null),z=null===I||void 0===I?void 0:I.length,B=z?u.kC:u.xu,W=(0,v.BX)(B,{...z&&{justifyContent:"space-between",alignItems:"center"},children:[g&&(0,v.tZ)(u.xu,{display:"inline-block",marginRight:s.default.spacing[2],children:(0,v.tZ)(g,{color:d?"colorTextDanger":"inherit",size:"compact"===Z?"sm":"md"})}),n&&(0,v.tZ)(S,{ref:L,size:"compact"===Z?"sm":"md",onClick:()=>P.current=!0,href:n,target:_,...M,children:(0,c.localized)(m)}),!n&&f&&(0,v.tZ)(f,{}),!n&&(0,v.tZ)(h.Z,{as:"span",token:m,lineHeight:"initial",size:"compact"===Z?"sm":"md",color:d?"colorTextDanger":"inherit"}),z&&(0,v.tZ)(l.ChevronRightIconLight,{size:"compact"===Z?"sm":"md"})]});return z?(0,v.BX)(v.HY,{children:[b&&(0,v.tZ)(p.nK,{color:"colorBorderWeakest"}),(0,v.BX)(o.Tr,{children:[(0,v.tZ)(C,{disabled:a,usesTextColor:A,variant:Z,"data-ninja-dropdown-sub-menu":"",children:W}),(0,v.tZ)(k,{isSubMenu:!0,subMenuSideOffset:N,subMenuAlignOffset:O,options:I,variant:Z})]}),E&&!D&&(0,v.tZ)(p.nK,{color:"colorBorderWeakest"})]}):(0,v.BX)(v.HY,{children:[b&&(0,v.tZ)(p.nK,{color:"colorBorderWeakest"}),R&&(0,v.tZ)(R,{}),!R&&x&&(0,v.tZ)(w,{titleToken:x}),!R&&!x&&(0,v.tZ)(T,{disabled:a,variant:Z,usesTextColor:A,"data-ninja-dropdown-item":"",onClick:e=>e.stopPropagation(),onSelect:()=>{if(null===t||void 0===t||t({...M,labelToken:m}),null===y||void 0===y||y({...M,labelToken:m}),n){if(P.current)return;L.current.click()}},"data-test-action-name":m,children:W}),E&&(0,v.tZ)(p.nK,{color:"colorBorderWeakest"})]})},k=(0,r.forwardRef)(((e,t)=>{var{options:a,portal:n,parentBottom:r,variant:i,onSelect:o,PopoverContainer:l,alignRight:d,matchWidth:p,onEscapeKeyDown:m,onInteractOutside:f,dropdownListHeight:T,contentZIndex:C,contentMinWidth:E,isSubMenu:S,subMenuAlignOffset:w,subMenuSideOffset:k,isLoadingOptions:_}=e,x=n||"number"!==typeof r?void 0:-1*r,R=S?b:y,A=null!==a&&void 0!==a&&a.length?a.map(((e,t)=>(0,v.tZ)(I,{...e,variant:i,onSelect:o,isLastOption:t===a.length-1},e.id||e.labelToken))):(0,v.tZ)(u.xu,{margin:s.default.spacing[1],padding:s.default.spacing[2],children:(0,v.tZ)(h.Z,{as:"span",token:(0,c.localizationKey)("No options found"),lineHeight:"initial",type:"compact"===i?"body":"headingS",color:"colorTextDisabled"})}),Z=p?"match":"normal",D=_?(0,v.tZ)(u.xu,{padding:[s.default.spacing[1],s.default.spacing[3]],"data-testid":"dropdown-items-skeletons",children:Array.from({length:3}).map(((e,t)=>(0,v.tZ)(g.ZP,{key:t,width:"100%",height:"21px",marginBottom:"6px",marginTop:"6px"})))}):A;return(0,v.tZ)(R,{hideWhenDetached:!0,onKeyDown:e=>{"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.stopPropagation(),"Escape"===e.key&&(m(),e.stopPropagation())},align:d?"end":"start",alignOffset:w,sideOffset:S?k:x,ref:t,width:Z,dropdownListHeight:T,onInteractOutside:f,contentZIndex:C,contentMinWidth:E,onClick:e=>{e.stopPropagation()},collisionPadding:{top:3*s.default.spacingBase,bottom:3*s.default.spacingBase},children:l?(0,v.tZ)(l,{children:D}):D})}));function _(e){var{ariaLabel:t,variant:a,options:n,children:i,className:l,contentZIndex:s,contentMinWidth:u,alignRight:p,matchWidth:h,onCloseAutoFocus:g,onEscapeKeyDown:y,onInteractOutside:b,parentBottom:T,portal:C=!0,modal:E=!1,childIsButton:S,PopoverContainer:w,isExternalOpening:I,onSelect:_=(()=>{}),handleExternalClose:x,onOpenChange:R=(()=>{}),dropdownListHeight:A=null,disabled:Z,isLoadingOptions:D}=e,[N,O]=(0,d.DJ)(!1);(0,r.useEffect)((()=>{I&&(O(I),null===R||void 0===R||R(I),null===x||void 0===x||x())}),[O,x,I,R]);var M=(0,v.tZ)(k,{portal:C,variant:a,options:n,onSelect:_,alignRight:p,matchWidth:h,onCloseAutoFocus:g,onInteractOutside:b,parentBottom:T,PopoverContainer:w,dropdownListHeight:A,onEscapeKeyDown:()=>{O(!1),null===R||void 0===R||R(!1),null===y||void 0===y||y()},contentZIndex:s,contentMinWidth:u,isLoadingOptions:D});return(0,v.BX)(m,{open:N,onClick:e=>e.stopPropagation(),className:"dropdown-target ".concat(null!==l&&void 0!==l?l:""),modal:E,onOpenChange:e=>{O(e),null===R||void 0===R||R(e)},children:[(0,v.tZ)(f,{"aria-label":null!==t&&void 0!==t?t:(0,c.localized)("Actions"),asChild:S,"data-ninja-dropdown-trigger":"",onClick:e=>e.stopPropagation(),disabled:Z,onKeyDown:e=>{"NumpadEnter"===e.code&&e.stopPropagation()},children:i}),C?(0,v.tZ)(o.Uv,{children:M}):M]})}},21013:(e,t,a)=>{a.d(t,{Z:()=>w});var n=a(41554),r=a(4519),i=a(55460),o=a(67009),l=a(55906),s="application/vnd.openxmlformats-officedocument.wordprocessingml.document",d="vnd.openxmlformats-officedocument.presentationml.presentation",c={size:"lg",color:"#337AB7"},u={png:{component:o.ImageIconLight,label:"Image"},image:{component:o.ImageIconLight,label:"Image"},audio:{component:o.AudioFileIconLight,label:"Audio"},video:{component:o.VideoFileIconLight,label:"Video"},zip:{component:o.ZipFileIconLight,label:"ZIP"},pdf:{component:o.PdfFileIconLight,label:"PDF"},csv:{component:o.CsvFileIconLight,label:"CSV"},powerpoint:{component:o.PowerPointFileIconLight,label:"PowerPoint"},msword:{component:o.WordFileIconLight,label:"Word"},[d]:{component:o.PowerPointFileIconLight,label:"PowerPoint"},[s]:{component:o.WordFileIconLight,label:"Word"}},p=a(29374),h=a(83315),g=a(55736),v=a(69462),m=a(66037),f=a(77537);var y=(0,n.Z)("div",{target:"e16pyy9f5"})("height:52px;width:100%;padding:",(0,i.Oy)(1),";",(e=>{var{onClick:t}=e;return t&&"cursor: pointer;"})," display:flex;align-items:center;justify-content:space-between;background-color:",(e=>{var{theme:t,backgroundColor:a}=e;return t[a]||t.colorBackground}),";border-radius:2px;border:1px solid ",(e=>{var{theme:t,borderColor:a}=e;return t[a]||t.colorBorderWeak}),";",(e=>{var{matchWidth:t}=e;return!t&&"max-width: 300px"}),";&:focus-visible{outline-offset:0;outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),';}&:not(:focus-visible):not(:focus-within):not(:hover){.action-icons{visibility:hidden;}}[data-ninja-dropdown-trigger]{&[aria-expanded="true"]{background-color:',(e=>{var{theme:t}=e;return t.colorForegroundHover}),";}}"),b=(0,n.Z)("div",{target:"e16pyy9f4"})("width:44px;min-width:44px;height:44px;background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutralWeakest}),";margin-right:",(0,i.Oy)(2),";display:flex;align-items:center;justify-content:center;"),T=(0,n.Z)("div",{target:"e16pyy9f3"})("display:flex;justify-content:space-between;width:calc(100% - ",52,"px);"),C=(0,n.Z)("div",{target:"e16pyy9f2"})("display:flex;flex-direction:column;gap:",(e=>{var{isLoading:t}=e;return t?(0,i.Oy)(2):(0,i.Oy)(1)}),";width:",(e=>{var{hasActionIcons:t,hasLoadingActions:a}=e;return function(e){var{hasActionIcons:t,hasLoadingActions:a}=e;return t||a?"calc(100% - ".concat(40,"px)"):"100%"}({hasActionIcons:t,hasLoadingActions:a})}),";"),E=(0,n.Z)(h.Z,{target:"e16pyy9f1"})("width:32px;height:32px;&:focus-visible{outline-offset:0;outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";}"),S=(0,n.Z)("div",{target:"e16pyy9f0"})({name:"s5xdrg",styles:"display:flex;align-items:center"});const w=function(e){var{file:t,actions:a,onClick:n,onCancelUploadClick:h,progress:w,matchWidth:I,variant:k,iconTooltip:_}=e,[x,R]=(0,i.DJ)(!1),A="number"===typeof w&&w<100,Z=(null===a||void 0===a?void 0:a.length)>0,D=A&&h,{component:N,label:O,iconColor:M,tooltipVariant:L,iconSize:P,cardBorderColor:z,cardBackgroundColor:B,textColor:W}=(0,r.useMemo)((()=>{if("PROCESSING"===k)return{component:o.LoaderIconLight,label:"Loading",cardBackgroundColor:"colorBackgroundAccentNeutralWeakest",textColor:"colorTextDisabled"};if("ERROR"===k)return{component:o.CircleExclamationIcon,label:"Error",tooltipVariant:m.ZC.DANGER,iconColor:"colorAlertError",cardBorderColor:"colorAlertError",iconSize:"md"};var e=Object.keys(u).find((e=>{var a;return null===(a=t.type)||void 0===a?void 0:a.toLowerCase().includes(e)}));return u[e]||{component:o.FileIconLight,label:"File"}}),[t.type,k]),U=(0,r.useMemo)((()=>{var e,a,n=t.type||"";return n===d?"pptx":n===s?"docx":(null===n||void 0===n||null===(e=n.split("/"))||void 0===e||null===(a=e[1])||void 0===a?void 0:a.toUpperCase())||n.toUpperCase()||(0,l.kI)("Document")}),[t]),F=()=>(0,f.tZ)(N,{label:(0,l.kI)(O),...c,...M&&{color:M},...P&&{size:P}});return(0,f.BX)(y,{onClick:n,tabIndex:0,"data-testid":"file-attachment-card",...z&&{borderColor:z},...B&&{backgroundColor:B},matchWidth:I,children:[(0,f.tZ)(b,{"aria-hidden":"true",children:_?(0,f.tZ)(m.ZP,{label:_,...L&&{variant:L},children:F()}):F()}),(0,f.BX)(T,{children:[(0,f.BX)(C,{hasActionIcons:Z,hasLoadingActions:D,isLoading:A,children:[(0,f.tZ)(p.Z,{as:"p",size:"bodyXs",color:W||"colorTextStrong",fontWeight:500,children:t.name}),A?(0,f.tZ)(v.ZP,{progress:w,ariaLabel:"".concat(w,"%")}):(0,f.tZ)(p.Z,{as:"p",color:W||"colorTextWeakest",type:"bodyXs",children:"".concat(U).concat(null!==t&&void 0!==t&&t.size?" - ".concat((0,i.sS)(t.size)):"")})]}),(0,f.BX)(S,{children:[!A&&Z&&(0,f.tZ)("div",{className:x?void 0:"action-icons",children:(0,f.tZ)(g.Z,{options:a,alignRight:!0,variant:"compact",childIsButton:!0,onOpenChange:R,modal:!0,children:(0,f.tZ)(E,{children:(0,f.tZ)(o.EllipsisHIcon,{size:"md",color:"colorTextStrong"})})})}),D&&(0,f.tZ)(E,{handleClick:h,tooltip:(0,l.kI)("Cancel upload"),children:(0,f.tZ)(o.CircleXMarkLight,{size:"md",color:"colorTextStrong"})})]})]})]})}},48693:(e,t,a)=>{a.d(t,{Z:()=>h});var n=a(41554),r=a(4519),i=a(50176),o=a(67009),l=a(55460),s=a(75493),d=a(6775),c=a(77537),u=(0,n.Z)("div",{target:"e1guvlpb1"})("button{background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutralWeakest}),";&:focus-visible{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";}&:hover,&:focus{background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutralWeak}),";}}"),p=(0,n.Z)(s.kC,{target:"e1guvlpb0"})("background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutralWeakest}),";");const h=e=>{var{onSelect:t,accept:a,buttonLabelToken:n,titleToken:h,labelTokenDescription:g,maxFiles:v=5,errorMessageToken:m,multiple:f=!1,currentFileCount:y=0,fileSizeExceeded:b}=e,T=(0,r.useRef)(null),C=y>=v;return(0,c.BX)(s.xu,{width:"100%",children:[(0,c.BX)(p,{minHeight:(0,l.Oy)(10),justifyContent:"space-between",alignItems:"center",borderRadius:(0,l.Oy)(1),paddingLeft:(0,l.Oy)(3),flexWrap:"wrap",children:[(0,c.tZ)(i.xv,{bold:!0,token:h,tokenArgs:{currentFileCount:y},color:"colorTextStrong"}),(0,c.tZ)("input",{"data-testid":"file-attachment-upload-input",type:"file",style:{display:"none"},ref:T,onChange:e=>{var a=e.target.files,n=(null===a||void 0===a?void 0:a.length)+y;(null===a||void 0===a?void 0:a.length)>0&&n<=v?t(a):(0,d.showErrorMessage)((0,d.localized)(m,{maxFiles:v}))},accept:a,multiple:f,disabled:C}),(0,c.tZ)(u,{children:(0,c.tZ)(i.hU,{onClick:()=>{null!==T&&void 0!==T&&T.current&&(T.current.value=null,T.current.click())},disabled:C,tooltip:(0,d.localized)(n),size:"lg",children:(0,c.tZ)(o.PlusIcon,{color:"colorTextStrong"})})})]}),(0,c.BX)(s.kC,{paddingLeft:(0,l.Oy)(3),paddingRight:(0,l.Oy)(3),marginTop:(0,l.Oy)(3),alignItems:"flex-start",justifyContent:"space-between",flexWrap:!0,children:[b&&(0,c.tZ)(s.xu,{margin:(0,l.Oy)(1,2,0,0),children:(0,c.tZ)(i.u,{label:(0,d.localized)("File is larger than 100 MB"),children:(0,c.tZ)(o.CircleExclamationIcon,{color:"colorTextDanger",size:"sm"})})}),(0,c.tZ)(i.xv,{textWrap:!0,size:"sm",token:g,color:b?"colorTextDanger":"colorTextWeakest"})]})]})}},88499:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(41554),r=a(4519),i=a(84453),o=a(72045),l=a(8456),s=a(67009),d=(a(55460),a(24573)),c=a(77537),u=(0,n.Z)(o.Eh,{target:"e1hc8xrz2"})("fill:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentCtaStrongest}),";"),p=(0,n.Z)(o.x8,{target:"e1hc8xrz1"})(d.xt," position:absolute;top:",l.default.spacing[4],";right:",l.default.spacing[4],";"),h=(0,n.Z)(o.VY,{target:"e1hc8xrz0"})("width:",(e=>{var{width:t}=e;return t}),"px;position:relative;background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentCtaStrongest}),";color:",(e=>{var{theme:t}=e;return t.colorTextHighContrast}),";border-radius:",l.default.borderRadius[1],";padding:",l.default.spacing[5],";z-index:200;&&& svg{color:",(e=>{var{theme:t}=e;return t.colorTextHighContrast}),";}h4{display:flex;align-items:center;font-size:",l.default.typography.fontSize.headingS,";font-weight:",l.default.typography.fontWeight.medium,";margin-bottom:",l.default.spacing[3],";margin-top:0;gap:",l.default.spacing[2],";}p{font-size:",l.default.typography.fontSize.body,";margin-top:0;margin-bottom:0;a{text-decoration:underline;color:inherit;}}");const g=e=>{var t,{position:a,align:n,width:l=400,alignOffset:d,sideOffset:g=20,open:v,anchorRenderer:m,anchorPortalElement:f,title:y,iconName:b,textRenderer:T,onClose:C,usesPortal:E=!0}=e,S=(0,r.useRef)(null),w=null!==(t=s[b])&&void 0!==t?t:null,I=(0,c.tZ)(h,{side:a,align:n,width:l,hideWhenDetached:!0,alignOffset:d,sideOffset:g,onOpenAutoFocus:e=>{e.preventDefault()},onInteractOutside:e=>{e.preventDefault()},updatePositionStrategy:"always",children:(0,c.BX)("div",{ref:S,children:[(0,c.tZ)(p,{"aria-label":"Close",children:(0,c.tZ)(s.CloseIcon,{})}),(0,c.BX)("h4",{children:[w&&(0,c.tZ)(w,{}),y]}),T&&(0,c.tZ)("div",{children:T()}),(0,c.tZ)(u,{width:20,height:10})]})});return(0,r.useEffect)((()=>{var e=S.current;if(e){var t=e=>{e.stopPropagation()};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}}),[]),(0,c.BX)(o.fC,{open:v,defaultOpen:!0,modal:!1,onOpenChange:e=>{e||null===C||void 0===C||C()},children:[m?(0,c.tZ)(o.ee,{children:m()}):f&&(0,i.createPortal)((0,c.tZ)(o.ee,{}),f),E?(0,c.tZ)(o.h_,{children:I}):I]})}},75217:(e,t,a)=>{a.d(t,{F:()=>p,Z:()=>u});var n=a(65230),r=a(67009),i=a(8456),o=(a(55460),a(75493)),l=a(66037),s=a(44192),d=a(77537),c=e=>{var{ariaError:t,ariaId:a,ariaLive:o="polite",error:s,forFormField:c=!0,size:u,tooltipAlignment:p,tooltipPosition:h,triggerAsChild:g}=e;return(0,d.BX)(l.ZP,{isErrorMessage:!0,label:s,sideOffset:i.wS,align:p,position:h,triggerAsChild:g,children:[(0,d.tZ)(n.f,{"aria-live":o,...c&&{id:"".concat(a,"-error")},children:null!==t&&void 0!==t?t:s}),(0,d.tZ)(r.InputErrorIcon,{color:"colorBackgroundCtaDanger",size:u})]})};const u=c;var p=e=>{var{error:t,forFormField:a=!1,id:n,tooltipAlignment:r,tooltipPosition:l}=e;return t?(0,d.tZ)(o.xu,{position:"absolute",top:"9px",right:i.W0[3],children:(0,d.tZ)(s.Y,{children:(0,d.tZ)(c,{ariaId:n,error:t,forFormField:a,tooltipAlignment:r,tooltipPosition:l})})}):null}},41047:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(41554),r=a(55460),i=a(77537),o=(0,n.Z)("div",{target:"ehyd4640"})("padding:",(0,r.Oy)(2,3),";border-radius:",(0,r.Oy)(1),";text-align:",(e=>{var{textAlignment:t}=e;return t}),";",(e=>{var{theme:t,variant:a}=e;return l({theme:t,variant:a})}),";"),l=e=>{var{theme:t,variant:a}=e;switch(a){case"warn":return"\n        border: 1px solid ".concat(t.color.yellow,";\n        border-left: ").concat((0,r.Oy)(2)," solid ").concat(t.color.yellow,";\n        background-color: ").concat(t.color.lightYellow,";\n      ");case"info":return"\n        border: 1px solid ".concat(t.color.primary[100],";\n        border-left: ").concat((0,r.Oy)(2)," solid ").concat(t.color.primary[100],";\n        background-color: ").concat(t.color.primary["050"],";\n        ");default:return"\n          "}};function s(e){var{children:t,variant:a="warn",textAlignment:n="inherit"}=e;return(0,i.tZ)(o,{variant:a,textAlignment:n,children:t})}},44192:(e,t,a)=>{a.d(t,{Y:()=>v,Z:()=>f});var n=a(41554),r=a(4519),i=a(72045),o=a(55906),l=(a(55460),a(8456)),s=a(76490),d=a(78623),c=a(77537),u=(0,n.Z)("div",{target:"eu8nzea4"})("position:absolute;top:",l.default.spacing[2],";",(e=>{var{isDateTime:t}=e;return t?"left: ".concat(l.default.spacing[2]):"right: ".concat(l.default.spacing[3])}),";display:flex;align-items:",(e=>{var{toggleSecureInputVisibility:t}=e;return t?"baseline":"center"}),";gap:",l.default.spacing[1],";"),p=(0,n.Z)("button",{target:"eu8nzea3"})("width:20px;height:20px;padding:0;border:0;background:none;cursor:",(e=>{var{disabled:t}=e;return t?"not-allowed":"pointer"}),";&:focus-visible{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";}"),h=(0,n.Z)(p,{target:"eu8nzea2"})("color:",(e=>{var{theme:t}=e;return t.colorTextWeakest}),";& svg{font-size:",l.default.typography.fontSize.body,";}"),g=(0,n.Z)(p,{target:"eu8nzea1"})("color:",(e=>{var{theme:t}=e;return t.colorTextStrong}),";"),v=(0,n.Z)("div",{target:"eu8nzea0"})("&>button{display:flex;align-items:center;justify-content:center;width:14px;height:21px;border:0;border-radius:",l.default.borderRadius[1],";background:none;&:focus-visible{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";}}"),m=(0,r.forwardRef)(((e,t)=>{var{ariaLabel:a,dataset:n,icon:r,...i}=e;return(0,c.tZ)(h,{ref:t,"aria-label":a,...n,...i,children:r})}));const f=e=>{var{ariaErrorId:t,dataAttribute:a,disableClear:n,disabled:r,error:l,iconButton:p,iconIsTrigger:f,isDateTime:y,isSecureInputVisible:b,onClearClick:T,RightSideIcon:C,secureInputNotVisibleLabel:E,secureInputVisibleLabel:S,toggleSecureInputVisibility:w,tooltipAlignment:I,tooltipPosition:k}=e,_={["data-ninja-".concat(a)]:"true"};return(0,c.BX)(u,{isDateTime:y,toggleSecureInputVisibility:w,children:[!n&&!r&&(0,c.tZ)(g,{"aria-label":(0,o.kI)("Clear input"),"data-ninja-input-clear":"",id:"clearBtn",onClick:T,type:"button",children:(0,c.tZ)(s.y,{label:(0,o.kI)("Clear"),tooltipAlignment:I,tooltipPosition:k})}),l&&!r&&(0,c.tZ)(v,{children:(0,c.tZ)(s.x,{ariaError:"".concat((0,o.kI)("Error")," ").concat(l),ariaId:t,ariaLive:"assertive",triggerAsChild:!1,error:l,tooltipAlignment:I,tooltipPosition:k})}),p&&f&&(0,c.tZ)(i.xz,{asChild:!0,children:(0,c.tZ)(m,{ariaLabel:p.ariaLabel,icon:p.icon,onBlur:p.onBlur,onClick:p.onClick,onKeyDown:p.onKeyDown,type:"button",disabled:r,dataset:_})}),p&&!f&&(0,c.tZ)(h,{"aria-label":p.ariaLabel,onBlur:p.onBlur,onClick:p.onClick,type:"button",disabled:r,dataset:_,children:p.icon}),w&&(0,c.tZ)(d.Z,{isNotVisibleLabel:E,isVisible:b,isVisibleLabel:S,onClick:w,positioningStyles:"margin-top: -6px;",disabled:r}),C]})}},84202:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(4519),r=a(90470),i=a.n(r),o=(a(84854),a(77537));const l=e=>{var{defaultQuality:t=720,onInitialPlay:a,poster:r,sources:l=[],title:s,tracks:d=[],type:c="video"}=e,u=(0,n.useRef)(null),p=(0,n.useRef)(null),h=(0,n.useMemo)((()=>{var e;return null!==(e=null===l||void 0===l?void 0:l.map((e=>e.size)).filter(((e,t,a)=>"number"===typeof e&&a.indexOf(e)===t)).sort(((e,t)=>e-t)))&&void 0!==e?e:[]}),[l]),g=(0,n.useCallback)((e=>{e&&!p.current&&(p.current=new(i())(e,{quality:{default:h.includes(t)?t:h[h.length-1],options:h},settings:["captions","quality","speed"],controls:["play","progress","current-time","mute","volume","captions","settings","fullscreen"]}),p.current.source={type:c,poster:r,sources:l,tracks:d},p.current.once("ready",(()=>{if(u.current){var[e]=u.current.getElementsByTagName(c);e.title=s}})),p.current.once("playing",(()=>{null===a||void 0===a||a()})))}),[t,a,r,h,l,s,d,c]);return(0,o.tZ)("div",{ref:u,children:(0,o.tZ)("video",{crossOrigin:"",ref:g})})}},74679:(e,t,a)=>{a.d(t,{Z:()=>E});var n=a(41554),r=a(4519),i=a(41617),o=a(13182),l=a(8456),s=(a(55460),a(75493)),d=a(6775),c=a(72530),u=a(29374),p=a(41638),h=a(77537),g=(0,n.Z)(s.xu,{target:"e1wvg6o62"})("[data-ninja-searchable-select]{border:none;background:transparent!important;gap:0;padding:0;position:unset;padding-left:",l.default.spacing[2],";svg{width:9px!important;}&>div{max-width:unset;position:unset;}[data-ninja-searchable-select]{width:min-content;border-radius:unset;margin-right:",l.default.spacing[2],";}}"),v=(0,n.Z)("div",{target:"e1wvg6o61"})("height:22px;width:1px;margin-right:",l.default.spacing[2],";background-color:",(e=>{var{theme:t}=e;return t.colorBorderWeak}),";"),m=(0,n.Z)(c.ZP,{target:"e1wvg6o60"})("&:disabled{&::placeholder{color:",(e=>{var{theme:t}=e;return t.colorTextDisabled}),";}}"),f="US",y="92px",b=68,T=e=>"https://resources.ninjarmm.com/webapp/img/country-flag-icons/3x2/".concat(e,".svg"),C={borderRadius:"2px",width:"21px",objectFit:"cover",height:"14px"};function E(e){var{ariaLabel:t,disabled:a,labelText:n,required:l,onChange:c,tooltipRenderer:E,tooltipText:S,value:w,defaultValue:I,errorMessage:k}=e,_=(0,r.useRef)(),x=(0,r.useRef)(),R=(0,r.useRef)(),[A,Z]=(0,r.useState)(I),[D,N]=(0,r.useState)((()=>{if(!w)return f;var e=(0,i.SR)(w);return(null===e||void 0===e?void 0:e.country)||f})),[O,M]=(0,r.useState)(y),L="undefined"===typeof w?A:w,P=D;(0,r.useEffect)((()=>{if(w&&(0,i.yf)(w)&&!R.current){var e;R.current=!0;var t=(null===(e=(0,i.SR)(w))||void 0===e?void 0:e.country)||f;N(t)}}),[w]),(0,r.useLayoutEffect)((()=>{M("".concat(_.current.offsetWidth+b,"px"))}),[P]);var z=(0,i.ox)().map((e=>({value:e,labelText:"".concat((0,d.localized)(o.Z[e])," (+").concat((0,i.Gg)(e),")"),icon:(0,h.tZ)("img",{loading:"lazy",src:T(e),style:C,alt:(0,d.localized)("{{country}} flag",{country:(0,d.localized)(o.Z[e])})})})));return(0,h.BX)(s.xu,{position:"relative",children:[(0,h.BX)(g,{alignItems:"center",display:"flex",left:"0",position:"absolute",top:n?"25px":"0",zIndex:"1",children:[(0,h.tZ)(p.Z,{disabled:a,ariaLabel:(0,d.localized)("Select country"),onChange:e=>{var t;(N(e),c(""),w||Z(""),null!==x&&void 0!==x&&x.current)&&(null===x||void 0===x||null===(t=x.current)||void 0===t||t.focus())},options:z,selectedValueDisplay:"icon",value:P,popoverProps:{width:"300px",fullWidth:!1},hideClearSelectionButton:!0}),(0,h.tZ)(v,{}),(0,h.tZ)("div",{"aria-hidden":"true",ref:_,children:(0,h.tZ)(u.Z,{...a&&{color:"colorTextDisabled"},children:"+".concat((0,i.Gg)(P))})})]}),(0,h.tZ)(i.ZP,{ref:x,ariaLabel:t,country:P,disabled:a,errorMessage:(()=>{if(k)return k;var e="+".concat((0,i.Gg)(P)),t=(0,i.tm)(L||"",P);return L&&L!==e&&!t?(0,d.localized)("Invalid phone number"):void 0})(),inputComponent:m,labelText:n,required:l,onChange:e=>{var t="+".concat((0,i.Gg)(P)),a=e||"+".concat((0,i.Gg)(P)),n=(0,i.tm)(a,P);w||Z(a),c(a===t?"":a,n)},placeholder:(0,d.localized)("Enter phone number"),style:{paddingLeft:O},tooltipRenderer:E,tooltipText:S,value:L,...a&&{color:"colorTextDisabled"}})]})}},81667:(e,t,a)=>{a.d(t,{Z:()=>B});var n=a(41554),r=a(4519),i=a(21250),o=a(36607),l=a(23641),s=a(8456),d="70px",c="45px",u="card",p=e=>!["descriptionMode","labelText","size","orientation"].includes(e),h=e=>{var{label:t,description:a}=e;return a?"".concat(t," - ").concat(a):t},g=e=>{var{size:t}=e;switch(t){case"md":return{width:"268px",height:"237px"};case"lg":return{width:"334px",height:"220px"};case"sm":return{width:"250px",height:"204px"};default:return{width:"216px",height:"146px"}}},v=e=>{var{theme:t}=e;return"\n    background-color: transparent;\n    border-radius: ".concat(s.default.borderRadius[4],";\n    border: 1px solid ").concat(t.colorBorderStrong,';\n\n    width: 16px;\n    min-width: 16px;\n\n    height: 16px;\n    min-height: 16px;\n\n    // styling the selected radio card circle for the disabled state\n    &:has([data-state="checked"]):not(:has([data-disabled])) {\n      border: 1px solid ').concat(t.colorBorderDecorativeStrong,";\n    }\n\n    // styling the radio card circle for the disabled state\n    &:has([data-disabled]) {\n      border: 1px solid ").concat(t.colorBorderWeak,";\n    }\n\n    // styling the radio circle for the disabled state\n    &[data-disabled] {\n      border: 1px solid ").concat(t.colorBorderWeak,';\n\n      &[data-state="unchecked"] {\n        background: ').concat(t.colorBackgroundInputDisabled,";\n      }\n    }\n  ")},m=a(77537),f=(0,n.Z)(o.z$,{target:"ece7ilu1"})('width:100%;height:100%;position:relative;display:flex;align-items:center;justify-content:center;&::after{content:"";display:block;width:10px;height:10px;background-color:',(e=>{var{theme:t}=e;return t.colorForegroundSelectedStrongest}),";border-radius:100%;}&[data-disabled]{::after{background:",(e=>{var{theme:t}=e;return t.colorBackgroundCtaDisabled}),";}}"),y=(0,n.Z)("div",{target:"ece7ilu0"})((e=>{var{theme:t}=e;return v({theme:t})}),";");const b=function(e){var{variant:t}=e;return t===u?(0,m.tZ)(y,{children:(0,m.tZ)(f,{})}):(0,m.tZ)(f,{})};var T=(0,n.Z)(o.ck,{target:"e18gg2ql0"})("all:unset;",(e=>{var{theme:t}=e;return v({theme:t})})," &:focus{outline-offset:-0.5px;outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";}");const C=function(e){var{value:t,disabled:a,ariaLabel:n,id:r}=e;return(0,m.tZ)(T,{"aria-label":n,id:r,value:t,disabled:a,children:(0,m.tZ)(b,{})})};var E=a(55460),S=a(29374),w=a(6775),I=a(50176),k=a(75493);var _=(0,n.Z)("label",{shouldForwardProp:e=>(0,i.Z)(e)||p(e),target:"eduvmey2"})("margin:0;user-select:none;display:flex;flex-direction:column;width:100%;color:",(e=>{var{color:t,theme:a}=e;return(0,E.Ps)({defaultTo:a.colorTextStrong},{color:t,theme:a})}),";line-height:",s.default.typography.lineHeight.body,";font-size:",s.default.typography.fontSize.body,";font-weight:",(e=>{var{descriptionMode:t}=e;return t?s.default.typography.fontWeight.medium:s.default.typography.fontWeight.regular}),";[data-ninja-tooltip-trigger]{display:block;}"),x=(0,n.Z)("div",{target:"eduvmey1"})("width:100%;margin-top:",s.default.spacing[2],";"),R=(0,n.Z)(S.Z,{target:"eduvmey0"})({name:"r1m3l1",styles:"margin:0;user-select:none"});const A=function(e){var{value:t,descriptionMode:a,label:n,description:r,extraContentRenderer:i,variant:o,id:l,color:d,textWrapLineLimit:c=6,tooltipText:p}=e;return(0,m.BX)(_,{htmlFor:l,descriptionMode:a,color:d,children:[(0,m.BX)(k.kC,{alignItems:"center",gap:s.default.spacing[1],children:[n,p&&(0,m.tZ)(I.MZ,{text:p,triggerColor:"colorTextWeakest",triggerSize:"sm",triggerAriaLabel:(0,w.localized)("More information")})]}),r&&(0,m.tZ)(R,{type:"body",textWrap:!0,color:"colorTextWeakest",textWrapLineLimit:o===u?1:c,children:r}),i&&(0,m.tZ)(x,{children:i()})]})};var Z=(0,n.Z)("div",{shouldForwardProp:e=>(0,i.Z)(e)||p(e),target:"eaney30"})("width:100%;display:flex;gap:",s.default.spacing[3],";align-items:",(e=>{var{descriptionMode:t}=e;return t?"":"center"}),";",(e=>{var{orientation:t,description:a}=e;return"horizontal"===t?"\n    flex-basis: ".concat(a?"auto":"content",";\n  "):""}),";");const D=function(e){var{className:t,description:a,descriptionMode:n,disabled:r,extraContentRenderer:i,formFieldsRenderer:o,label:l,orientation:s,value:d,id:c,textWrapLineLimit:u,tooltipText:p,color:g}=e,v=h({label:l,description:a});return(0,m.BX)(m.HY,{children:[(0,m.BX)(Z,{descriptionMode:n,orientation:s,description:a,className:t,children:[(0,m.tZ)(C,{value:d,disabled:r,ariaLabel:v,id:c}),(0,m.tZ)(A,{value:d,label:l,description:a,extraContentRenderer:i,descriptionMode:n,id:c,color:g,textWrapLineLimit:u,tooltipText:p})]}),null===o||void 0===o?void 0:o()]})};var N=(0,n.Z)(o.ck,{shouldForwardProp:e=>(0,i.Z)(e)||p(e),target:"e7ubtqw1"})("all:unset;display:flex;flex-direction:column;border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeakest}),";border-radius:",s.default.borderRadius[1],";background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundWidget}),";min-width:",(e=>{var{size:t}=e;return g({size:t}).width}),";width:",(e=>{var{size:t}=e;return g({size:t}).width}),";min-height:",(e=>{var{size:t}=e;return g({size:t}).height}),";height:",(e=>{var{size:t}=e;return g({size:t}).height}),";img{border-radius:",s.default.borderRadius[1]," ",s.default.borderRadius[1]," 0 0;background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundSubtle}),";max-width:100%;height:calc(\n      100% - ",(e=>{var{descriptionMode:t}=e;return t?d:c}),"\n    );flex:1;object-fit:cover;}&:focus{outline-offset:-0.5px;outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),';}&[data-disabled][data-state="unchecked"]>[data-ninja-radio-card-container]>div{background:',(e=>{var{theme:t}=e;return t.colorBackgroundInputDisabled}),";}&:not([data-disabled]):hover>[data-ninja-radio-card-container]{background-color:",(e=>{var{theme:t}=e;return t.colorForegroundHover}),';}&[data-state="checked"]:not([data-disabled])>[data-ninja-radio-card-container]{background-color:',(e=>{var{theme:t}=e;return t.colorForegroundSelected}),";}"),O=(0,n.Z)("div",{shouldForwardProp:e=>(0,i.Z)(e)||p(e),target:"e7ubtqw0"})("border-top:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeakest}),";border-radius:0 0 ",s.default.borderRadius[1]," ",s.default.borderRadius[1],";background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundWidget}),";width:100%;padding:",s.default.spacing[3],";height:",(e=>{var{descriptionMode:t}=e;return t?d:c}),";display:flex;align-items:",(e=>{var{descriptionMode:t}=e;return t?"start":"center"}),";gap:",s.default.spacing[3],";");const M=function(e){var{className:t,description:a,descriptionMode:n,disabled:r,extraContentRenderer:i,hideIndicator:o,id:l,image:s,label:d,size:c,value:p}=e,g=h({label:d,description:a}),v=u;return(0,m.BX)(N,{id:l,value:p,disabled:r,"aria-label":g,descriptionMode:n,size:c,className:t,children:[(0,m.tZ)("img",{alt:d,src:s}),(0,m.BX)(O,{descriptionMode:n,"data-ninja-radio-card-container":"",children:[!o&&(0,m.tZ)(b,{variant:v}),(0,m.tZ)(A,{description:a,descriptionMode:n,extraContentRenderer:i,id:l,label:d,value:p,variant:v})]})]})};var L=a(34381),P="danger",z=(0,n.Z)(o.fC,{shouldForwardProp:e=>(0,i.Z)(e)||p(e),target:"e1whp2ek0"})("display:flex;gap:",(e=>{var{orientation:t}=e;return"".concat("horizontal"===t?s.default.spacing[5]:s.default.spacing[3])}),";flex-direction:",(e=>{var{orientation:t}=e;return"horizontal"===t?"row":"column"}),";",(e=>{var{orientation:t}=e;return"horizontal"===t&&"flex-wrap: wrap;"})," ",(e=>{var{labelText:t}=e;return t?"margin-top: ".concat(s.default.spacing[3],";"):""}),";");const B=function(e){var{ariaLabel:t,defaultValue:a,hideIndicator:n,labelText:i,labelTextWrap:o=!0,onValueChange:s,options:d,orientation:c="vertical",required:p,size:h="md",tooltipText:g,value:v,variant:f="default"}=e,y=(0,r.useMemo)((()=>(0,l.Z)()),[]),b=d.find((e=>null===e||void 0===e?void 0:e.description)),T=i?{"aria-labelledby":y}:{"aria-label":t},C=d.every((e=>e.disabled));return(0,m.BX)("div",{children:[i&&(0,m.tZ)(L.Z,{id:y,forInputElement:!1,textWrap:o,disabled:C,labelText:i,required:p,tooltipText:g}),(0,m.tZ)(z,{labelText:i,orientation:c,defaultValue:a,...T,"aria-required":!C&&p,onValueChange:s,...v&&{value:v},children:d.map((e=>{var{className:t,description:a,disabled:r,extraContentRenderer:i,formFieldsRenderer:o,image:l,label:s,value:d,textWrapLineLimit:p,type:g,tooltipText:v}=e,T={className:t,description:a,descriptionMode:b,disabled:C||r,extraContentRenderer:i,id:"".concat(y,"-").concat(d),key:d,label:s,value:d,textWrapLineLimit:p,...g===P&&{color:"colorTextDanger"}};return f===u?(0,m.tZ)(M,{...T,image:l,size:h,hideIndicator:n}):(0,m.tZ)(D,{...T,formFieldsRenderer:o,orientation:c,tooltipText:v})}))})]})}},51817:(e,t,a)=>{a.d(t,{Z:()=>g});var n=a(41554),r=a(4519),i=a(67009),o=a(55460),l=a(6775),s=a(8456),d=a(77537),c=(0,n.Z)("div",{target:"etsljbe3"})("display:flex;align-items:stretch;width:",(e=>{var{width:t}=e;return null!==t&&void 0!==t?t:(0,o.Oy)(150)}),";border:1px solid ",(e=>{var{theme:t,borderColor:a}=e;return a||t.colorBorderWeak}),";box-sizing:border-box;border-radius:",s.default.borderRadius[1],";background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundWidget}),";&:has(input:disabled){background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundInputDisabled}),";}&:focus-within{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";outline-offset:-2px;}&:not(:has(input:disabled)):focus-within{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";outline-offset:-2px;}"),u=(0,n.Z)("div",{target:"etsljbe2"})("display:flex;align-items:center;padding-left:",s.default.spacing[3],";pointer-events:none;"),p=(0,n.Z)("input",{target:"etsljbe1"})("background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundWidget}),";width:100%;outline:none;border-radius:",s.default.borderRadius[1],";border:none;padding:calc(",s.default.spacing[2]," - 1px);padding-right:",(e=>{var{value:t}=e;return s.default.spacing[t?1:2]}),";font-size:",s.default.typography.fontSize.body,";font-weight:",s.default.typography.fontWeight.regular,";font-family:",s.default.typography.fontFamily.primary,";user-select:normal;font-stretch:normal;font-style:normal;letter-spacing:normal;line-height:",s.default.typography.lineHeight.body,";color:",(e=>{var{color:t,theme:a}=e;return t?a.color[t]:a.colorTextStrong}),";margin:0;&:disabled{color:",(e=>{var{theme:t}=e;return t.colorTextDisabled}),";background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundInputDisabled}),";}&:disabled::placeholder{color:",(e=>{var{theme:t}=e;return t.colorTextDisabled}),";}::placeholder{color:",(e=>{var{theme:t}=e;return t.colorTextWeakest}),";}::-ms-clear,::-ms-reveal{display:none;}::-webkit-search-decoration,::-webkit-search-cancel-button,::-webkit-search-results-button,::-webkit-search-results-decoration{display:none;}"),h=(0,n.Z)("button",{target:"etsljbe0"})("display:flex;align-items:center;border:none;background-color:transparent;cursor:pointer;color:",(e=>{var{theme:t}=e;return t.colorTextStrong}),";outline:none;border-radius:",(0,o.Oy)(0,1,1,0),";&:hover{background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutralWeakest}),";}&:focus-visible{background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutralWeakest}),";}&:disabled{color:",(e=>{var{theme:t}=e;return t.colorTextDisabled}),";cursor:initial;}");function g(e){var{placeholderText:t,width:a,value:n,clearInput:o,autofocus:s,focusOnClear:g,borderColor:v,buttonId:m,rightIcon:f,disabled:y,...b}=e,T=(0,r.useRef)();return(0,r.useEffect)((()=>{null!==T&&void 0!==T&&T.current&&s&&T.current.focus()}),[T,s]),(0,d.BX)(c,{width:a,borderColor:v,children:[(0,d.tZ)(u,{children:(0,d.tZ)(i.SearchIcon,{color:"colorTextWeakest"})}),(0,d.tZ)(p,{type:"search",placeholder:t,value:n,disabled:y,...b,ref:T}),!!n&&o&&(0,d.tZ)(h,{type:"button",onClick:()=>{o(),g&&T.current.focus()},"aria-label":(0,l.localized)("Clear"),id:null!==m&&void 0!==m?m:null,disabled:y,children:(0,d.tZ)(i.CloseIcon,{})}),f]})}},74124:(e,t,a)=>{a.d(t,{Z:()=>T});var n=a(41554),r=a(4519),i=a(27573),o=a(65230),l=a(23641),s=a(8456),d=(a(55460),a(34928)),c=a(75493),u=a(29374),p=a(66037),h=a(34381),g=a(44192),v=a(75217),m=a(77537),f=(0,n.Z)("div",{target:"ee0c9e72"})("position:relative;display:flex;justify-content:space-between;align-items:center;gap:",s.default.spacing[2],";padding:",(e=>{var{rightSidePadding:t}=e;return"".concat(s.default.spacing[2]," ").concat(t," ").concat(s.default.spacing[2]," ").concat(s.default.spacing[3])}),";border-radius:",s.default.borderRadius[1],";color:",(e=>{var{theme:t}=e;return"".concat(t.colorTextWeak)}),";background-color:",(e=>{var{theme:t}=e;return"".concat(t.colorBackgroundAccentNeutralWeakest)}),";"),y=(0,n.Z)("li",{target:"ee0c9e71"})("display:inline;list-style:none;font-size:",s.default.typography.fontSize.body,";line-height:",s.default.typography.lineHeight.body,";color:",(e=>{var{theme:t}=e;return"".concat(t.colorTextStrong)}),";cursor:default;"),b=(0,n.Z)("button",{target:"ee0c9e70"})("position:absolute;right:0;top:50%;transform:translateY(-50%);padding:",s.default.spacing[1]," ",s.default.spacing[3],";border:0;border-radius:",s.default.borderRadius[1],";background:none;font-size:",s.default.typography.fontSize.body,";color:",(e=>{var{disabled:t,theme:a}=e;return"".concat(t?a.colorTextDisabled:a.colorTextActionStrong)}),";user-select:none;cursor:pointer;&:focus-visible{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";}&:disabled{cursor:not-allowed;}");const T=e=>{var{ariaLabel:t,buttonText:a,disabled:n,error:T,labelText:C,maxItemsDisplayed:E=2,maxItemVisibleTextLength:S=80,onClick:w,placeholder:I,readOnly:k,required:_,rightSidePadding:x=s.default.spacing[12],selection:R=[],tooltipText:A}=e,[Z,D]=(0,i.lxF)(E||R.length,R),N=Z.length>0?a:(0,d.kIE)("Add"),O=(0,r.useMemo)((()=>(0,l.Z)()),[]);return(0,m.BX)("div",{children:[C&&(0,m.tZ)(h.Z,{labelFor:O,disabled:n,labelText:C,required:_,tooltipText:A}),(0,m.BX)(f,{rightSidePadding:x,children:[(0,m.tZ)(o.f,{children:(0,m.tZ)("input",{"aria-label":C?void 0:t,disabled:!0,type:"text",id:O,value:[...Z,...D].join(", "),placeholder:I})}),(0,m.tZ)("div",{"aria-hidden":"true",style:{overflow:"hidden"},children:Z.length>0?(0,m.BX)(c.kC,{as:"ul",gap:s.default.spacing[1],margin:0,padding:0,flexWrap:"wrap",children:[Z.map(((e,t)=>{var a=e.length>S,n=a?(0,d.LHJ)(e,S):e,r=t!==Z.length-1||D.length?"".concat(n,", "):n;return(0,m.tZ)(y,{children:a?(0,m.tZ)(p.ZP,{label:e,align:"center",children:r}):r},e)})),!!D.length&&(0,m.tZ)(y,{children:(0,m.tZ)(p.ZP,{label:(()=>{var e=D.slice(0,10).map(((e,t)=>(0,m.tZ)("span",{children:t!==D.length-1?"".concat(e,", "):e},e)));return D.length>10&&e.push((0,m.tZ)("span",{children:"..."},"more-elements")),e})(),align:"center",children:(0,d.kIE)("+{{remainingItems}} more",{remainingItems:D.length})})})]}):(0,m.tZ)(u.Z,{color:"colorTextWeakest",children:I})}),(0,m.BX)(c.kC,{gap:s.default.spacing[2],alignItems:"center",children:[T&&(0,m.tZ)(g.Y,{children:(0,m.tZ)(v.Z,{ariaId:O,tooltipAlignment:"center",triggerAsChild:!1,error:T})}),!k&&(0,m.tZ)(b,{"aria-label":C||t?"".concat(N," ").concat(C||t):N,disabled:n,onClick:w,children:N})]})]})]})}},87221:(e,t,a)=>{a.d(t,{Z:()=>b});var n=a(41554),r=a(4519),i=a(23641),o=a(21250),l=a(63390),s=a(8456),d=a(55460),c=a(65304),u=a(34381),p=a(29374),h=a(77537);function g(e){if("md"===e)return{width:"38px",thumb:"16px",transform:"20px",height:"20px"};throw new Error("Unknown size: ".concat(e))}var v=(0,n.Z)("div",{shouldForwardProp:e=>(0,o.Z)(e)||"descriptionText"!==e,target:"e1mdkobg3"})("display:flex;gap:",(0,d.Oy)(3),";align-items:",(e=>{var{descriptionText:t}=e;return t?"flex-start":"center"}),";flex:1;min-width:1px;"),m=(0,n.Z)("div",{target:"e1mdkobg2"})({name:"syo7nj",styles:"display:flex;flex-direction:column;flex:1;min-width:1px"}),f=(0,n.Z)(l.fC,{target:"e1mdkobg1"})("all:unset;min-width:",(e=>{var{size:t}=e;return g(t).width}),";height:",(e=>{var{size:t}=e;return g(t).height}),";background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutral}),';border-radius:20px;&[data-state="checked"]{background-color:',(e=>{var{theme:t}=e;return t.colorForegroundSelectedStrongest}),";}&[data-disabled]{opacity:0.5;}&:focus-visible{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";outline-offset:0;}"),y=(0,n.Z)(l.bU,{target:"e1mdkobg0"})("display:block;width:",(e=>{var{size:t}=e;return g(t).thumb}),";height:",(e=>{var{size:t}=e;return g(t).thumb}),";background-color:",(e=>{var{theme:t}=e;return t.colorBackground}),';border-radius:100px;transition:transform 100ms;transform:translateX(2px);will-change:transform;&[data-state="checked"]{transform:',(e=>{var{size:t}=e;return"translateX(".concat(g(t).transform,")")}),";}");const b=function(e){var{tooltip:t,onChange:a,isLegacy:n,disabled:o,labelText:l,className:d,labelToken:g,size:b="md",checked:T=!1,descriptionText:C,descriptionTextWrap:E}=e,S=l||(0,c.kI)(g),w=(0,r.useMemo)((()=>(0,i.Z)()),[]);return(0,h.BX)(v,{descriptionText:C,size:b,"data-testid":"switch-container",children:[(0,h.tZ)(f,{size:b,checked:T,disabled:o,onCheckedChange:a,className:d,...S&&{"aria-labelledby":w},...C&&!t&&{"aria-describedby":"".concat(w,"-description")},children:(0,h.tZ)(y,{size:b})}),S&&(0,h.BX)(m,{children:[(0,h.tZ)(u.Z,{disabled:o,forInputElement:!1,id:w,labelText:S,noMargin:!C,tooltipText:t,...C&&{fontWeight:s.default.typography.fontWeight.medium}}),C&&!t&&(0,h.tZ)(p.Z,{color:"colorTextWeak",id:"".concat(w,"-description"),textWrap:E,marginTop:"-".concat(s.default.spacing[1]),children:C})]})]})}},30459:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(41554),r=a(8456),i=(a(55460),a(72530)),o=a(77537),l=250,s=(0,n.Z)(i.ZP,{target:"e1yqd3i50"})("min-width:",(e=>{var{minWidth:t}=e;return t}),";min-height:80px;max-height:400px;height:",(e=>{var{height:t}=e;return t}),";font-family:",r.typography.fontFamily.primary,";resize:",(e=>{var{resize:t}=e;return null!==t&&void 0!==t?t:"vertical"}),";&::placeholder{color:",(e=>{var{theme:t}=e;return t.colorTextWeakest}),";}");const d=e=>{var{disableMaxLength:t,maxLength:a=l,useCharacterCount:n=!0,height:r="80px",minWidth:i="400px"}=e;return(0,o.tZ)(s,{...e,_isTextArea:!0,height:r,minWidth:i,...!t&&{maxLength:a,useCharacterCount:n}})}},66037:(e,t,a)=>{a.d(t,{ZC:()=>u,ZP:()=>g});var n=a(41554),r=a(4519),i=a(21250),o=a(19047),l=a(55460),s=a(77537),d=(0,n.Z)(o.VY,{shouldForwardProp:e=>(0,i.Z)(e)||"contentZIndex"!==e,target:"eyswqhr1"})("&,*{font-size:",(0,l.y3)("xs"),";}padding:",(0,l.Oy)(1,2),";color:",(e=>{var{theme:t}=e;return t.colorTextHighContrast}),";border-radius:",(0,l.Oy)(1),";max-width:400px;line-height:1.5;z-index:",(e=>{var{contentZIndex:t}=e;return t||9999}),";white-space:pre-line;overflow-wrap:break-word;",(e=>{var{theme:t,variant:a}=e;return h({theme:t,variant:a})}),";"),c=(0,n.Z)(o.xz,{shouldForwardProp:e=>(0,i.Z)(e)||"triggerMaxHeight"!==e,target:"eyswqhr0"})((e=>{var{triggerMaxHeight:t}=e;return t?"\n    max-height: ".concat(t,"px;\n    display: block;\n    "):""}),";"),u={DANGER:"danger",LIGHT:"light"},p=100,h=e=>{var{theme:t,variant:a}=e;switch(a){case u.DANGER:return"\n        background-color: ".concat(t.colorBackgroundCtaDanger,";\n        border-color: ").concat(t.colorBackgroundCtaDanger,";\n        &, * {\n          color: ").concat(t.colorTextHighContrast,";\n        }\n      ");case u.LIGHT:return"\n        background-color: ".concat(t.color.white[100],";\n        color: ").concat(t.color.black[100],";\n        border-color: ").concat(t.color.black["015"],";\n        box-shadow: 0 2px 4px ").concat(t.color.black["005"],";\n      ");default:return"\n        background-color: ".concat(t.colorBackgroundAccentNeutralDarker,";\n        border-color: ").concat(t.colorBackgroundAccentNeutralDarker,";\n        &, * {\n          color: ").concat(t.colorTextHighContrast,";\n        }\n      ")}};function g(e){var{label:t,labelRenderer:a,variant:n,children:i,ariaLabel:h,className:g,customPosition:v,hideTooltip:m,isErrorMessage:f,sideOffset:y=8,align:b="start",triggerClassName:T,triggerMaxHeight:C,delayToOpen:E=p,position:S="bottom",hideOnTriggerClick:w=!0,onEscapeKeyDown:I,onPointerDown:k,portal:_=!0,portalContainer:x,contentZIndex:R,asChild:A,triggerAsChild:Z=!0}=e,[D,N]=(0,l.DJ)(!1),O=(0,r.useMemo)((()=>("boolean"!==typeof m||!m)&&(w?void 0:D)),[m,w,D]),M=!w&&{onMouseOver:()=>N(!0),onFocus:()=>N(!0),onMouseOut:()=>N(!1),onPointerUp:()=>N(!1),onBlur:()=>N(!1)},L=(0,s.tZ)(d,{align:b,sideOffset:y,side:S,"aria-label":h,variant:f?u.DANGER:n,onEscapeKeyDown:I,className:g,"data-ninja-tooltip-content":"",contentZIndex:R,onClick:e=>e.stopPropagation(),children:a?a():t});return(0,s.tZ)(o.zt,{delayDuration:E,children:(0,s.BX)(o.fC,{open:O,children:[(0,s.tZ)(c,{"data-testid":"data-ninja-tooltip-trigger",className:T,"data-ninja-tooltip-trigger":"",asChild:Z,type:"button",...M,onPointerDown:k,triggerMaxHeight:C,children:A?i:(0,s.tZ)("span",{children:i})}),_?(0,s.tZ)(o.h_,{container:x,children:L}):L]})})}},30813:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(41554),r=a(8456),i=a(75493),o=a(65304),l=a(29374),s=a(21940),d=a(77537);var c=(0,n.Z)(i.kC,{target:"e7xv9vq0"})({name:"sgqbp4",styles:"&>button{height:21px;width:14px;}"});const u=e=>{var{disabled:t,textWrapLineLimit:a,textWrap:n=!1,labelFor:i,labelText:u,required:p,tooltipText:h,id:g}=e;return(0,d.BX)(c,{alignItems:"center",gap:r.W0[1],marginBottom:r.W0[1],children:[(0,d.BX)(d.HY,{children:[(0,d.tZ)(l.Z,{as:"label",labelFor:i,textWrapLineLimit:a,textWrap:n,id:g,marginTop:0,children:u}),!t&&p&&(0,d.tZ)(l.Z,{as:"span",ariaHidden:!0,children:"*"})]}),h&&(0,d.tZ)(s.Z,{text:h,triggerColor:"colorTextWeakest",triggerSize:"sm",triggerAriaLabel:(0,o.kI)("More information")})]})}},89191:(e,t,a)=>{a.d(t,{BD:()=>p,CK:()=>d,Fp:()=>l,Hz:()=>h,Lw:()=>g,NU:()=>u,Uk:()=>v,oH:()=>c,qR:()=>s});var n=a(41554),r=a(8456);var i=e=>"\n  &:focus-visible {\n    outline: 2px auto ".concat(e.colorForegroundFocus,";\n    outline-offset: 0px;\n\n    @supports (-moz-appearance: none) {\n      outline-offset: -2px;\n    }\n  }\n"),o=e=>{var{theme:t}=e;return"1px solid ".concat(t.colorBorderWeakest)},l=(0,n.Z)("div",{target:"e1m1748f8"})("display:flex;flex:1;height:100%;width:100%;border-top:",o,";border-bottom:",o,";background-color:",(e=>{var{theme:t}=e;return t.colorBackground}),";"),s=(0,n.Z)("div",{target:"e1m1748f7"})("display:flex;flex-shrink:0;flex-direction:column;gap:",r.default.spacing[2],";min-width:238px;padding:",r.default.spacing[4]," ",r.default.spacing[4]," ",r.default.spacing[4]," 1px;margin-left:-1px;border-right:",o,";overflow-y:auto;"),d=(0,n.Z)("div",{target:"e1m1748f6"})("display:flex;flex-direction:column;gap:",r.default.spacing[1],";flex:1;"),c=(0,n.Z)("button",{target:"e1m1748f5"})("display:flex;align-items:center;width:220px;height:38px;padding:0 ",r.default.spacing[3],";border:0;border-radius:4px;font-family:",r.default.typography.fontFamily.primary,";text-align:left;background-color:",(e=>{var{theme:t}=e;return t.colorBackground}),";cursor:pointer;&:hover{background:",(e=>{var{theme:t}=e;return t.colorForegroundHover}),';}&[data-state="active"]{background:',(e=>{var{theme:t}=e;return t.colorForegroundSelected}),";span,svg{color:",(e=>{var{theme:t}=e;return t.colorTextActionStrong}),';}}&[data-error="true"] span,&[data-error="true"] svg{color:',(e=>{var{theme:t}=e;return t.colorAlertError}),';}&[data-animate="true"][data-error="true"]{animation:Highlight 5s;}',(e=>{var{theme:t}=e;return i(t)}),"@keyframes Highlight{20%{background:",(e=>{var{theme:t}=e;return t.colorAlertErrorWeak}),";}80%{background:",(e=>{var{theme:t}=e;return t.colorAlertErrorWeak}),";}}"),u=(0,n.Z)(c,{target:"e1m1748f4"})({name:"1itxd7h",styles:"width:212px"}),p=(0,n.Z)("span",{target:"e1m1748f3"})("margin-left:",r.default.spacing[2],";color:",(e=>{var{theme:t}=e;return t.colorAlertError}),";"),h=(0,n.Z)("div",{target:"e1m1748f2"})("flex-grow:1;margin:",r.default.spacing[6]," 0 ",r.default.spacing[6]," ",r.default.spacing[6],";overflow:auto;background-color:",(e=>{var{theme:t}=e;return t.colorBackground}),";",(e=>{var{theme:t}=e;return i(t)})," &::-webkit-scrollbar{width:0;}"),g=(0,n.Z)(c,{target:"e1m1748f1"})({name:"2o6p8u",styles:"justify-content:space-between"}),v=(0,n.Z)("div",{target:"e1m1748f0"})("padding-left:",r.default.spacing[2],";border-left:",o,';&[data-is-visible="false"]{display:none;}')},21633:(e,t,a)=>{a.d(t,{Z:()=>P});var n=a(4519),r=a(37698),i=(e,t,a)=>n=>n.key===e||n.code===t||n.which===a,o=(i("Enter","Enter",13),i("ArrowDown","ArrowDown",40)),l=i("ArrowUp","ArrowUp",38),s=i("ArrowLeft","ArrowLeft",37),d=i("ArrowRight","ArrowRight",39),c=(i("Backspace","Backspace",8),i(" ","Space",32),i("Escape","Escape",27),i("Tab","Tab",9),i("Delete","Delete",46),i("Home","Home",36),i("End","End",35),i("PageUp","PageUp",33),i("PageDown","PageDown",34),i("e","KeyE",69),i("-","Minus",189),i("/","Slash",191),i("+","Plus",187),a(89191)),u=a(65230),p=a(67009),h=a(8456),g=a(65304),v=a(75493),m=a(29374),f=a(16017),y=a(77537),b=c.BD.withComponent(p.InputErrorIcon,{target:"e1x2yb8y0"}),T=c.NU.withComponent(r.xz,{target:"e1x2yb8y1"}),C=c.oH.withComponent(r.xz,{target:"e1x2yb8y2"}),E={active:h.default.typography.fontWeight.medium,inactive:h.default.typography.fontWeight.regular},S=h.default.spacing[2],w=(0,g.eW)("Tab contains required content"),I=(0,g.eW)("Tab content contains error"),k=e=>{var{Icon:t}=e;return t?(0,y.tZ)(t,{color:"colorTextWeak"}):null},_=()=>(0,y.BX)(y.HY,{children:[(0,y.tZ)(u.T,{children:(0,g.kI)(I)}),(0,y.tZ)(b,{})]}),x=()=>(0,y.BX)("span",{"aria-hidden":"true",children:["*",(0,y.tZ)(u.T,{children:(0,g.kI)(w)})]}),R=e=>{var{Icon:t,isActive:a,label:n,required:r,error:i}=e;return(0,y.BX)(v.kC,{alignItems:"center",flex:1,justifyContent:"space-between",children:[(0,y.BX)(v.kC,{gap:S,alignItems:"center",children:[(0,y.tZ)(k,{Icon:t}),(0,y.BX)(m.Z,{fontWeight:a?E.active:E.inactive,textWrap:!0,textWrapLineLimit:2,children:[n,r&&(0,y.tZ)(x,{})]})]}),i&&(0,y.tZ)(_,{})]})},A=(0,n.memo)((0,n.forwardRef)(((e,t)=>{var{animateTabErrors:a,error:n,icon:r,isActive:i,isExpanded:o,label:l,onClick:s,onKeyDown:d,tabRefKey:u}=e;return(0,y.BX)(c.Lw,{ref:t,onClick:s,onKeyDown:d,"aria-expanded":o,"data-tab-ref-key":u,"data-error":n,"data-animate":n&&a,"data-state":i?"active":"inactive",children:[(0,y.BX)(v.kC,{gap:S,alignItems:"center",children:[(0,y.tZ)(k,{Icon:r}),(0,y.tZ)(m.Z,{textWrap:!0,textWrapLineLimit:2,children:l})]}),(0,y.BX)(v.kC,{gap:S,alignItems:"center",children:[n&&(0,y.tZ)(_,{}),(0,y.tZ)(f.Z,{isExpanded:o})]})]})})));A.displayName="ParentTab";var Z=(0,n.memo)((0,n.forwardRef)(((e,t)=>{var{animateTabErrors:a,error:n,icon:r,isActive:i,isVisible:o,label:l,onKeyDown:s,required:d,tabRefKey:u,value:p}=e;return(0,y.tZ)(c.Uk,{"data-is-visible":o,children:(0,y.tZ)(T,{ref:t,value:p,onKeyDown:s,"data-tab-ref-key":u,"data-error":n,"data-animate":n&&a,"data-state":i?"active":"inactive",children:(0,y.tZ)(R,{Icon:r,isActive:i,label:l,required:d,error:n})})})})));Z.displayName="ChildTab";var D=(0,n.memo)((0,n.forwardRef)(((e,t)=>{var{animateTabErrors:a,error:n,icon:r,isActive:i,label:o,onKeyDown:l,required:s,tabRefKey:d,value:c}=e;return(0,y.tZ)(C,{ref:t,value:c,onKeyDown:l,"data-tab-ref-key":d,"data-error":n,"data-animate":n&&a,"data-state":i?"active":"inactive",children:(0,y.tZ)(R,{Icon:r,isActive:i,label:o,required:s,error:n})})})));D.displayName="RegularTab";var N=a(71734),O=c.Fp.withComponent(r.fC,{target:"egut30w0"}),M=c.CK.withComponent(r.aV,{target:"egut30w1"}),L=c.Hz.withComponent(r.VY,{target:"egut30w2"});const P=e=>{var{animateTabErrors:t,ariaLabel:a,defaultTab:r,bottomContentRenderer:i,setAnimateTabErrors:u,tabs:p,getActiveTabIndex:h}=e,[g,v]=(0,n.useState)((()=>(0,N.vr)(p,r))),[m,f]=(0,n.useState)((()=>(0,N.ND)(p,r))),{tabRefs:b,tabRefFunctions:T}=(e=>{var t=(0,n.useRef)(null),a=(0,n.useRef)(null),r=(0,n.useRef)({}),i=(0,n.useMemo)((()=>{var n=e.map((e=>{var t;return(null===(t=e.children)||void 0===t?void 0:t.length)||0})).join(",");return t.current!==n&&(t.current=n,a.current=(0,N.Fq)(e,r)),a.current}),[e]);return{tabRefs:r,tabRefFunctions:i}})(p),C=(0,n.useMemo)((()=>(0,N.AA)(p)),[p]),E=(0,n.useMemo)((()=>p.flatMap(((e,t)=>{var a;if(null!==(a=e.children)&&void 0!==a&&a.length)return[{type:"parent",refKey:"parent-".concat(t),label:e.label,icon:e.icon,hasError:C.includes(t),isExpanded:g.has(e.label)},...g.has(e.label)?e.children.map(((e,a)=>{var n=(0,N.sd)(e.label);return{type:"child",refKey:"child-".concat(t,"-").concat(a),label:e.label,icon:e.icon,required:e.required,value:n,isActive:n===m,hasError:C.includes("".concat(t,"-").concat(a)),tabIndex:t,childIndex:a}})):[]];var n=(0,N.sd)(e.label);return[{type:"regular",refKey:"regular-".concat(t),label:e.label,icon:e.icon,required:e.required,value:n,isActive:n===m,hasError:C.includes(t),tabIndex:t}]}))),[p,g,m,C]),S=(0,n.useMemo)((()=>(0,N.xe)(p)),[p]),w=(0,n.useCallback)((e=>{var t=e.currentTarget.getAttribute("data-tab-ref-key"),a=S.refKeyToTabIndex.get(t),n=E.findIndex((e=>e.refKey===t));if(o(e)){var r,i=(n+1)%E.length,c=E[i];return e.preventDefault(),void(null===(r=b.current[c.refKey])||void 0===r||r.focus())}if(l(e)){var u,p=(n-1+E.length)%E.length,h=E[p];return e.preventDefault(),void(null===(u=b.current[h.refKey])||void 0===u||u.focus())}(d(e)||s(e))&&"parent"===a.type&&(e.preventDefault(),v((e=>(0,N.hU)(e,a.label))))}),[E,S,b,v]),I=(0,n.useCallback)((e=>{f(e);var t=E.find((t=>t.value===e));if(t){var a,n,r,i=p[t.tabIndex];if("child"===t.type)null===(a=(n=i.children[t.childIndex]).onChange)||void 0===a||a.call(n);else null===(r=i.onChange)||void 0===r||r.call(i);null===h||void 0===h||h(t.tabIndex)}}),[E,p,h]);return(0,n.useEffect)((()=>{var e;return t&&C.length&&(e=setTimeout((()=>null===u||void 0===u?void 0:u(!1)),5e3)),()=>clearTimeout(e)}),[t,u,C]),(0,y.BX)(O,{value:m,onValueChange:I,orientation:"vertical",children:[(0,y.BX)(c.qR,{children:[(0,y.tZ)(M,{"aria-label":a,children:E.map((e=>{var a={key:e.refKey,ref:T[e.refKey],tabRefKey:e.refKey,error:e.hasError,icon:e.icon,label:e.label,onKeyDown:w,animateTabErrors:t};return"parent"===e.type?(0,y.tZ)(A,{...a,isActive:!1,isExpanded:e.isExpanded,onClick:()=>v((t=>(0,N.hU)(t,e.label)))}):"child"===e.type?(0,y.tZ)(Z,{...a,isActive:e.isActive,isVisible:!0,required:e.required,value:e.value}):(0,y.tZ)(D,{...a,isActive:e.isActive,required:e.required,value:e.value})}))}),null===i||void 0===i?void 0:i()]}),E.filter((e=>"parent"!==e.type)).map((e=>{var{tabIndex:t,childIndex:a,type:n,value:r}=e;return(0,y.tZ)(L,{value:r,children:"child"===n?p[t].children[a].renderer():p[t].renderer()},r)}))]})}},77871:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(41554),r=a(4519),i=a(65304),o=a(8456),l=a(19298),s=a(21633),d=a(77537),c=(0,n.Z)("div",{target:"e1pictou0"})("display:flex;height:",(e=>{var{minHeight:t}=e;return"".concat(t,"px")}),";margin:-",o.default.spacing[2]," 0 -",o.default.spacing[5],";background-color:",(e=>{var{theme:t}=e;return t.colorBackground}),";"),u=[];const p=e=>{var{cancelable:t,closeAction:a,bottomContentRenderer:n,id:o,minHeight:p=400,onPrimaryButtonClick:h,getActiveTabIndex:g,primaryButtonLabel:v,primaryButtonDisabled:m=!1,showPrimaryButton:f=!0,tabs:y,tabsAriaLabel:b,titleGroup:T,unmount:C,withCloseX:E,buttonRenderer:S,defaultTab:w}=e,[I,k]=(0,r.useState)(!1),_=(0,r.useCallback)((()=>{k(!0),h()}),[h]),x=(0,r.useMemo)((()=>f?[{labelToken:null!==v&&void 0!==v?v:(0,i.eW)("Submit"),onClick:_,variant:"primary",disabled:m}]:u),[f,v,_,m]);return(0,d.tZ)(l.Z,{buttons:x,size:"lg",cancelable:t,closeAction:a,id:o,titleGroup:T,unmount:C,withCloseX:E,buttonRenderer:S,children:(0,d.tZ)(c,{minHeight:p,children:(0,d.tZ)(s.Z,{ariaLabel:b,bottomContentRenderer:n,tabs:y,animateTabErrors:I,setAnimateTabErrors:k,getActiveTabIndex:g,defaultTab:w})})})}},71734:(e,t,a)=>{a.d(t,{AA:()=>r,Fq:()=>s,ND:()=>o,hU:()=>i,sd:()=>n,vr:()=>l,xe:()=>d});var n=e=>e.replace(/\s+/g,""),r=e=>{for(var t=[],a=new Set,n=0;n<e.length;n++){var r,i=e[n];if(i.hasError&&(t.push(n),a.add(n)),null!==(r=i.children)&&void 0!==r&&r.length){for(var o=!1,l=0;l<i.children.length;l++)i.children[l].hasError&&(t.push("".concat(n,"-").concat(l)),o=!0);o&&!a.has(n)&&(t.push(n),a.add(n))}}return t},i=(e,t)=>{var a=new Set(e);return a.has(t)?a.delete(t):a.add(t),a},o=(e,t)=>{var a,r,i;return t?n(t):null!==(a=e[0])&&void 0!==a&&null!==(r=a.children)&&void 0!==r&&r.length?n(e[0].children[0].label):n(null===(i=e[0])||void 0===i?void 0:i.label)},l=(e,t)=>{var a,n;if(t){var r=e.find((e=>{var a;return null===(a=e.children)||void 0===a?void 0:a.some((e=>e.label===t))}));return r?new Set([r.label]):new Set}return(null===(a=e[0])||void 0===a||null===(n=a.children)||void 0===n?void 0:n.length)>0?new Set([e[0].label]):new Set},s=(e,t)=>{var a=e.flatMap(((e,a)=>{var n;return null!==(n=e.children)&&void 0!==n&&n.length?[["parent-".concat(a),e=>t.current["parent-".concat(a)]=e],...e.children.map(((e,n)=>["child-".concat(a,"-").concat(n),e=>t.current["child-".concat(a,"-").concat(n)]=e]))]:[["regular-".concat(a),e=>t.current["regular-".concat(a)]=e]]}));return Object.fromEntries(a)},d=e=>{var t=new Map,a=new Map;return e.forEach(((e,r)=>{var i;if(null!==(i=e.children)&&void 0!==i&&i.length)t.set("parent-".concat(r),{tabIndex:r,type:"parent",label:e.label}),e.children.forEach(((e,i)=>{var o=n(e.label),l="child-".concat(r,"-").concat(i);t.set(l,{tabIndex:r,childIndex:i,type:"child"}),a.set(o,{tabIndex:r,childIndex:i})}));else{var o=n(e.label);t.set("regular-".concat(r),{tabIndex:r,type:"regular"}),a.set(o,{tabIndex:r})}})),{refKeyToTabIndex:t,valueToTabIndex:a}}},41753:(e,t,a)=>{a.d(t,{f$:()=>Y,_M:()=>u,$0:()=>g,NV:()=>p,IB:()=>h,Lt:()=>T,q3:()=>V,hP:()=>y,BH:()=>le,nf:()=>te,Vm:()=>S,EI:()=>v,R3:()=>m});var n=a(41554),r=a(4519),i=a(84453),o=a(8456),l=a(67009),s=a(51201),d=a(66037),c=a(77537),u="colorTextWeak",p="colorTextStrong",h="colorTextDisabled",g="colorTextDisabled",v=(0,n.Z)("div",{target:"e1xv43ni1"})("z-index:9999;display:block;position:fixed;border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeak}),";border-radius:",o.default.borderRadius[1],";background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundWidget}),";box-shadow:",(e=>{var{theme:t}=e;return t.elevationWeak}),";",(e=>{var{withMaxHeight:t}=e;return t&&"\n  max-height: 250px;\n  overflow-y: auto;\n  "}),";"),m=(0,n.Z)("button",{target:"e1xv43ni0"})("cursor:pointer;padding:0 ",o.default.spacing[2],";height:28px;gap:",o.default.spacing[2],";background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundWidget}),";display:flex;align-items:center;align-content:center;flex-direction:row;flex-shrink:0;border:0;width:100%;&:hover{background-color:",(e=>{var{theme:t}=e;return t.colorForegroundHover}),";}&:first-child{margin-top:",o.default.spacing[1],";}&:last-child{margin-bottom:",o.default.spacing[1],";}"),f=(0,r.createContext)(null),y=e=>{var{children:t,className:a,onClick:n,onMouseDown:i,title:o}=e,l=(0,r.useRef)(null),s=(0,r.useContext)(f);if(null===s)throw new Error("DropdownItem must be a child of Droppown");var{registerItem:d}=s;return(0,r.useEffect)((()=>{l&&l.current&&d(l)}),[d]),(0,c.tZ)(m,{ref:l,className:a,onClick:n,onMouseDown:i,title:o,type:"button",children:t})},b=e=>{var{children:t,dropdownClassName:a,dropdownRef:n,onClose:i,withMaxHeight:o}=e,[l,s]=(0,r.useState)(),[d,u]=(0,r.useState)(),p=(0,r.useCallback)((e=>{s((t=>t?[...t,e]:[e]))}),[s]),h=(0,r.useMemo)((()=>({registerItem:p})),[p]);return(0,r.useEffect)((()=>{l&&!d&&u(l[0]),d&&d.current&&d.current.focus()}),[l,d]),(0,c.tZ)(f.Provider,{value:h,children:(0,c.tZ)(v,{className:a,ref:n,onKeyDown:e=>{if(l){var t=e.key;["Escape","ArrowUp","ArrowDown","Tab"].includes(t)&&e.preventDefault(),"Escape"===t||"Tab"===t?i():"ArrowUp"===t?u((e=>{if(!e)return l[0];var t=l.indexOf(e)-1;return l[-1===t?l.length-1:t]})):"ArrowDown"===t&&u((e=>e?l[l.indexOf(e)+1]:l[0]))}},withMaxHeight:o,children:t})})},T=e=>{var{dropdownClassName:t,disabled:a=!1,tooltipLabel:n,buttonLabel:o,buttonAriaLabel:v,buttonCss:m,ButtonIcon:f,ButtonComponent:y,buttonIconClassName:T,children:C,stopCloseOnClickSelf:E,withMaxHeight:S=!0}=e,w=(0,r.useRef)(null),I=(0,r.useRef)(null),[k,_]=(0,r.useState)(!1);(0,r.useEffect)((()=>{var e=I.current,t=w.current;if(k&&null!==e&&null!==t){var{top:a,left:n}=e.getBoundingClientRect();t.style.top="".concat(a+e.offsetHeight+4,"px"),t.style.left="".concat(Math.min(n,window.innerWidth-t.offsetWidth-20),"px")}}),[k]),(0,r.useEffect)((()=>{var e=I.current;if(null!==e&&k){var t=t=>{var a=t.target;E&&w.current&&w.current.contains(a)||e.contains(a)||_(!1)};return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}}}),[k,E]),(0,r.useEffect)((()=>{var e=()=>{if(k){var e=I.current,t=w.current;if(null!==e&&null!==t){var{top:a}=e.getBoundingClientRect(),n=a+e.offsetHeight+4;n!==t.getBoundingClientRect().top&&(t.style.top="".concat(n,"px"))}}};return document.addEventListener("scroll",e),()=>{document.removeEventListener("scroll",e)}}),[I,w,k]);var x=(0,c.BX)(y,{type:"button",disabled:a,"aria-label":v||o,onClick:()=>_((e=>!e)),ref:I,children:[f&&(0,c.tZ)(f,{color:a?g:u}),o&&(0,c.tZ)(s.Z,{size:"sm",color:a?h:p,children:o}),(0,c.tZ)(l.ChevronDownLightIcon,{color:a?g:"colorTextWeakest",size:"sm"})]});return(0,c.BX)(c.HY,{children:[n?(0,c.tZ)(d.ZP,{label:n,children:x}):x,k&&(0,i.createPortal)((0,c.tZ)(b,{dropdownClassName:t,dropdownRef:w,onClose:()=>{_(!1),I&&I.current&&I.current.focus()},withMaxHeight:S,children:C}),document.body)]})},C=a(6775),E=(0,n.Z)("div",{target:"e1okxqio0"})("overflow:hidden;position:absolute;text-overflow:ellipsis;top:",o.default.spacing[2],";left:",o.default.spacing[4],";right:",o.default.spacing[4],";user-select:none;white-space:nowrap;display:inline-block;pointer-events:none;"),S=e=>{var{token:t=(0,C.localizationKey)("Enter some text...")}=e;return(0,c.tZ)(E,{children:(0,c.tZ)(s.Z,{size:"sm",color:"colorTextWeakest",token:t})})},w=(0,n.Z)("div",{target:"e1g30nkn2"})("display:flex;flex-direction:row;align-items:center;margin-bottom:",o.default.spacing[3],";"),I=(0,n.Z)("label",{target:"e1g30nkn1"})("margin-bottom:0;flex:1;display:flex;color:",(e=>{var{theme:t}=e;return t.colorTextStrong}),";font-size:",o.default.typography.fontSize.body,";"),k=(0,n.Z)("input",{target:"e1g30nkn0"})("border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeak}),";padding:",o.default.spacing[2]," ",o.default.spacing[3],";font-size:",o.default.typography.fontSize.headingS,";border-radius:",o.default.borderRadius[1],";display:flex;flex:2;min-width:0;color:",(e=>{var{theme:t}=e;return t.colorTextStrong}),";background-color:",(e=>{var{theme:t}=e;return t.colorBackground}),";"),_=e=>{var{label:t,value:a,onChange:n,placeholder:r,"data-test-id":i,type:o="text"}=e;return(0,c.BX)(w,{children:[(0,c.tZ)(I,{children:t}),(0,c.tZ)(k,{type:o,placeholder:r,value:a,onChange:n,"data-test-id":i})]})},x=(0,n.Z)("div",{target:"e1elg7f77"})("box-sizing:unset;padding:",o.default.spacing[4],";"),R=(0,n.Z)("div",{target:"e1elg7f76"})("display:flex;flex-wrap:wrap;gap:",o.default.spacing[2],";margin:0;padding:0;"),A=(0,n.Z)("button",{target:"e1elg7f75"})("border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeakest}),";border-radius:",o.default.borderRadius[1],";height:",o.default.spacing[4],";width:",o.default.spacing[4],";cursor:pointer;list-style-type:none;",(e=>{var{active:t,theme:a}=e;return t&&a.elevationWeak}),";"),Z=(0,n.Z)("div",{target:"e1elg7f74"})("width:100%;position:relative;margin-top:",o.default.spacing[4],";height:150px;background-image:linear-gradient(transparent, black),linear-gradient(to right, white, transparent);user-select:none;"),D=(0,n.Z)("div",{target:"e1elg7f73"})("position:absolute;width:",o.default.spacing[5],";height:",o.default.spacing[5],";border:2px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeakest}),";border-radius:50%;box-shadow:",(e=>{var{theme:t}=e;return t.elevationWeak}),";box-sizing:border-box;transform:translate(-10px, -10px);"),N=(0,n.Z)("div",{target:"e1elg7f72"})("width:100%;position:relative;margin-top:",o.default.spacing[4],";height:",o.default.spacing[3],";background-image:linear-gradient(\n    to right,\n    rgb(255, 0, 0),\n    rgb(255, 255, 0),\n    rgb(0, 255, 0),\n    rgb(0, 255, 255),\n    rgb(0, 0, 255),\n    rgb(255, 0, 255),\n    rgb(255, 0, 0)\n  );user-select:none;border-radius:",o.default.borderRadius[3],";"),O=(0,n.Z)("div",{target:"e1elg7f71"})("position:absolute;width:",o.default.spacing[5],";height:",o.default.spacing[5],";border:2px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeak}),";border-radius:50%;box-shadow:",(e=>{var{theme:t}=e;return t.elevationWeak}),";box-sizing:border-box;transform:translate(-10px, -4px);"),M=(0,n.Z)("div",{target:"e1elg7f70"})("border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeak}),";margin-top:",o.default.spacing[4],";width:100%;height:",o.default.spacing[5],";"),L=["#d0021b","#f5a623","#f8e71c","#8b572a","#7ed321","#417505","#bd10e0","#9013fe","#4a90e2","#50e3c2","#b8e986","#000000","#4a4a4a","#9b9b9b","#ffffff"],P=214,z=!1,B=e=>{var{Component:t,onChange:a,style:n,children:i,...o}=e,l=(0,r.useRef)(null),s=(0,r.useRef)(!1),d=e=>{if(l.current){var{current:t}=l,{width:n,height:r,left:i,top:o}=t.getBoundingClientRect(),s=W(e.clientX-i,n,0),d=W(e.clientY-o,r,0);a({x:s,y:d})}};return(0,c.tZ)(t,{ref:l,style:n,onMouseDown:e=>{if(0===e.button){d(e);var t=e=>{s.current=!0,z=!0,d(e)},a=e=>{s.current&&(z=!1),document.removeEventListener("mousemove",t,!1),document.removeEventListener("mouseup",a,!1),d(e),s.current=!1};document.addEventListener("mousemove",t,!1),document.addEventListener("mouseup",a,!1)}},...o,children:i})};function W(e,t,a){return e>t?t:e<a?a:e}function U(e){if(!e.startsWith("#")){var t=document.createElement("canvas").getContext("2d");if(!t)throw new Error("2d context not supported or canvas already initialized");return t.fillStyle=e,t.fillStyle}return 4===e.length||5===e.length?e=e.split("").map(((e,t)=>t?e+e:"#")).join(""):7===e.length||9===e.length?e:"#000000"}function F(e){var t=(e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,a,n)=>"#"+t+t+a+a+n+n)).substring(1).match(/.{2}/g)||[]).map((e=>parseInt(e,16)));return{b:t[2],g:t[1],r:t[0]}}function K(e){var{r:t,g:a,b:n}=e;t/=255,a/=255,n/=255;var r=Math.max(t,a,n),i=r-Math.min(t,a,n);return{h:i?60*(r===t?(a-n)/i+(a<n?6:0):r===a?2+(n-t)/i:4+(t-a)/i):0,s:r?i/r*100:0,v:100*r}}function H(e){var{b:t,g:a,r:n}=e;return"#"+[n,a,t].map((e=>e.toString(16).padStart(2,"0"))).join("")}function G(e,t){var a=U("#121212"),n=F(a),r=K(n);if("hex"===e)r=K(n=F(a=U(t)));else if("rgb"===e){a=H(n=t),r=K(n)}else if("hsv"===e){a=H(n=function(e){var{h:t,s:a,v:n}=e,r=~~(t/60),i=t/60-r,o=(n/=100)*(1-(a/=100)),l=n*(1-a*i),s=n*(1-a*(1-i)),d=r%6,c=Math.round(255*[n,l,o,o,s,n][d]),u=Math.round(255*[s,n,n,l,o,o][d]);return{b:Math.round(255*[o,o,s,n,n,l][d]),g:u,r:c}}(r=t))}return{hex:a,hsv:r,rgb:n}}var j=e=>{var{color:t,onChange:a}=e,[n,i]=(0,r.useState)(G("hex",t)),[o,l]=(0,r.useState)(t),s=(0,r.useRef)(null),d=(0,r.useMemo)((()=>({x:n.hsv.s/100*P,y:(100-n.hsv.v)/100*150})),[n.hsv.s,n.hsv.v]),u=(0,r.useMemo)((()=>({x:n.hsv.h/360*P})),[n.hsv]);return(0,r.useEffect)((()=>{null!==s.current&&a&&(a(n.hex,z),l(n.hex))}),[n,a]),(0,r.useEffect)((()=>{if(void 0!==t){var e=G("hex",t);i(e),l(e.hex)}}),[t]),(0,c.BX)(x,{ref:s,style:{width:P},children:[(0,c.tZ)(_,{label:(0,C.localized)("Hex"),onChange:e=>(e=>{if(l(e),/^#[0-9A-Fa-f]{6}$/i.test(e)){var t=G("hex",e);i(t)}})(e.target.value),value:o}),(0,c.tZ)(R,{children:L.map((e=>(0,c.tZ)(A,{active:e===n.hex,style:{backgroundColor:e},onClick:()=>{l(e),i(G("hex",e))}},e)))}),(0,c.tZ)(B,{style:{backgroundColor:"hsl(".concat(n.hsv.h,", 100%, 50%)")},onChange:e=>{var{x:t,y:a}=e,r=G("hsv",{...n.hsv,s:t/P*100,v:100-a/150*100});i(r),l(r.hex)},Component:Z,children:(0,c.tZ)(D,{style:{backgroundColor:n.hex,left:d.x,top:d.y}})}),(0,c.tZ)(B,{onChange:e=>{var{x:t}=e,a=G("hsv",{...n.hsv,h:t/P*360});i(a),l(a.hex)},Component:N,children:(0,c.tZ)(O,{style:{backgroundColor:"hsl(".concat(n.hsv.h,", 100%, 50%)"),left:u.x}})}),(0,c.tZ)(M,{style:{backgroundColor:n.hex}})]})},V=e=>{var{disabled:t=!1,stopCloseOnClickSelf:a=!0,withMaxHeight:n=!1,color:r,onChange:i,...o}=e;return(0,c.tZ)(T,{...o,disabled:t,stopCloseOnClickSelf:a,withMaxHeight:n,children:(0,c.tZ)(j,{color:r,onChange:i})})},X=a(32291),q=(0,n.Z)(X.f,{target:"e6fej7q0"})("border:0;display:block;position:relative;outline:0;padding:",o.default.spacing[2]," ",o.default.spacing[4]," ",o.default.spacing[9],";min-height:150px;background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundWidget}),";hr{height:auto;border:none;margin:",o.default.spacing[4],' 0;cursor:pointer;&:after{content:"";display:block;height:2px;background-color:',(e=>{var{theme:t}=e;return t.colorBorderWeak}),";line-height:",o.default.typography.lineHeight.body,";}}hr.selected{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorBorderDecorativeWeak}),";user-select:none;}"),Y=e=>(0,c.tZ)(q,{className:"editor-root",...e}),J=a(39434),$=a(34928),Q=a(72530),ee=a(19298),te=e=>{var{activeEditor:t,backgroundClassName:a,unmount:n}=e,[i,o]=(0,r.useState)("5"),[l,s]=(0,r.useState)("5"),[d,u]=(0,r.useState)(!0);(0,r.useEffect)((()=>{var e=Number(i),t=Number(l);u(!(e&&e>0&&e<=50&&t&&t>0&&t<=10))}),[i,l]);return(0,c.BX)(ee.Z,{backgroundClassName:a,heading:(0,$.kIE)("Insert table"),withCloseX:!0,buttons:[{onClick:()=>{t.dispatchCommand(J.bF,{columns:l,rows:i,includeHeaders:!1}),n()},disabled:d,labelToken:(0,$.kIE)("Insert"),variant:"primary"}],unmount:n,children:[(0,c.tZ)(Q.ZP,{required:!0,type:"number",value:i,onChange:e=>o(e.target.value),labelText:(0,$.kIE)("Rows"),placeholder:(0,$.kIE)("5"),min:1,max:50}),(0,c.tZ)(Q.ZP,{required:!0,type:"number",value:l,onChange:e=>s(e.target.value),labelText:(0,$.kIE)("Columns"),placeholder:(0,$.kIE)("5"),min:1,max:10})]})};function ae(e,t,a){return Math.min(Math.max(e,t),a)}var ne=1,re=8,ie=2,oe=4,le=e=>{var{onResizeStart:t,onResizeEnd:a,buttonRef:n,imageRef:i,maxWidth:o,editor:l}=e,s=(0,r.useRef)(null),d=(0,r.useRef)({priority:"",value:"default"}),u=(0,r.useRef)({currentHeight:0,currentWidth:0,direction:0,isResizing:!1,ratio:0,startHeight:0,startWidth:0,startX:0,startY:0}),p=l.getRootElement(),h=o||(null!==p?p.getBoundingClientRect().width-20:100),g=null!==p?p.getBoundingClientRect().height-20:100,v=(e,a)=>{if(l.isEditable()){var n=i.current,r=s.current;if(null!==n&&null!==r){e.preventDefault();var{width:o,height:c}=n.getBoundingClientRect(),h=u.current;h.startWidth=o,h.startHeight=c,h.ratio=o/c,h.currentWidth=o,h.currentHeight=c,h.startX=e.clientX,h.startY=e.clientY,h.isResizing=!0,h.direction=a,(e=>{var t=e===ne||e===oe?"ew":e===re||e===ie?"ns":e&re&&e&oe||e&ie&&e&ne?"nwse":"nesw";null!==p&&p.style.setProperty("cursor","".concat(t,"-resize"),"important"),null!==document.body&&(document.body.style.setProperty("cursor","".concat(t,"-resize"),"important"),d.current.value=document.body.style.getPropertyValue("-webkit-user-select"),d.current.priority=document.body.style.getPropertyPriority("-webkit-user-select"),document.body.style.setProperty("-webkit-user-select","none","important"))})(a),t(),r.classList.add("image-control-wrapper--resizing"),n.style.height="".concat(c,"px"),n.style.width="".concat(o,"px"),document.addEventListener("pointermove",m),document.addEventListener("pointerup",f)}}},m=e=>{var t=i.current,a=u.current,n=a.direction&(ne|oe),r=a.direction&(ie|re);if(null!==t&&a.isResizing)if(n&&r){var o=Math.floor(a.startX-e.clientX);o=a.direction&ne?-o:o;var l=ae(a.startWidth+o,100,h),s=l/a.ratio;t.style.width="".concat(l,"px"),t.style.height="".concat(s,"px"),a.currentHeight=s,a.currentWidth=l}else if(r){var d=Math.floor(a.startY-e.clientY);d=a.direction&ie?-d:d;var c=ae(a.startHeight+d,100,g);t.style.height="".concat(c,"px"),a.currentHeight=c}else{var p=Math.floor(a.startX-e.clientX);p=a.direction&ne?-p:p;var v=ae(a.startWidth+p,100,h);t.style.width="".concat(v,"px"),a.currentWidth=v}},f=()=>{var e=i.current,t=u.current,n=s.current;if(null!==e&&null!==n&&t.isResizing){var r=t.currentWidth,o=t.currentHeight;t.startWidth=0,t.startHeight=0,t.ratio=0,t.startX=0,t.startY=0,t.currentWidth=0,t.currentHeight=0,t.isResizing=!1,n.classList.remove("image-control-wrapper--resizing"),null!==p&&p.style.setProperty("cursor","text"),null!==document.body&&(document.body.style.setProperty("cursor","default"),document.body.style.setProperty("-webkit-user-select",d.current.value,d.current.priority)),a(r,o),document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",f)}};return(0,c.BX)("div",{ref:s,children:[(0,c.tZ)("div",{className:"image-resizer image-resizer-n",onPointerDown:e=>{v(e,re)}}),(0,c.tZ)("div",{className:"image-resizer image-resizer-ne",onPointerDown:e=>{v(e,re|ne)}}),(0,c.tZ)("div",{className:"image-resizer image-resizer-e",onPointerDown:e=>{v(e,ne)}}),(0,c.tZ)("div",{className:"image-resizer image-resizer-se",onPointerDown:e=>{v(e,ie|ne)}}),(0,c.tZ)("div",{className:"image-resizer image-resizer-s",onPointerDown:e=>{v(e,ie)}}),(0,c.tZ)("div",{className:"image-resizer image-resizer-sw",onPointerDown:e=>{v(e,ie|oe)}}),(0,c.tZ)("div",{className:"image-resizer image-resizer-w",onPointerDown:e=>{v(e,oe)}}),(0,c.tZ)("div",{className:"image-resizer image-resizer-nw",onPointerDown:e=>{v(e,re|oe)}})]})}},8680:(e,t,a)=>{a.d(t,{O:()=>r});var n=a(78374);class r extends n.R2{static getType(){return"extended-text"}static clone(e){return new r(e.__text,e.__key)}static importDOM(){var e=n.R2.importDOM();return{...e,code:()=>({conversion:i(null===e||void 0===e?void 0:e.code),priority:1}),em:()=>({conversion:i(null===e||void 0===e?void 0:e.em),priority:1}),span:()=>({conversion:i(null===e||void 0===e?void 0:e.span),priority:1}),strong:()=>({conversion:i(null===e||void 0===e?void 0:e.strong),priority:1}),sub:()=>({conversion:i(null===e||void 0===e?void 0:e.sub),priority:1}),sup:()=>({conversion:i(null===e||void 0===e?void 0:e.sup),priority:1})}}static importJSON(e){return n.R2.importJSON(e)}isSimpleText(){return("text"===this.__type||"extended-text"===this.__type)&&0===this.__mode}exportJSON(){return{...super.exportJSON(),type:"extended-text",version:1}}}function i(e){return t=>{var a=null===e||void 0===e?void 0:e(t);if(!a)return null;var r=a.conversion(t);if(!r)return r;var i=t.style.backgroundColor,o=t.style.color,l=t.style.fontSize;return{...r,forChild:(e,t)=>{var a,s=(null!==(a=null===r||void 0===r?void 0:r.forChild)&&void 0!==a?a:e=>e)(e,t);if((0,n.Gg)(s)){var d=[i?"background-color: ".concat(i):null,o?"color: ".concat(o):null,l?"font-size: ".concat(l):null].filter((e=>e)).join("; ");if(d.length)return s.setStyle(d)}return s}}}}},56650:(e,t,a)=>{a.d(t,{xx:()=>h,WL:()=>C,jg:()=>g,Uh:()=>v,oQ:()=>m});var n=a(41554),r=a(4519),i=a(27573),o=a(78374),l=a(8346),s=a(1244),d=a(8456),c=a(6775),u=a(21013),p=a(77537),h=(0,o.fA)("ALLOW_ATTACHMENT_PLUGIN_COMMAND"),g=(0,o.fA)("INSERT_ATTACHMENT_BEGAN_COMMAND"),v=(0,o.fA)("INSERT_ATTACHMENT_COMPLETED_COMMAND"),m=(0,o.fA)("REMOVE_ATTACHMENT_COMMAND"),f=(0,n.Z)("div",{target:"eq2utmj1"})("padding:",d.default.spacing[4],";padding-top:0;background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundWidget}),";border-bottom-left-radius:",d.default.borderRadius[1],";border-bottom-right-radius:",d.default.borderRadius[1],";"),y=(0,n.Z)("div",{target:"eq2utmj0"})("display:flex;overflow:auto;gap:",d.default.spacing[2],";"),b=(0,i.UID)((0,i.yGi)("progress",100));var T=(0,r.memo)((e=>{var{cidKey:t,attachment:a,setAttachments:n,onAddAttachment:i,onPreviewAttachment:d,onDownloadAttachment:h,onRemoveAttachment:g}=e,[f]=(0,s.g)(),[y,b]=function(e){var[t,a]=(0,r.useState)(.5),[n,i]=(0,r.useState)(null!==e&&void 0!==e?e:0);return(0,r.useEffect)((()=>{var e=setInterval((()=>{if(100===n)clearInterval(e);else{var r=n+t,o=Math.round(Math.atan(r)/(Math.PI/2)*100*1e3)/1e3;i(o),o>=90?clearInterval(e):o>=70&&a(.1)}}),100);return()=>clearInterval(e)}),[n,t]),[n,i]}(a.progress),T=(0,r.useCallback)((e=>{e.id===a.id&&(setTimeout((()=>b(99)),1e3),setTimeout((()=>b(100)),2e3),null===i||void 0===i||i(e),n((a=>a.map((a=>a.id===e.id?{...a,[t]:e.response[t]}:a)))))}),[b,t,a,n,i]),C=(0,r.useCallback)((e=>{null===g||void 0===g||g(e);var a=e[t]?t:"id";n((t=>t.filter((t=>t[a]!==e[a]))))}),[t,n,g]);return(0,r.useEffect)((()=>(0,l.qV)(f.registerCommand(v,T,o.KB),f.registerCommand(m,C,o.KB))),[f,T,C]),(0,p.tZ)(u.Z,{file:a.file,progress:y,actions:[...h?[{labelToken:(0,c.localizationKey)("Download"),action:h}]:[],...d?[{labelToken:(0,c.localizationKey)("Preview"),action:d,splitAfter:!0}]:[],{labelToken:(0,c.localizationKey)("Delete"),action:()=>C(a),isRed:!0}]},a.id)})),C=e=>{var{cidKey:t,initialAttachments:a=[],onAddAttachment:n,onPreviewAttachment:i,onDownloadAttachment:d,onRemoveAttachment:u}=e,[v]=(0,s.g)(),[m,C]=(0,r.useState)(b(a));return(0,r.useEffect)((()=>(v.dispatchCommand(h,!0),(0,l.qV)(v.registerCommand(g,(e=>C((t=>[{id:e.id,file:e.file},...t]))),o.KB),v.registerCommand(o.BM,(()=>C([])),o.KB)))),[v]),(0,c.isNilOrEmpty)(m)?null:(0,p.tZ)(f,{children:(0,p.tZ)(y,{children:m.map((e=>(0,p.tZ)(T,{key:e.id,cidKey:t,attachment:e,setAttachments:C,onAddAttachment:n,onPreviewAttachment:i,onDownloadAttachment:d,onRemoveAttachment:u})))})})}},92822:(e,t,a)=>{a.d(t,{$:()=>l});var n=a(4519),r=a(93671),i=a(91478),o=a(77537),l=(0,n.memo)((e=>{var{matchers:t=[]}=e;return(0,o.tZ)(r.$,{matchers:[i.HI,i.R1,...t]})}))},19542:(e,t,a)=>{a.d(t,{P:()=>o});var n=a(4519),r=a(4196),i=a(1244),o=()=>{var[e]=(0,i.g)();return(0,n.useEffect)((()=>(0,r.dM)(e)),[e]),null}},14030:(e,t,a)=>{a.d(t,{J:()=>s});var n=a(4519),r=a(78374),i=a(61330),o=a(1244),l=(0,r.fA)("REPLACE_CONTENT");function s(){var[e]=(0,o.g)();return(0,n.useEffect)((()=>e.registerCommand(l,(t=>{var a=(new DOMParser).parseFromString(t,"text/html"),n=(0,i.s)(e,a),o=(0,r.Gv)().clear(),l=(0,r.BE)();return o.append(l).select(),(0,r.od)(n),!0}),r.VN)),[e]),null}},97393:(e,t,a)=>{a.d(t,{O:()=>p});var n=a(4519),r=a(1244),i=a(18301),o=a(61330),l=a(8346),s=a(78374),d=a(6775),c=a(91478),u=a(93094),p=e=>{var{cidKey:t,onUploadImage:a,onUploadImageError:p}=e,[h]=(0,r.g)(),[g,v]=(0,n.useState)(!1);return(0,n.useEffect)((()=>(0,l.qV)(h.registerCommand(u.rI,(e=>(v(e),!1)),s.jw),h.registerCommand(i.BD,(e=>!!g&&((async()=>{try{var n=await(0,l.j5)(e,[d.IMAGE_FILE_MIME_TYPES].flatMap((e=>e)));for(var{file:r,result:i}of n)if((0,c.DS)(r)){var o=await a(r),s=i,g=o[t];h.dispatchCommand(u.Mo,{src:s,cid:g})}}catch(v){null===p||void 0===p||p(v)}})(),!0)),s.KB),h.registerCommand(s.A1,(e=>{if(!e.clipboardData)return!1;var t=e.clipboardData.getData("text/html");if(!t)return!1;if((0,c.Uq)(t)){var a=(0,c.dW)(t),n=a.querySelectorAll("img"),r=(0,c.rh)(e.clipboardData.getData("text/rtf"));if(n.length===r.length)for(var l=0;l<n.length;l++){var d=n[l],u=r[l].type;if(d.src.startsWith("file:///")){var p="data:".concat(u,";base64,").concat((0,c.MU)(r[l].hex));d.setAttribute("src",p)}}var g=(0,s.dL)(),v=(0,o.s)(h,a);return!h.dispatchCommand(s.zr,{nodes:v,selection:g})&&(g.insertNodes(v),!0)}var[m,f]=(0,i.UW)(e);return!(!m||(0,c.IL)(t))&&(h.dispatchCommand(i.BD,f),!0)}),s.jw))),[h,g,t,a,p]),null}},59361:(e,t,a)=>{a.d(t,{z:()=>o});var n=a(4519),r=a(1244),i=a(78374),o=(0,n.memo)((e=>{var{onBlur:t}=e,[a]=(0,r.g)();return(0,n.useEffect)((()=>a.registerCommand(i.Gq,(()=>null===t||void 0===t?void 0:t()),i.VN)),[a,t]),null}))},33828:(e,t,a)=>{a(4519)},16856:(e,t,a)=>{a.d(t,{t:()=>E});var n=a(41554),r=a(4519),i=a(84453),o=a(34561),l=a(1244),s=a(8346),d=a(78374),c=a(67009),u=a(8456),p=a(29374),h=a(91478),g=a(77537),v=(0,n.Z)("div",{target:"etpwblt5"})("display:flex;position:absolute;top:0;left:0;z-index:10;max-width:400px;width:100%;opacity:0;background-color:",(e=>{var{theme:t}=e;return t.colorBackground}),";transition:opacity 0.5s;will-change:transform;box-shadow:",(e=>{var{theme:t}=e;return t.elevationWeak}),";",(e=>{var{withBorder:t}=e;return t&&"\n    border: 1px solid ".concat((e=>{var{theme:t}=e;return t.colorBorderWeakest}),";\n    border-radius: ").concat(u.default.spacing[1],";\n  ")}),";"),m=(0,n.Z)("input",{target:"etpwblt4"})("display:block;overflow:auto;box-sizing:border-box;color:",(e=>{var{theme:t}=e;return t.colorTextStrong}),";background-color:",(e=>{var{theme:t}=e;return t.colorBackground}),";padding:0 ",u.default.spacing[3],";height:",u.default.spacing[9],";border-radius:",u.default.spacing[1],";font-size:",u.default.typography.fontSize.body,";font-family:",u.default.typography.fontFamily.primary,";border:0;outline:0;position:relative;flex:1;"),f=(0,n.Z)("div",{target:"etpwblt3"})("height:",u.default.spacing[9],";gap:",u.default.spacing[2],";display:flex;align-items:center;width:100%;border:0;outline:0;position:relative;"),y=(0,n.Z)("div",{target:"etpwblt2"})("display:flex;align-items:center;gap:",u.default.spacing[1],";padding-right:",u.default.spacing[1],";"),b=(0,n.Z)("div",{target:"etpwblt1"})("display:flex;align-items:center;justify-content:center;height:",u.default.spacing[8],";width:",u.default.spacing[8],";border-radius:",u.default.spacing[1],";&:hover{cursor:pointer;background-color:",(e=>{var{theme:t}=e;return t.colorForegroundHover}),";}"),T=(0,n.Z)("a",{target:"etpwblt0"})("width:100%;display:block;word-break:break-word;overflow:auto;padding-left:",u.default.spacing[3],";text-decoration:underline;&:hover{text-decoration:underline;}"),C=e=>{var{editor:t,isLink:a,setIsLink:n,anchorElem:i,isLinkEditMode:l,setIsLinkEditMode:u}=e,C=(0,r.useRef)(null),E=(0,r.useRef)(null),[S,w]=(0,r.useState)(""),[I,k]=(0,r.useState)("https://"),[_,x]=(0,r.useState)(null),R=(0,r.useCallback)((()=>{var e=(0,d.dL)();if((0,d.OP)(e)){var a=(0,h.PZ)(e),n=(0,s.$s)(a,o.Pq);n?w(n.getURL()):(0,o.Pq)(a)?w(a.getURL()):w(""),l&&k(S)}var r=C.current,c=window.getSelection(),p=document.activeElement;if(null!==r){var g=t.getRootElement();if(null!==e&&null!==c&&null!==g&&g.contains(c.anchorNode)&&t.isEditable()){var v,m,f=null===(v=c.focusNode)||void 0===v||null===(m=v.parentElement)||void 0===m?void 0:m.getBoundingClientRect();f&&(f.y+=40,(0,h.xZ)(f,r,i)),x(e)}else p&&"link-input"===p.className||(null!==g&&(0,h.xZ)(null,r,i),x(null),u(!1),w(""));return!0}}),[i,t,u,l,S]);(0,r.useEffect)((()=>{var e=i.parentElement,a=()=>{t.getEditorState().read((()=>{R()}))};return window.addEventListener("resize",a),e&&e.addEventListener("scroll",a),()=>{window.removeEventListener("resize",a),e&&e.removeEventListener("scroll",a)}}),[i.parentElement,t,R]),(0,r.useEffect)((()=>(0,s.qV)(t.registerUpdateListener((e=>{var{editorState:t}=e;t.read((()=>{R()}))})),t.registerCommand(d.oj,(()=>(R(),!0)),d.KB),t.registerCommand(d.Zq,(()=>!!a&&(n(!1),!0)),d.Eo))),[t,R,n,a]),(0,r.useEffect)((()=>{t.getEditorState().read((()=>{R()}))}),[t,R]),(0,r.useEffect)((()=>{l&&E.current&&E.current.focus()}),[l,a]);var A=()=>{null!==_&&(""!==S&&(t.dispatchCommand(o.k0,(0,h.Nm)(I)),t.update((()=>{var e=(0,d.dL)();if((0,d.OP)(e)){var t=(0,h.PZ)(e).getParent();if((0,o.Xp)(t)){var a=(0,o.zV)(t.getURL(),{rel:t.__rel,target:t.__target,title:t.__title});t.replace(a,!0)}}}))),k("https://"),u(!1))};return(0,g.tZ)(v,{ref:C,withBorder:a,children:a?l?(0,g.BX)(g.HY,{children:[(0,g.tZ)(m,{ref:E,className:"link-input",value:I,onChange:e=>{k(e.target.value)},onKeyDown:e=>{(e=>{"Enter"===e.key?(e.preventDefault(),A()):"Escape"===e.key&&(e.preventDefault(),u(!1))})(e)}}),(0,g.BX)(y,{children:[(0,g.tZ)(b,{tabIndex:0,onMouseDown:e=>e.preventDefault(),onClick:()=>u(!1),children:(0,g.tZ)(c.XMarkLightIcon,{})}),(0,g.tZ)(b,{tabIndex:0,onMouseDown:e=>e.preventDefault(),onClick:A,children:(0,g.tZ)(c.CheckLightIcon,{})})]})]}):(0,g.BX)(f,{children:[(0,g.tZ)(T,{href:(0,h.Nm)(S),target:"_blank",rel:"noopener noreferrer",children:(0,g.tZ)(p.Z,{color:"colorTextAction",children:S})}),(0,g.BX)(y,{children:[(0,g.tZ)(b,{tabIndex:0,onMouseDown:e=>e.preventDefault(),onClick:()=>{k(S),u(!0)},children:(0,g.tZ)(c.PenLightIcon,{})}),(0,g.tZ)(b,{tabIndex:0,onMouseDown:e=>e.preventDefault(),onClick:()=>{t.dispatchCommand(o.k0,null)},children:(0,g.tZ)(c.ChainSlashLightIcon,{})})]})]}):null})};var E=e=>{var{anchorElem:t=document.body,isLinkEditMode:a,setIsLinkEditMode:n}=e,[c]=(0,l.g)();return function(e,t,a,n){var[l,c]=(0,r.useState)(e),[u,p]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{function t(){var e=(0,d.dL)();if((0,d.OP)(e)){var t=(0,h.PZ)(e),a=(0,s.$s)(t,o.Pq),n=(0,s.$s)(t,o.Xp);if(!a&&!n)return void p(!1);var r=e.getNodes().filter((e=>!(0,d.A3)(e))).find((e=>{var t=(0,s.$s)(e,o.Pq),r=(0,s.$s)(e,o.Xp);return a&&!a.is(t)||t&&!t.is(a)||n&&!n.is(r)||r&&(!r.is(n)||r.getIsUnlinked())}));p(!r)}}return(0,s.qV)(e.registerUpdateListener((e=>{var{editorState:a}=e;a.read((()=>{t()}))})),e.registerCommand(d.oj,((e,a)=>(t(),c(a),!1)),d.jw),e.registerCommand(d.Kr,(e=>{var t=(0,d.dL)();if((0,d.OP)(t)){var a=(0,h.PZ)(t),n=(0,s.$s)(a,o.Pq);if((0,o.Pq)(n)&&(e.metaKey||e.ctrlKey))return window.open(n.getURL(),"_blank"),!0}return!1}),d.KB))}),[e]),(0,i.createPortal)((0,g.tZ)(C,{editor:l,isLink:u,anchorElem:t,setIsLink:p,isLinkEditMode:a,setIsLinkEditMode:n}),t)}(c,t,a,n)}},42506:(e,t,a)=>{a.d(t,{j:()=>b});var n=a(41554),r=a(4519),i=a(84453),o=a(4196),l=a(34561),s=a(1244),d=a(8346),c=a(78374),u=a(67009),p=a(8456),h=a(6775),g=a(91478),v=a(77537),m=(0,n.Z)("div",{target:"ek5ietk1"})("display:flex;background:",(e=>{var{theme:t}=e;return t.colorBackground}),";padding:2px ",p.default.spacing[1],";gap:",p.default.spacing[1],";vertical-align:middle;position:absolute;top:0;left:0;z-index:10;opacity:0;border-radius:",p.default.spacing[1],";border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeakest}),";height:",p.default.spacing[9],";transition:opacity 0.5s;will-change:transform;box-shadow:",(e=>{var{theme:t}=e;return t.elevationWeak}),";"),f=(0,n.Z)("button",{target:"ek5ietk0"})("border:0;display:flex;background:none;border-radius:",p.default.borderRadius[1],";padding:",p.default.spacing[2],";cursor:pointer;vertical-align:middle;color:",(e=>{var{theme:t}=e;return t.colorTextStrong}),";border:1px solid transparent;align-items:center;&:hover{background-color:",(e=>{var{theme:t}=e;return t.colorForegroundHover}),";}&:disabled{cursor:not-allowed;}",(e=>{var{isActive:t,theme:a}=e;return t&&"\n    border: 1px solid ".concat(a.colorBorderDecorativeStrong,";\n    background-color: ").concat(a.colorForegroundSelected,";\n  ")}),";"),y=e=>{var{editor:t,anchorElem:a,isLink:n,isBold:i,isItalic:o,isUnderline:s,isCode:p,isStrikethrough:y,isSubscript:b,isSuperscript:T,setIsLinkEditMode:C}=e,E=(0,r.useRef)(null),S=(0,r.useCallback)((()=>{n?(C(!0),t.dispatchCommand(l.k0,null)):(C(!1),t.dispatchCommand(l.k0,"https://"))}),[t,n,C]),w=(0,r.useCallback)((e=>{if(null!==E&&void 0!==E&&E.current&&(1===e.buttons||3===e.buttons)&&"none"!==E.current.style.pointerEvents){var t=e.clientX,a=e.clientY,n=document.elementFromPoint(t,a);E.current.contains(n)||(E.current.style.pointerEvents="none")}}),[]),I=(0,r.useCallback)((e=>{null!==E&&void 0!==E&&E.current&&"auto"!==E.current.style.pointerEvents&&(E.current.style.pointerEvents="auto")}),[]);(0,r.useEffect)((()=>{if(null!==E&&void 0!==E&&E.current)return document.addEventListener("mousemove",w),document.addEventListener("mouseup",I),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",I)}}),[w,I]);var k=(0,r.useCallback)((()=>{var e=(0,c.dL)(),r=E.current,i=window.getSelection();if(null!==r){var o=t.getRootElement();if(null!==e&&null!==i&&!i.isCollapsed&&null!==o&&o.contains(i.anchorNode)){var l=(0,g.D8)(i,o);(0,g.b0)(l,r,a,n)}}}),[t,a,n]);return(0,r.useEffect)((()=>{var e=a.parentElement,n=()=>{t.getEditorState().read((()=>{k()}))};return window.addEventListener("resize",n),e&&e.addEventListener("scroll",n),()=>{window.removeEventListener("resize",n),e&&e.removeEventListener("scroll",n)}}),[t,k,a]),(0,r.useEffect)((()=>(t.getEditorState().read((()=>{k()})),(0,d.qV)(t.registerUpdateListener((e=>{var{editorState:t}=e;t.read((()=>{k()}))})),t.registerCommand(c.oj,(()=>(k(),!1)),c.KB)))),[t,k]),(0,v.tZ)(m,{ref:E,children:t.isEditable()&&(0,v.BX)(v.HY,{children:[(0,v.tZ)(f,{type:"button",onClick:()=>{t.dispatchCommand(c.Ew,"bold")},"aria-label":(0,h.localized)("Format text as bold"),isActive:i,children:(0,v.tZ)(u.BoldLightIcon,{})}),(0,v.tZ)(f,{type:"button",onClick:()=>{t.dispatchCommand(c.Ew,"italic")},"aria-label":(0,h.localized)("Format text as italics"),isActive:o,children:(0,v.tZ)(u.ItalicLightIcon,{})}),(0,v.tZ)(f,{type:"button",onClick:()=>{t.dispatchCommand(c.Ew,"underline")},"aria-label":(0,h.localized)("Format text to underlined"),isActive:s,children:(0,v.tZ)(u.UnderlineLightIcon,{})}),(0,v.tZ)(f,{type:"button",onClick:S,"aria-label":(0,h.localized)("Insert link"),children:(0,v.tZ)(u.LinkLightIcon,{})}),(0,v.tZ)(f,{type:"button",onClick:()=>{t.dispatchCommand(c.Ew,"code")},"aria-label":(0,h.localized)("Insert code block"),isActive:p,children:(0,v.tZ)(u.CodeLightIcon,{})})]})})};var b=e=>{var{anchorElem:t=document.body,setIsLinkEditMode:a}=e,[n]=(0,s.g)();return function(e,t,a){var[n,s]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1),[f,b]=(0,r.useState)(!1),[T,C]=(0,r.useState)(!1),[E,S]=(0,r.useState)(!1),w=(0,r.useCallback)((()=>{e.getEditorState().read((()=>{if(!e.isComposing()){var t=(0,c.dL)(),a=window.getSelection(),n=e.getRootElement();if(null===a||(0,c.OP)(t)&&null!==n&&n.contains(a.anchorNode)){if((0,c.OP)(t)){var r=(0,g.PZ)(t);m(t.hasFormat("bold")),b(t.hasFormat("italic")),C(t.hasFormat("underline")),S(t.hasFormat("code"));var i=r.getParent();(0,l.Pq)(i)||(0,l.Pq)(r)?p(!0):p(!1),(0,o.jZ)(t.anchor.getNode())||""===t.getTextContent()?s(!1):s((0,c.Gg)(r)||(0,c.Rl)(r));var d=t.getTextContent().replace(/\n/g,"");t.isCollapsed()||""!==d||s(!1)}}else s(!1)}}))}),[e]);return(0,r.useEffect)((()=>(document.addEventListener("selectionchange",w),()=>{document.removeEventListener("selectionchange",w)})),[w]),(0,r.useEffect)((()=>(0,d.qV)(e.registerUpdateListener((()=>{w()})),e.registerRootListener((()=>{null===e.getRootElement()&&s(!1)})))),[e,w]),n?(0,i.createPortal)((0,v.tZ)(y,{editor:e,anchorElem:t,isLink:u,isBold:h,isItalic:f,isUnderline:T,isCode:E,setIsLinkEditMode:a}),t):null}(n,t,a)}},62815:(e,t,a)=>{a.d(t,{E:()=>l});var n=a(4519),r=a(78374),i=a(1244),o=a(61330),l=(0,n.memo)((e=>{var{initialHTML:t,updateOnChange:a=!1}=e,l=(0,n.useRef)(!1),[s]=(0,i.g)();return(0,n.useEffect)((()=>{!t||l.current&&!a||s.update((()=>{l.current=!0;var e=(new DOMParser).parseFromString(t,"text/html"),a=(0,o.s)(s,e),n=(0,r.Gv)();n.clear(),n.selectStart(),(0,r.od)(a),(0,r.oq)(null)}),{tag:"history-merge"})}),[t,s,a]),null}))},41888:(e,t,a)=>{a.d(t,{HB:()=>d,HJ:()=>s,dP:()=>c});var n=a(4519),r=a(78374),i=a(75694),o=a(77537);function l(e){var t=e;if(t.src.startsWith("file:///"))return null;var{src:a,width:n,height:r}=t;return{node:d({height:r,src:a,width:n,cid:t.getAttribute("data-cid")})}}class s extends r.Ij{constructor(e,t,a,n,r,i){super(i),this.__cid=e,this.__src=t,this.__maxWidth=a,this.__width=n||"inherit",this.__height=r||"inherit"}static getType(){return"image"}static clone(e){return new s(e.__cid,e.__src,e.__maxWidth,e.__width,e.__height,e.__key)}static importJSON(e){var{height:t,width:a,maxWidth:n,src:r,cid:i}=e;return d({cid:i,height:t,maxWidth:n,src:r,width:a})}exportDOM(){var e=document.createElement("img");return e.setAttribute("data-cid",this.__cid),e.setAttribute("src",this.getSrc()),e.setAttribute("width",this.getWidth().toString()),e.setAttribute("height",this.getHeight().toString()),{element:e}}static importDOM(){return{img:e=>({conversion:l,priority:0})}}exportJSON(){return{src:this.getSrc(),cid:this.getCid(),maxWidth:this.getMaxWidth(),height:"inherit"===this.getHeight()?0:this.getHeight(),width:"inherit"===this.getWidth()?0:this.getWidth(),type:"image",version:1}}getSrc(){return this.getLatest().__src}getCid(){return this.getLatest().__cid}getWidth(){return this.getLatest().__width}getHeight(){return this.getLatest().__height}getMaxWidth(){return this.getLatest().__maxWidth}setCid(e){this.getWritable().__cid=e}setSrc(e){this.getWritable().__src=e}setMaxWidth(e){this.getWritable().__maxWidth=e}setWidthAndHeight(e,t){var a=this.getWritable();a.__width=e,a.__height=t}createDOM(e){var t=document.createElement("span"),a=e.theme.image;return a&&(t.className=a),t}updateDOM(){return!1}decorate(){return(0,o.tZ)(n.Suspense,{fallback:null,children:(0,o.tZ)(i.c,{cid:this.getCid(),maxWidth:this.getMaxWidth(),nodeKey:this.getKey(),src:this.getSrc(),width:this.getWidth(),height:this.getHeight(),resizable:!0})})}}function d(e){var{key:t,cid:a,src:n,height:i,width:o,maxWidth:l=1e3}=e;return(0,r.U2)(new s(a,n,l,o,i,t))}function c(e){return e instanceof s}},3486:(e,t,a)=>{a.d(t,{Mo:()=>p,_s:()=>h,rI:()=>u});var n=a(4519),r=a(65061),i=a(1244),o=a(8346),l=a(78374),s=a(91478),d=a(41888),c=e=>s.TF?(e||window).getSelection():null,u=(0,l.fA)("ALLOW_IMAGE_PLUGIN_COMMAND"),p=(0,l.fA)("INSERT_IMAGE_COMMAND"),h=e=>{var{cidKey:t,onUploadImage:a,onUploadImageError:h}=e,[f]=(0,i.g)(),y=(0,n.useCallback)((async e=>{try{var n=e.getSrc(),i=(0,s.Qt)(n),o="".concat((0,r.x0)(),".").concat(i),l=await(0,s.o)(n,o,"image/".concat(i));if((0,s.DS)(l)){var d=await a(l);f.update((()=>{e.setCid(d[t])}))}}catch(c){null===h||void 0===h||h(c)}}),[f,t,a,h]);return(0,n.useEffect)((()=>{if(!f.hasNodes([d.HJ]))throw new Error("ImagePlugin: ImageNode not registered on editor");return f.dispatchCommand(u,!0),(0,o.qV)(f.registerCommand(p,(e=>{var t=(0,d.HB)(e);return(0,l.od)([t]),(0,l._v)(t.getParentOrThrow())&&(0,o.JB)(t,l.BE).selectEnd(),!0}),l.VN),f.registerCommand(l.XI,(e=>function(e){var t=v();if(!t)return!1;var a=e.dataTransfer;return!!a&&(a.setData("text/plain","_"),a.setDragImage(g,0,0),a.setData("application/x-lexical-drag",JSON.stringify({data:{key:t.getKey(),src:t.__src,width:t.__width,height:t.__height,maxWidth:t.__maxWidth},type:"image"})),!0)}(e)),l.Eo),f.registerCommand(l.kE,(e=>function(e){if(!v())return!1;m(e)||e.preventDefault();return!0}(e)),l.KB),f.registerCommand(l.zD,(e=>function(e,t){var a=v();if(!a)return!1;var n=function(e){var t,a=null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("application/x-lexical-drag");if(!a)return null;var{type:n,data:r}=JSON.parse(a);return"image"!==n?null:r}(e);if(!n)return!1;if(e.preventDefault(),m(e)){var r=function(e){var t,a=e.target,n=null==a?null:9===a.nodeType?a.defaultView:a.ownerDocument.defaultView,r=c(n);if(document.caretRangeFromPoint)t=document.caretRangeFromPoint(e.clientX,e.clientY);else{if(!e.rangeParent||null===r)throw Error("Cannot get the selection when dragging");r.collapse(e.rangeParent,e.rangeOffset||0),t=r.getRangeAt(0)}return t}(e);a.remove();var i=(0,l.vN)();null!==r&&void 0!==r&&i.applyDOMRange(r),(0,l.oq)(i),t.dispatchCommand(p,n)}return!0}(e,f)),l.Eo))}),[f]),(0,n.useEffect)((()=>f.registerMutationListener(d.HJ,(e=>{var t=function(e){"created"===n&&f.getEditorState().read((()=>{var t=(0,l.gI)(e);!t.getCid()&&t.getSrc()&&y(t)}))};for(var[a,n]of e)t(a)}))),[f,y]),null},g=document.createElement("img");function v(){var e=(0,l.dL)();if(!(0,l.iO)(e))return null;var t=e.getNodes()[0];return(0,d.dP)(t)?t:null}function m(e){var t=e.target;return!!(t&&t instanceof HTMLElement&&!t.closest("code, span.editor-image")&&t.parentElement&&t.parentElement.closest("div.editor-root"))}g.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},27016:(e,t,a)=>{a.d(t,{H:()=>o});var n=a(46150),r=a(77537);function i(e){return"https://"===e||new RegExp(/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i).test(e)}var o=e=>{var{validateUrl:t=i}=e;return(0,r.tZ)(n.H,{validateUrl:t})}},22624:(e,t,a)=>{a.d(t,{l:()=>s});var n=a(4519),r=a(27102),i=a(1244),o=a(78374);function l(e){var t=(0,o.dL)();if(!(0,o.OP)(t))return!1;var a=function(e){var t=e.getNodes();return 0===t.length?new Set([e.anchor.getNode().getParentOrThrow(),e.focus.getNode().getParentOrThrow()]):new Set(t.map((e=>(0,o.F7)(e)?e:e.getParentOrThrow())))}(t),n=0;for(var i of a)if((0,r.I3)(i))n=Math.max((0,r.Rj)(i)+1,n);else if((0,r.QG)(i)){var l=i.getParent();if(!(0,r.I3)(l))throw new Error("ListMaxIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");n=Math.max((0,r.Rj)(l)+1,n)}return n>e}var s=e=>{var{maxDepth:t=7}=e,[a]=(0,i.g)();return(0,n.useEffect)((()=>a.registerCommand(o.PU,(()=>l(t)),o.jw)),[a,t]),null}},50155:(e,t,a)=>{a.d(t,{AV:()=>v,QU:()=>R});var n=a(4519),r=a(84453),i=a(1244),o=a(57235),l=a(6775),s=a(51201),d=a(78374),c=a(41554),u=a(8456),p=a(77537),h=(0,c.Z)("span",{target:"e1i9oz610"})("color:",(e=>{var{theme:t}=e;return t.colorTextStrong}),";background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutralWeak}),";padding:1px ",u.default.spacing[1],";border-radius:",u.default.borderRadius[1],";text-decoration:none;&:hover{background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutral}),";}"),g=e=>{var{label:t}=e;return(0,p.BX)(h,{children:["@",t]})};class v extends d.Ij{static getType(){return"mention"}static clone(e){return new v(e.__id,e.__label,e.__metadata,e.__key)}constructor(e,t,a,n){super(n),this.__id=e,this.__label=t,this.__metadata=a}static importDOM(){return{span:e=>e.hasAttribute("data-lexical-mention")?{conversion:m,priority:1}:null}}createDOM(){var e=document.createElement("span");return e.setAttribute("data-id",this.getId()),e}updateDOM(){return!1}exportDOM(){var e=this.getId(),t=document.createElement("span");return t.setAttribute("data-id",e),t.setAttribute("data-lexical-mention","true"),t.textContent="@user:"+e,{element:t}}static importJSON(e){return f(e.id,e.label,e.metadata)}setId(e){this.getWritable().__id=e}getId(){return this.getLatest().__id}setLabel(e){this.getWritable().__label=e}getLabel(){return this.getLatest().__label}setMetadata(e){this.getWritable().__metadata=e}getMetadata(){return this.getLatest().__metadata}exportJSON(){return{id:this.getId(),label:this.getLabel(),metadata:this.getMetadata(),type:"mention",version:1}}decorate(){return(0,p.tZ)(g,{label:this.getLabel()})}}function m(e){var t=e.textContent;return null!==t?{node:f(null,t)}:null}function f(e,t,a){return(0,d.U2)(new v(e,t,a))}var y=a(50444),b="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;",T=b,C=["@"].join(""),E="[^"+C+T+"\\s]",S=new RegExp("(^|\\s|\\()(["+C+"]((?:"+E+("(?:\\.[ |$]| |["+T+"]|)")+"){0,75}))$"),w=new RegExp("(^|\\s|\\()(["+C+"]((?:"+E+"){0,50}))$"),I=new Map;function k(e){return function(e,t){var a=S.exec(e);if(null===a&&(a=w.exec(e)),null!==a){var n=a[1],r=a[3];if(r.length>=t)return{leadOffset:a.index+n.length,matchingString:r,replaceableString:a[2]}}return null}(e,1)}class _ extends o.n{constructor(e,t,a){super(e),this.id=e,this.label=t,this.metadata=a}}var x=e=>{var{index:t,isSelected:a,onClick:n,onMouseEnter:r,option:i}=e,o="item";return a&&(o+=" selected"),(0,p.tZ)(y.df,{id:"typeahead-item-"+t,className:o,ref:i.setRefElement,"aria-selected":a,onMouseEnter:r,onClick:n,tabIndex:-1,children:(0,p.tZ)(s.Z,{size:"sm",color:"colorTextWeak",children:i.label})},i.key)},R=e=>{var{idKey:t,labelKey:a,mentionFetch:s,onAddMention:d,MentionsTypeaheadMenuItemComponent:c=x}=e,[u]=(0,i.g)(),[h,g]=(0,n.useState)(null),v=function(e,t){var[a,r]=(0,n.useState)([]),i=(0,n.useCallback)((e=>(0,l.debounce)((async e=>{I.set(e,null);var a=await t(e);I.set(e,a),r(a)}),500)(e)),[t]);return(0,n.useEffect)((()=>{var t=I.get(e);null!=e?null!==t&&(void 0===t?i(e):r(t)):r([])}),[i,e]),a}(h,s),m=(0,o.wd)("/",{minLength:0}),b=(0,n.useMemo)((()=>null===v||void 0===v?void 0:v.map((e=>new _(e[t],e[a],e))).slice(0,5)),[t,a,v]),T=(0,n.useCallback)(((e,t,a)=>{u.update((()=>{var n=f(e.id,e.label,e.metadata);null===d||void 0===d||d(e),t&&t.replace(n),a()}))}),[u,d]),C=(0,n.useCallback)((e=>null!==m(e,u)?null:k(e)),[m,u]);return(0,p.tZ)(o.HQ,{onQueryChange:g,onSelectOption:T,triggerFn:C,options:b,menuRenderFn:(e,t)=>{var{selectedIndex:a,selectOptionAndCleanUp:n,setHighlightedIndex:i}=t;return e.current&&null!==v&&void 0!==v&&v.length?(0,r.createPortal)((0,p.tZ)(y.JT,{children:(0,p.tZ)(y.vw,{children:b.map(((e,t)=>(0,p.tZ)(c,{index:t,isSelected:a===t,onClick:()=>{i(t),n(e)},onMouseEnter:()=>{i(t)},option:e},e.key)))})}),e.current):null}})}},50444:(e,t,a)=>{a.d(t,{JT:()=>i,df:()=>l,vw:()=>o});var n=a(41554),r=a(41753);var i=(0,n.Z)(r.EI,{target:"e1s7tjt62"})({name:"xu0q36",styles:"width:250px"}),o=(0,n.Z)("ul",{target:"e1s7tjt61"})({name:"gvlw7h",styles:"padding:0;margin:0;list-style:none;overflow-y:scroll;max-height:200px;&::-webkit-scrollbar{display:none;}"}),l=(0,n.Z)(r.R3,{target:"e1s7tjt60"})("min-width:180px;&.selected{background-color:",(e=>{var{theme:t}=e;return t.colorForegroundSelected}),";}")},29706:(e,t,a)=>{a.d(t,{E9:()=>r,RU:()=>i});a(4519);var n=a(78374),r=(0,n.fA)("ALLOW_SOURCE_PLUGIN_COMMAND"),i=(0,n.fA)("SET_IS_EDITING_SOURCE_COMMAND")},89223:(e,t,a)=>{a.d(t,{q:()=>s});var n=a(4519),r=a(1244),i=a(78374),o=0,l=!1;var s=()=>{var[e]=(0,r.g)();return(0,n.useEffect)((()=>(l||(window.addEventListener("keydown",(e=>{"Tab"===e.key&&(o=e.timeStamp)}),!0),l=!0),e.registerCommand(i.m$,(e=>{var t=(0,i.dL)();return(0,i.OP)(t)&&o+100>e.timeStamp&&(0,i.oq)(t.clone()),!1}),1))),[e]),null}},84394:(e,t,a)=>{a.d(t,{c:()=>w});var n=a(41554),r=a(4519),i=a(84453),o=a(1244),l=a(64521),s=a(39434),d=a(78374),c=a(67009),u=a(8456),p=a(6775),h=a(51201),g=a(91478),v=a(41753),m=a(97578),f=a(77537);function y(e){var t=e.getShape();return{columns:t.toX-t.fromX+1,rows:t.toY-t.fromY+1}}function b(e){if(1!==e.getChildrenSize())return!1;var t=e.getFirstChildOrThrow();return!(!(0,d.Rl)(t)||!t.isEmpty())}var T=e=>{var{containerClassName:t,onClose:a,setIsMenuOpen:n,contextRef:l,cellMerge:c,tableCellNode:u}=e,[T]=(0,o.g)(),C=(0,r.useRef)(null),[E,S]=(0,r.useState)(u),[w,I]=(0,r.useState)({columns:1,rows:1}),[k,_]=(0,r.useState)(!1),[x,R]=(0,r.useState)(!1);(0,r.useEffect)((()=>T.registerMutationListener(s.Cr,(e=>{"updated"===e.get(E.getKey())&&T.getEditorState().read((()=>{S(E.getLatest())}))}),{skipInitialization:!0})),[T,E]),(0,r.useEffect)((()=>{T.getEditorState().read((()=>{var e=(0,d.dL)();if((0,s.zO)(e)){var t=y(e);I(y(e)),_(function(e){for(var t=e.getNodes(),a=[],n=null,r=null,i=0,o=0;o<t.length;o++){var l=t[o];if((0,s.TF)(l)){var d=l.getParentOrThrow();if((0,g.kG)((0,s.to)(d),"Expected CellNode to have a RowNode parent"),n!==d){if(null!==r&&i!==r)return!1;null!==n&&(r=i),n=d,i=0}for(var c=l.__colSpan,u=0;u<c;u++)void 0===a[i+u]&&(a[i+u]=0),a[i+u]+=l.__rowSpan;i+=c}}return(null===r||i===r)&&a.every((e=>e===a[0]))}(e)&&(t.columns>1||t.rows>1))}R(function(){var e=(0,d.dL)();if((0,d.OP)(e)&&!e.isCollapsed()||(0,s.zO)(e)&&!e.anchor.is(e.focus)||!(0,d.OP)(e)&&!(0,s.zO)(e))return!1;var[t]=(0,s.$r)(e.anchor);return t.__colSpan>1||t.__rowSpan>1}())}))}),[T]),(0,r.useEffect)((()=>{var e=l.current,t=C.current,a=T.getRootElement();if(null!=e&&null!=t&&null!=a){var n=a.getBoundingClientRect(),r=e.getBoundingClientRect();t.style.opacity="1";var i=t.getBoundingClientRect(),o=r.right+4;if(o+i.width>window.innerWidth||o+i.width>n.right){var s=r.left-i.width-4;o=(s<0?4:s)+window.pageXOffset}t.style.left="".concat(o+window.pageXOffset,"px");var d=r.top;if(d+i.height>window.innerHeight){var c=r.bottom-i.height;d=(c<0?4:c)+window.pageYOffset}t.style.top="".concat(d+ +window.pageYOffset,"px")}}),[l,C,T]),(0,r.useEffect)((()=>{function e(e){null==C.current||null==l.current||C.current.contains(e.target)||l.current.contains(e.target)||n(!1)}return window.addEventListener("click",e),()=>window.removeEventListener("click",e)}),[n,l]);var A=(0,r.useCallback)((()=>{T.update((()=>{if(E.isAttached()){var e=(0,s.Yp)(E),t=T.getElementByKey(e.getKey());if(!t)throw new Error("Expected to find tableElement in DOM");var a=(0,s.ng)(t);null!==a&&a.clearHighlight(),e.markDirty(),S(E.getLatest())}(0,d.Gv)().selectStart()}))}),[T,E]),Z=()=>{T.update((()=>{var e=(0,d.dL)();if((0,s.zO)(e)){for(var{columns:t,rows:n}=y(e),r=e.getNodes(),i=null,o=0;o<r.length;o++){var l=r[o];if((0,s.TF)(l))if(null===i){l.setColSpan(t).setRowSpan(n),i=l;var c=void 0;b(l)&&(0,d.Rl)(c=l.getFirstChild())&&c.remove()}else if((0,s.TF)(i)){b(l)||i.append(...l.getChildren()),l.remove()}}null!==i&&(0===i.getChildrenSize()&&i.append((0,d.BE)()),function(e){var t=e.getLastDescendant();(0,d.Gg)(t)?t.select():(0,d.F7)(t)?t.selectEnd():null!==t&&t.selectNext()}(i)),a()}}))},D=(0,r.useCallback)((e=>{T.update((()=>{(0,s.EX)(e),a()}))}),[T,a]),N=(0,r.useCallback)((e=>{T.update((()=>{for(var t=0;t<w.columns;t++)(0,s.rU)(e);a()}))}),[T,a,w.columns]),O=(0,r.useCallback)((()=>{T.update((()=>{(0,s.kS)(),a()}))}),[T,a]),M=(0,r.useCallback)((()=>{T.update((()=>{(0,s.Yp)(E).remove(),A(),a()}))}),[T,E,A,a]),L=(0,r.useCallback)((()=>{T.update((()=>{(0,s.bk)(),a()}))}),[T,a]),P=(0,r.useCallback)((()=>{T.update((()=>{var e=(0,s.Yp)(E),t=(0,s.q1)(E),n=e.getChildren();if(t>=n.length||t<0)throw new Error("Expected table cell to be inside of table row.");var r=n[t];if(!(0,s.to)(r))throw new Error("Expected table row");r.getChildren().forEach((e=>{if(!(0,s.TF)(e))throw new Error("Expected table cell");e.toggleHeaderStyle(s.xo.ROW)})),A(),a()}))}),[T,E,A,a]),z=(0,r.useCallback)((()=>{T.update((()=>{var e=(0,s.Yp)(E),t=(0,s.yb)(E),n=e.getChildren();if(t>=Math.max(...n.map((e=>e.getChildren().length)))||t<0)throw new Error("Expected table cell to be inside of table row.");for(var r=0;r<n.length;r++){var i=n[r];if(!(0,s.to)(i))throw new Error("Expected table row");var o=i.getChildren();if(!(t>=o.length)){var l=o[t];if(!(0,s.TF)(l))throw new Error("Expected table cell");l.toggleHeaderStyle(s.xo.COLUMN)}}A(),a()}))}),[T,E,A,a]),B=null;return c&&(k?B=(0,f.tZ)(v.R3,{onClick:()=>Z(),children:(0,f.tZ)(h.Z,{size:"sm",color:"colorTextWeak",children:(0,p.localized)("Merge cells")})}):x&&(B=(0,f.tZ)(v.R3,{onClick:()=>{T.update((()=>{(0,s.eb)()}))},children:(0,f.tZ)(h.Z,{size:"sm",color:"colorTextWeak",children:(0,p.localized)("Unmerge cells")})}))),(0,i.createPortal)((0,f.BX)(v.EI,{ref:C,className:t,onClick:e=>e.stopPropagation(),children:[B&&(0,f.BX)(f.HY,{children:[B,(0,f.tZ)(m.nK,{})]}),(0,f.tZ)(v.R3,{onClick:()=>D(!1),children:(0,f.tZ)(h.Z,{size:"sm",color:"colorTextWeak",children:1===w.rows?(0,p.localized)("Insert row above"):(0,p.localized)("Insert {{amount}} rows above",{amount:w.rows})})}),(0,f.tZ)(v.R3,{onClick:()=>D(!0),children:(0,f.tZ)(h.Z,{size:"sm",color:"colorTextWeak",children:1===w.rows?(0,p.localized)("Insert row below"):(0,p.localized)("Insert {{amount}} rows below",{amount:w.rows})})}),(0,f.tZ)(m.nK,{}),(0,f.tZ)(v.R3,{onClick:()=>N(!1),children:(0,f.tZ)(h.Z,{size:"sm",color:"colorTextWeak",children:1===w.columns?(0,p.localized)("Insert column left"):(0,p.localized)("Insert {{amount}} columns left",{amount:w.columns})})}),(0,f.tZ)(v.R3,{onClick:()=>N(!0),children:(0,f.tZ)(h.Z,{size:"sm",color:"colorTextWeak",children:1===w.columns?(0,p.localized)("Insert column right"):(0,p.localized)("Insert {{amount}} columns right",{amount:w.columns})})}),(0,f.tZ)(m.nK,{}),(0,f.tZ)(v.R3,{onClick:()=>L(),children:(0,f.tZ)(h.Z,{size:"sm",color:"colorTextWeak",children:(0,p.localized)("Delete column")})}),(0,f.tZ)(v.R3,{onClick:()=>O(),children:(0,f.tZ)(h.Z,{size:"sm",color:"colorTextWeak",children:(0,p.localized)("Delete row")})}),(0,f.tZ)(v.R3,{onClick:()=>M(),children:(0,f.tZ)(h.Z,{size:"sm",color:"colorTextWeak",children:(0,p.localized)("Delete table")})}),(0,f.tZ)(m.nK,{}),(0,f.tZ)(v.R3,{onClick:()=>P(),children:(0,f.tZ)(h.Z,{size:"sm",color:"colorTextWeak",children:(E.__headerState&s.xo.ROW)===s.xo.ROW?(0,p.localized)("Remove row header"):(0,p.localized)("Add row header")})}),(0,f.tZ)(v.R3,{onClick:()=>z(),children:(0,f.tZ)(h.Z,{size:"sm",color:"colorTextWeak",children:(E.__headerState&s.xo.COLUMN)===s.xo.COLUMN?(0,p.localized)("Remove column header"):(0,p.localized)("Add column header")})})]}),document.body)},C=(0,n.Z)("div",{target:"e1od3iot1"})({name:"9j8ldq",styles:"position:absolute;top:0;left:0;will-change:transform"}),E=(0,n.Z)("button",{target:"e1od3iot0"})("background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutral}),";justify-content:center;align-items:center;position:relative;border-radius:",u.default.borderRadius[1],";display:flex;height:",u.default.spacing[4],";cursor:pointer;border:0;opacity:0.5;&:hover{opacity:1;}"),S=e=>{var{anchorElem:t,cellMerge:a,containerClassName:n}=e,[i]=(0,o.g)(),l=(0,r.useRef)(null),u=(0,r.useRef)(null),[p,h]=(0,r.useState)(!1),[g,v]=(0,r.useState)(null),m=(0,r.useCallback)((()=>{var e=l.current,t=(0,d.dL)(),a=window.getSelection(),n=document.activeElement;if(null!=t&&null!=e){var r=i.getRootElement();if((0,d.OP)(t)&&null!==r&&null!==a&&r.contains(a.anchorNode)){var o=(0,s.Fk)(t.anchor.getNode());if(null==o)return void v(null);if(null==i.getElementByKey(o.getKey()))return void v(null);v(o)}else n||v(null)}else v(null)}),[i]);(0,r.useEffect)((()=>i.registerUpdateListener((()=>{i.getEditorState().read((()=>{m()}))})))),(0,r.useEffect)((()=>{var e=l.current;if(null!=e&&null!=g){var a=i.getElementByKey(g.getKey());if(null!=a){var n=a.getBoundingClientRect(),r=e.getBoundingClientRect(),o=t.getBoundingClientRect(),s=n.top-o.top+4,d=n.right-r.width-4-o.left;e.style.opacity="1",e.style.transform="translate(".concat(d,"px, ").concat(s,"px)")}else e.style.opacity="0",e.style.transform="translate(-10000px, -10000px)"}}),[l,g,i,t]);var y=(0,r.useRef)(g);return(0,r.useEffect)((()=>{y.current!==g&&h(!1),y.current=g}),[y,g]),(0,f.tZ)(C,{ref:l,children:null!=g&&(0,f.BX)(f.HY,{children:[(0,f.tZ)(E,{ref:u,type:"button",onClick:e=>{e.stopPropagation(),h((e=>!e))},children:(0,f.tZ)(c.ChevronDownLightIcon,{size:"xs",color:"colorTextStrong"})}),p&&(0,f.tZ)(T,{containerClassName:n,contextRef:u,setIsMenuOpen:h,onClose:()=>h(!1),tableCellNode:g,cellMerge:a})]})})},w=e=>{var{anchorElem:t=document.body,cellMerge:a=!1,containerClassName:n}=e,r=(0,l.P)();return(0,i.createPortal)(r?(0,f.tZ)(S,{anchorElem:t,cellMerge:a,containerClassName:n}):null,t)}},96322:(e,t,a)=>{a.d(t,{M:()=>v});var n=a(41554),r=a(4519),i=a(84453),o=a(44164),l=a(1244),s=a(64521),d=a(39434),c=a(8346),u=a(78374),p=a(77537);var h=(0,n.Z)("div",{target:"e1erzdik0"})({name:"a4hmbt",styles:"position:absolute"});function g(e){var{editor:t}=e,a=(0,r.useRef)(null),n=(0,r.useRef)(null),i=(0,r.useRef)(null),l=(0,r.useRef)(null),[s,g]=(0,r.useState)(null),[v,m]=(0,r.useState)(null),[f,y]=(0,r.useState)(!1),[b,T]=(0,r.useState)(null),C=(0,o.u)(),E=(0,r.useCallback)((()=>{m(null),a.current=null,T(null),l.current=null,i.current=null}),[]);(0,r.useEffect)((()=>{var e=e=>{setTimeout((()=>{var r=e.target;if(b)g({x:e.clientX,y:e.clientY});else if(y((e=>1===(1&e.buttons))(e)),(!n.current||!n.current.contains(r))&&a.current!==r){a.current=r;var o=(0,d.Mz)(r);o&&v!==o?t.update((()=>{var e=(0,u.Xo)(o.elem);if(!e)throw new Error("TableCellResizer: Table cell node not found.");var n=(0,d.Yp)(e),l=t.getElementByKey(n.getKey());if(!l)throw new Error("TableCellResizer: Table element not found.");a.current=r,i.current=l.getBoundingClientRect(),m(o)})):null==o&&E()}}),0)},r=e=>{setTimeout((()=>{y(!0)}),0)},o=e=>{setTimeout((()=>{y(!1)}),0)},l=t.registerRootListener(((t,a)=>{null===t||void 0===t||t.addEventListener("mousemove",e),null===t||void 0===t||t.addEventListener("mousedown",r),null===t||void 0===t||t.addEventListener("mouseup",o),null===a||void 0===a||a.removeEventListener("mousemove",e),null===a||void 0===a||a.removeEventListener("mousedown",r),null===a||void 0===a||a.removeEventListener("mouseup",o)}));return()=>{l()}}),[v,b,t,E]);var S=e=>"bottom"===e,w=(0,r.useCallback)((e=>{if(!v)throw new Error("TableCellResizer: Expected active cell.");t.update((()=>{var a=(0,u.Xo)(v.elem);if(!(0,d.TF)(a))throw new Error("TableCellResizer: Table cell node not found.");var n=(0,d.Yp)(a),r=(0,d.q1)(a),i=n.getChildren();if(r>=i.length||r<0)throw new Error("Expected table cell to be inside of table row.");var o=i[r];if(!(0,d.to)(o))throw new Error("Expected table row");var l=o.getHeight();if(void 0===l){var s=o.getChildren();l=Math.min(...s.map((e=>{var a;return null!==(a=k(e,t))&&void 0!==a?a:1/0})))}var c=Math.max(l+e,33);o.setHeight(c)}),{tag:"skip-scroll-into-view"})}),[v,t]),I=(e,t)=>{var a=e.getWidth();if(void 0!==a)return a;var n=t.getElementByKey(e.getKey());if(null!=n){var r=getComputedStyle(n);return n.clientWidth-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)}},k=(e,t)=>{var a=t.getElementByKey(e.getKey());return null===a||void 0===a?void 0:a.clientHeight},_=(0,r.useCallback)((e=>{if(!v)throw new Error("TableCellResizer: Expected active cell.");t.update((()=>{var a=(0,u.Xo)(v.elem);if(!(0,d.TF)(a))throw new Error("TableCellResizer: Table cell node not found.");var n=(0,d.Yp)(a),[r]=(0,d.CS)(n,null,null),i=((e,t)=>{for(var a=0;a<t.length;a++)for(var n=0;n<t[a].length;n++)if(t[a][n].cell===e)return n})(a,r);if(void 0===i)throw new Error("TableCellResizer: Table column not found.");for(var o=0;o<r.length;o++){var l=r[o][i];if(l.startRow===o&&(i===r[o].length-1||r[o][i].cell!==r[o][i+1].cell)){var s=I(l.cell,t);if(void 0===s)continue;var c=Math.max(s+e,50);l.cell.setWidth(c)}}}),{tag:"skip-scroll-into-view"})}),[v,t]),x=(0,r.useCallback)((e=>{var t=a=>{if(a.preventDefault(),a.stopPropagation(),!v)throw new Error("TableCellResizer: Expected active cell.");if(l.current){var{x:n,y:r}=l.current;if(null===v)return;var i=(0,c.MZ)(a.target);if(S(e)){var o=(a.clientY-r)/i;w(o)}else{var s=(a.clientX-n)/i;_(s)}E(),document.removeEventListener("mouseup",t)}};return t}),[v,E,_,w]),R=(0,r.useCallback)((e=>t=>{if(t.preventDefault(),t.stopPropagation(),!v)throw new Error("TableCellResizer: Expected active cell.");l.current={x:t.clientX,y:t.clientY},g(l.current),T(e),document.addEventListener("mouseup",x(e))}),[v,x]),A=(0,r.useCallback)((()=>{if(v){var{height:e,width:t,top:a,left:n}=v.elem.getBoundingClientRect(),r=(0,c.MZ)(v.elem),o={bottom:{backgroundColor:"none",cursor:"row-resize",height:"".concat(10,"px"),left:"".concat(window.pageXOffset+n,"px"),top:"".concat(window.pageYOffset+a+e-5,"px"),width:"".concat(t,"px")},right:{backgroundColor:"none",cursor:"col-resize",height:"".concat(e,"px"),left:"".concat(window.pageXOffset+n+t-5,"px"),top:"".concat(window.pageYOffset+a,"px"),width:"".concat(10,"px")}},l=i.current;return b&&s&&l&&(S(b)?(o[b].left="".concat(window.pageXOffset+l.left,"px"),o[b].top="".concat(window.pageYOffset+s.y/r,"px"),o[b].height="3px",o[b].width="".concat(l.width,"px")):(o[b].top="".concat(window.pageYOffset+l.top,"px"),o[b].left="".concat(window.pageXOffset+s.x/r,"px"),o[b].width="3px",o[b].height="".concat(l.height,"px")),o[b].backgroundColor=C.colorBorderStrong),o}return{bottom:null,left:null,right:null,top:null}}),[C,v,b,s])();return(0,p.tZ)("div",{ref:n,children:null!=v&&!f&&(0,p.BX)(p.HY,{children:[(0,p.tZ)(h,{style:A.right||void 0,onMouseDown:R("right")}),(0,p.tZ)(h,{style:A.bottom||void 0,onMouseDown:R("bottom")})]})})}var v=()=>{var[e]=(0,l.g)(),t=(0,s.P)();return(0,r.useMemo)((()=>t?(0,i.createPortal)((0,p.tZ)(g,{editor:e}),document.body):null),[e,t])}},23923:(e,t,a)=>{a.d(t,{sJ:()=>K,C9:()=>v,Fk:()=>P,t4:()=>W,K5:()=>H,Hl:()=>G,xI:()=>_,bX:()=>L});var n=a(4519),r=a(4196),i=a(27102),o=a(18301),l=a(49285),s=a(78374),d=a(6775),c=a(51201),u=a(41753),p=a(82742),h=a(75788),g=a(77537),v=e=>{var{dropdownClassName:t,editor:a,blockType:v,rootType:m,disabled:f=!1}=e,y=(0,n.useMemo)((()=>(0,p.r)()),[]),b=()=>{a.update((()=>{var e=(0,s.dL)();(0,s.OP)(e)&&(0,l.Hz)(e,(()=>(0,s.BE)()))}))},T=e=>{v!==e&&a.update((()=>{var t=(0,s.dL)();(0,l.Hz)(t,(()=>(0,o.V1)(e)))}))},C={paragraph:b,h1:()=>T("h1"),h2:()=>T("h2"),h3:()=>T("h3"),h4:()=>T("h4"),bullet:()=>{"bullet"!==v?a.dispatchCommand(i.A3,void 0):b()},number:()=>{"number"!==v?a.dispatchCommand(i.B3,void 0):b()},quote:()=>{"quote"!==v&&a.update((()=>{var e=(0,s.dL)();(0,l.Hz)(e,(()=>(0,o.Z1)()))}))},code:()=>{"code"!==v&&a.update((()=>{var e=(0,s.dL)();if(null!==e)if(e.isCollapsed())(0,l.Hz)(e,(()=>(0,r.Ol)()));else{var t=e.getTextContent(),a=(0,r.Ol)();e.insertNodes([a]),e=(0,s.dL)(),(0,s.OP)(e)&&e.insertRawText(t)}}))}};return(0,g.tZ)(u.Lt,{dropdownClassName:t,disabled:f,ButtonComponent:h.hJ,ButtonIcon:y[v].Icon,buttonAriaLabel:(0,d.localized)("Formatting options for text style"),children:Object.keys(y).map((e=>{var{label:t,Icon:a}=y[e];return(0,g.BX)(u.hP,{onClick:C[e],children:[(0,g.tZ)(a,{color:u._M}),(0,g.tZ)(c.Z,{color:u.NV,size:"sm",children:t})]},e)}))})},m=a(65061),f=a(72249),y=a(1244),b=a(8346),T=a(67009),C=a(15064),E=a(91478),S=a(97578),w=a(93094),I=a(56650),k=(0,d.joinByComma)([d.acceptedAttachmentFiles,d.acceptedAttachmentFileMimeTypes]),_=e=>{var{activeEditor:t,isDisabled:a,cidKey:r,tableModalBackgroundClassName:i,dropdownClassName:o,onUploadImage:l,onUploadImageError:p,onUploadAttachment:v,onUploadAttachmentError:_,allowImages:x,setAllowImages:R,allowAttachments:A,setAllowAttachments:Z}=e,[D]=(0,y.g)(),N=(0,n.useRef)(null),O=(0,n.useRef)(null);async function M(e,t,a){return(0,E.j5)(e,t,a)}return(0,n.useEffect)((()=>(0,b.qV)(D.registerCommand(w.rI,(e=>(R(e),!1)),s.jw),D.registerCommand(I.xx,(e=>(Z(e),!1)),s.jw))),[D,R,Z]),(0,g.BX)(g.HY,{children:[(0,g.BX)(u.Lt,{dropdownClassName:o,disabled:a,ButtonComponent:h.hJ,buttonAriaLabel:(0,d.localized)("Formatting options for additional text styles"),ButtonIcon:T.PlusLightIcon,children:[A&&(0,g.BX)(u.hP,{onClick:e=>{e.preventDefault(),O.current.click()},title:(0,d.localized)("Insert attachment"),"aria-label":(0,d.localized)("Insert attachment"),children:[(0,g.tZ)(T.PaperclipLightIcon,{color:u._M}),(0,g.tZ)(c.Z,{size:"sm",color:u.NV,token:(0,d.localizationKey)("Attachment")})]}),(0,g.BX)(u.hP,{onClick:()=>t.dispatchCommand(f.qL,void 0),title:(0,d.localized)("Insert horizontal rule"),"aria-label":(0,d.localized)("Insert horizontal rule"),children:[(0,g.tZ)(T.HorizontalRuleLightIcon,{color:u._M}),(0,g.tZ)(c.Z,{size:"sm",color:u.NV,token:(0,d.localizationKey)("Horizontal Rule")})]}),x&&(0,g.BX)(u.hP,{onClick:e=>{e.preventDefault(),N.current.click()},title:(0,d.localized)("Insert image"),"aria-label":(0,d.localized)("Insert image"),children:[(0,g.tZ)(T.ImageLightIcon,{color:u._M}),(0,g.tZ)(c.Z,{size:"sm",color:u.NV,token:(0,d.localizationKey)("Image")})]}),(0,g.BX)(u.hP,{onClick:()=>(0,C.Z)((0,g.tZ)(u.nf,{activeEditor:t,backgroundClassName:i})),title:(0,d.localized)("Insert table"),"aria-label":(0,d.localized)("Insert table"),children:[(0,g.tZ)(T.TableIconLight,{color:u._M}),(0,g.tZ)(c.Z,{size:"sm",color:u.NV,token:(0,d.localizationKey)("Table")})]})]}),A&&(0,g.tZ)(S.Rh,{ref:O,type:"file",accept:k,onChange:async function(e){var a=await M(e.target.files,d.ATTACHMENT_FILE_MIME_TYPES,d.ATTACHMENT_FILE_EXTENSIONS);for(var{file:n}of(e.target.value="",a))if((0,E.fy)(n)){var r=(0,m.x0)();try{t.dispatchCommand(I.jg,{id:r,file:n});var i=await v(n);t.dispatchCommand(I.Uh,{id:r,file:n,response:i})}catch(o){t.dispatchCommand(I.oQ,{id:r,file:n}),null===_||void 0===_||_(o)}}}}),x&&(0,g.tZ)(S.Rh,{ref:N,type:"file",accept:d.acceptedImageFileMimeTypes,onChange:async function(e){var a=await M(e.target.files,d.IMAGE_FILE_MIME_TYPES);for(var{file:n,result:i}of(e.target.value="",a))if((0,E.DS)(n))try{var o=await l(n),s=i,c=o[r];t.dispatchCommand(w.Mo,{src:s,cid:c,response:o})}catch(u){null===p||void 0===p||p(u)}}})]})},x=a(27573),R=a(61330),A=a(8456),Z=a(29706),D=a(72720),N=a(64157),O=["p","span","b","strong","i","em","u","h1","h2","h3","h4","ul","li","ol","br","blockquote","pre","a","sub","sup","code","s","table","col","tbody","tr","td","img","hr","colgroup","div","th"],M=/<([a-z]+[1-6]?)(?=\s|>)/gi,L=e=>{var{isEditable:t,isEditingSource:a,setIsEditingSource:i}=e,[o]=(0,y.g)(),l=(0,n.useCallback)((async e=>{var t=await(0,N.pp)(),a=(0,N.fR)("html");a.plugins=[await(0,N.EN)("html")];var n=await t(e,a);o.update((()=>{(0,s.Gv)().clear().append((0,r.Ol)("html").append((0,s.MX)(n)))}))}),[o]),p=(0,n.useCallback)((()=>{o.update((()=>{var e=(0,s.Gv)(),t=e.getFirstChild();if((0,r.Pe)(t)&&"html"===t.getLanguage()){for(var a,n=(new DOMParser).parseFromString(e.getTextContent(),"text/html"),u=[];a=M.exec(e.getTextContent());)O.includes(a[1].toLowerCase())||u.push(a[1]);if(u.length)o.dispatchCommand(D.ND,{titleToken:(0,d.localizationKey)("Unsupported HTML elements"),variant:"warning",children:(0,d.localizedWith)("This content contains the following unsupported HTML elements: <%elements>elements<%>",{elements:()=>(0,g.tZ)(c.Z,{as:"span",size:"sm",italic:!0,fontWeight:A.default.typography.fontWeight.semiBold,children:(0,x.jj$)(u).join(", ")})})});else{i(!1),o.dispatchCommand(D.Fd),o.dispatchCommand(Z.RU,!1);var p=(0,R.s)(o,n);e.clear(),(0,s.od)(p)}}else i(!0),o.dispatchCommand(Z.RU,!0),l((0,R.S)(o));e.selectEnd()}))}),[o,i,l]);return(0,g.BX)(h.hJ,{disabled:!t,onClick:p,type:"button",title:(0,d.localized)("Source"),"aria-label":(0,d.localized)("Source"),isActive:a,children:[(0,g.tZ)(T.FileCodeLightIcon,{color:t?u._M:u.$0}),(0,g.tZ)(c.Z,{size:"sm",color:t?u.NV:u.IB,token:(0,d.localizationKey)("Source")})]})};var P=e=>{var{dropdownClassName:t,editor:a,value:n,isRTL:r,disabled:i=!1}=e,o=function(e){switch(e){case"center":return{Icon:T.AlignCenterLightIcon,IconRTL:T.AlignCenterLightIcon,label:(0,d.localizedF)("Center Align")};case"justify":return{Icon:T.AlignJustifyLightIcon,IconRTL:T.AlignJustifyLightIcon,label:(0,d.localizedF)("Justify Align")};case"end":return{Icon:T.AlignRightLightIcon,IconRTL:T.AlignLeftLightIcon,label:(0,d.localizedF)("End Align")};case"start":return{Icon:T.AlignLeftLightIcon,IconRTL:T.AlignRightLightIcon,label:(0,d.localizedF)("Start Align")};case"right":return{Icon:T.AlignRightLightIcon,IconRTL:T.AlignRightLightIcon,label:(0,d.localizedF)("Right Align")};default:return{Icon:T.AlignLeftLightIcon,IconRTL:T.AlignLeftLightIcon,label:(0,d.localizedF)("Left Align")}}}(n);return(0,g.BX)(u.Lt,{dropdownClassName:t,disabled:i,ButtonComponent:h.hJ,ButtonIcon:r?null===o||void 0===o?void 0:o.IconRTL:null===o||void 0===o?void 0:o.Icon,buttonAriaLabel:(0,d.localized)("Formatting options for text alignment"),children:[(0,g.BX)(u.hP,{onClick:()=>{a.dispatchCommand(s.RO,"left")},children:[(0,g.tZ)(T.AlignLeftLightIcon,{color:u._M}),(0,g.tZ)(c.Z,{size:"sm",color:u.NV,token:(0,d.localizationKey)("Left Align")})]}),(0,g.BX)(u.hP,{onClick:()=>{a.dispatchCommand(s.RO,"center")},children:[(0,g.tZ)(T.AlignCenterLightIcon,{color:u._M}),(0,g.tZ)(c.Z,{size:"sm",color:u.NV,token:(0,d.localizationKey)("Center Align")})]}),(0,g.BX)(u.hP,{onClick:()=>{a.dispatchCommand(s.RO,"right")},children:[(0,g.tZ)(T.AlignRightLightIcon,{color:u._M}),(0,g.tZ)(c.Z,{size:"sm",color:u.NV,token:(0,d.localizationKey)("Right Align")})]}),(0,g.BX)(u.hP,{onClick:()=>{a.dispatchCommand(s.RO,"justify")},children:[(0,g.tZ)(T.AlignJustifyLightIcon,{color:u._M}),(0,g.tZ)(c.Z,{size:"sm",color:u.NV,token:(0,d.localizationKey)("Justify Align")})]}),(0,g.BX)(u.hP,{onClick:()=>{a.dispatchCommand(s.cz,void 0)},children:[r?(0,g.tZ)(T.IndentLightIcon,{color:u._M}):(0,g.tZ)(T.OutdentLightIcon,{color:u._M}),(0,g.tZ)(c.Z,{size:"sm",color:u.NV,token:(0,d.localizationKey)("Outdent")})]}),(0,g.BX)(u.hP,{onClick:()=>{a.dispatchCommand(s.PU,void 0)},children:[r?(0,g.tZ)(T.OutdentLightIcon,{color:u._M}):(0,g.tZ)(T.IndentLightIcon,{color:u._M}),(0,g.tZ)(c.Z,{size:"sm",color:u.NV,token:(0,d.localizationKey)("Indent")})]})]})},z=(0,x.is)(Function),B=[["Inter","Inter"],["Arial","Arial"],["Noto Sans JP","Noto Sans JP"]],W=e=>{var{dropdownClassName:t,editor:a,value:r,type:i,disabled:o=!1}=e,v=(0,n.useCallback)((e=>{a.update((()=>{var t=(0,s.dL)();if(t)(0,l.yD)(t,{[i]:e});else{var a=(0,s.Gv)();a.clear();var n=(0,s.BE)();a.append(n),(0,l.yD)(n.select(),{[i]:e})}}))}),[a,i]);return(0,g.tZ)(u.Lt,{dropdownClassName:t,disabled:o,ButtonComponent:h.hJ,ButtonIcon:"font-family"===i?T.TextLightIcon:T.TextSizeLightIcon,buttonLabel:r,buttonAriaLabel:"font-family"===i?(0,d.localized)("Formatting options for font family"):(0,d.localized)("Formatting options for font size"),children:("font-family"===i?B:p.a).map((e=>{var[t,a]=e;return(0,g.tZ)(u.hP,{onClick:()=>v(t),children:(0,g.tZ)(c.Z,{color:u.NV,size:"sm",children:z(a)?a():a})},t)}))})},U=a(55460),F=a(29374),K=(0,s.fA)("ALLOW_IMAGE_SOURCE_COMMAND"),H=(0,s.fA)("INSERT_IMAGE_SOURCE_COMMAND"),G=e=>{var{activeEditor:t,disabled:a,cidKey:r,allowImageSource:i,onUploadImage:o,onUploadImageError:l}=e,[s,c]=(0,U.DJ)(!1),p=(0,n.useRef)(null);var v=(0,n.useCallback)((async e=>{c(!0);try{var a=await(h=e.target.files,g=d.IMAGE_FILE_MIME_TYPES,(0,E.j5)(h,g,v));for(var{file:n,result:i}of(e.target.value="",a))if((0,E.DS)(n))try{var s=await o(n),u=i,p=s[r];t.dispatchCommand(H,{src:u,cid:p})}catch(m){null===l||void 0===l||l(m)}}finally{c(!1)}var h,g,v}),[t,r,o,l,c]);return i&&(0,g.BX)(g.HY,{children:[(0,g.BX)(h.hJ,{disabled:a||s,onClick:e=>{e.preventDefault(),p.current.click()},type:"button",title:(0,d.localized)("Insert image"),"aria-label":(0,d.localized)("Insert image"),children:[(0,g.tZ)(T.ImageLightIcon,{color:a||s?u.$0:u._M}),(0,g.tZ)(F.Z,{type:"bodyXs",color:a||s?u.IB:u.NV,children:(0,d.localized)("Insert image")})]}),(0,g.tZ)(S.Rh,{ref:p,type:"file",accept:d.acceptedImageFileMimeTypes,onChange:v})]})}},75788:(e,t,a)=>{a.d(t,{N_:()=>i,hJ:()=>o,xH:()=>l});var n=a(41554),r=a(8456),i=(0,n.Z)("div",{target:"ej06w5x3"})("display:flex;padding:0 ",r.default.spacing[1],";background:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutralWeakest}),";border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeakest}),";border-top-left-radius:",r.default.borderRadius[1],";border-top-right-radius:",r.default.borderRadius[1],";vertical-align:middle;overflow:auto;top:0;z-index:2;min-height:36px;align-items:center;gap:",r.default.spacing[1],";",(e=>{var{sticky:t}=e;return t&&"position: sticky;"}),";"),o=(0,n.Z)("button",{target:"ej06w5x2"})("border:0;display:flex;background:none;border-radius:",r.default.spacing[1],";padding:",r.default.spacing[2],";vertical-align:middle;align-items:center;flex-shrink:0;justify-content:space-between;gap:",r.default.spacing[2],";height:",r.default.spacing[7],";border:1px solid transparent;&:hover:not(:disabled){cursor:pointer;background-color:",(e=>{var{theme:t}=e;return t.colorForegroundHoverStrong}),";}&:disabled{color:",(e=>{var{theme:t}=e;return t.colorTextDisabled}),";cursor:not-allowed;}",(e=>{var{theme:t,isActive:a}=e;return a&&"\n    border: 1px solid ".concat(t.colorBorderDecorativeStrong,";\n    background-color: ").concat(t.colorForegroundSelected,";\n  ")}),";"),l=(0,n.Z)("div",{target:"ej06w5x1"})("width:1px;height:28px;background-color:",(e=>{var{theme:t}=e;return t.colorBorderWeakest}),";")},82742:(e,t,a)=>{a.d(t,{a:()=>o,r:()=>i});var n=a(6775),r=a(67009);function i(){return{paragraph:{label:(0,n.localized)("Paragraph"),Icon:r.FontCaseLightIcon},h1:{label:(0,n.localized)("Header 1"),Icon:r.H1LightIcon},h2:{label:(0,n.localized)("Header 2"),Icon:r.H2LightIcon},h3:{label:(0,n.localized)("Header 3"),Icon:r.H3LightIcon},h4:{label:(0,n.localized)("Header 4"),Icon:r.H4LightIcon},bullet:{label:(0,n.localized)("Bulleted List"),Icon:r.ListUlLightIcon},number:{label:(0,n.localized)("Numbered List"),Icon:r.ListOlLightIcon},quote:{label:(0,n.localized)("Quote"),Icon:r.MessageQuoteLightIcon},code:{label:(0,n.localized)("Code Block"),Icon:r.CodeLightIcon}}}var o=[["12px",(0,n.localizedF)("12px")],["14px",(0,n.localizedF)("14px")],["16px",(0,n.localizedF)("16px")],["18px",(0,n.localizedF)("18px")],["20px",(0,n.localizedF)("20px")],["22px",(0,n.localizedF)("22px")]]},94940:(e,t,a)=>{var n=a(41554),r=a(8456);r.default.spacing[2],r.default.typography.fontSize.bodyXs,r.default.typography.fontSize.bodyXs,r.default.spacing[2],r.default.borderRadius[1],r.default.typography.fontSize.bodyXs,r.default.spacing[2],r.default.spacing[2],r.default.typography.fontSize.bodyXs,r.default.spacing[2],r.default.spacing[4],r.default.typography.fontSize.bodyXs},97578:(e,t,a)=>{a.d(t,{Em:()=>i,Jd:()=>s,Pp:()=>l,Rh:()=>c,nK:()=>d,yt:()=>o});var n=a(41554),r=a(8456);var i=(0,n.Z)("div",{target:"e1zi4s75"})({name:"10vjskb",styles:"min-height:150px;border:0;display:flex;position:relative;outline:0;z-index:0;overflow:auto;resize:vertical"}),o=(0,n.Z)("div",{target:"e1zi4s74"})({name:"1638p0g",styles:"flex:auto;position:relative;resize:vertical;z-index:-1"}),l=(0,n.Z)("div",{target:"e1zi4s73"})("position:relative;line-height:",r.default.typography.lineHeight.body,";font-weight:",r.default.typography.fontWeight.regular,";border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeakest}),";border-top:none;border-bottom-left-radius:",r.default.borderRadius[1],";border-bottom-right-radius:",r.default.borderRadius[1],";"),s=(0,n.Z)("div",{target:"e1zi4s72"})("font-size:",r.default.typography.fontSize.body,";color:",(e=>{var{theme:t}=e;return t.colorTextStrong}),";background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundWidget}),';position:relative;display:block;.editor-block-cursor{display:block;pointer-events:none;position:absolute;}.editor-block-cursor:after{content:"";display:block;position:absolute;top:-2px;width:20px;border-top:1px solid ',(e=>{var{theme:t}=e;return t.colorTextStrong}),";animation:CursorBlink 1.1s steps(2, start) infinite;}@keyframes CursorBlink{to{visibility:hidden;}}ul,ol{list-style-type:revert;}em{display:inline;}a{color:",(e=>{var{theme:t}=e;return t.colorTextAction}),";&:hover{color:",(e=>{var{theme:t}=e;return t.colorTextActionStrong}),";}}h1{font-size:",r.default.typography.fontSize.headingL,";font-weight:",r.default.typography.fontWeight.medium,";}h2{font-size:",r.default.typography.fontSize.headingM,";font-weight:",r.default.typography.fontWeight.medium,";}h3{font-size:",r.default.typography.fontSize.headingS,";font-weight:",r.default.typography.fontWeight.medium,";}h4{font-size:",r.default.typography.fontSize.headingXs,";font-weight:",r.default.typography.fontWeight.medium,";}.editor-ol1{padding:0;margin:0;list-style-position:outside;}.editor-ol2{padding:0;margin:0;list-style-type:upper-alpha;list-style-position:outside;}.editor-ol3{padding:0;margin:0;list-style-type:lower-alpha;list-style-position:outside;}.editor-ol4{padding:0;margin:0;list-style-type:upper-roman;list-style-position:outside;}.editor-ol5{padding:0;margin:0;list-style-type:lower-roman;list-style-position:outside;}.editor-ul{padding:0;margin:0;list-style-position:outside;}.editor-list-item{margin:0 ",r.default.spacing[8],";}.editor-nested-list-item{list-style-type:none;}.editor-nested-list-item:before,.editor-nested-list-item:after{display:none;}span.editor-image{cursor:default;display:inline-block;position:relative;user-select:none;z-index:1;}.editor-image img{max-width:100%;cursor:default;}.editor-image img.focused{outline:2px solid ",(e=>{var{theme:t}=e;return t.colorForegroundFocus}),";user-select:none;}.editor-image img.focused.draggable{cursor:grab;}.editor-image img.focused.draggable:active{cursor:grabbing;}.editor-image .image-resizer{display:block;width:7px;height:7px;position:absolute;background-color:rgb(60, 132, 244);border:1px solid #fff;}.editor-image .image-resizer.image-resizer-n{top:-6px;left:48%;cursor:n-resize;}.editor-image .image-resizer.image-resizer-ne{top:-6px;right:-6px;cursor:ne-resize;}.editor-image .image-resizer.image-resizer-e{bottom:48%;right:-6px;cursor:e-resize;}.editor-image .image-resizer.image-resizer-se{bottom:-6px;right:-6px;cursor:nwse-resize;}.editor-image .image-resizer.image-resizer-s{bottom:-6px;left:48%;cursor:s-resize;}.editor-image .image-resizer.image-resizer-sw{bottom:-6px;left:-6px;cursor:sw-resize;}.editor-image .image-resizer.image-resizer-w{bottom:48%;left:-6px;cursor:w-resize;}.editor-image .image-resizer.image-resizer-nw{top:-6px;left:-6px;cursor:nw-resize;}.editor-rtl{text-align:right;}.editor-ltr{text-align:left;}.editor-paragraph{margin:0;position:relative;}.editor-text-code{padding:1px 2px;border-radius:",r.default.borderRadius[1],";font-size:",r.default.typography.fontSize.bodyXs,";background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutralWeak}),";border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderStrong}),";color:",(e=>{var{theme:t}=e;return t.colorTextDanger}),";}.editor-text-bold{font-weight:bold;}.editor-text-italic{font-style:italic;}.editor-text-strikethrough{text-decoration:line-through;}.editor-text-subscript{vertical-align:sub;font-size:smaller;}.editor-text-superscript{vertical-align:super;font-size:smaller;}.editor-text-underline{text-decoration:underline;}.editor-text-underline-strikethrough{text-decoration:underline line-through;}.editor-code{display:block;color:unset;background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutralWeak}),";font-family:",r.default.typography.fontFamily.code,";padding:",r.default.spacing[2]," ",r.default.spacing[2]," ",r.default.spacing[2]," ",r.default.spacing[9],";line-height:",r.default.typography.lineHeight.bodyXs,";font-size:",r.default.typography.fontSize.bodyXs,";margin:0;margin-top:",r.default.spacing[2],";margin-bottom:",r.default.spacing[2],";overflow-x:auto;position:relative;white-space:unset;tab-size:2;}.editor-code:before{content:attr(data-gutter);background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutral}),";position:absolute;left:0;top:0;border-right:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderStrong}),";padding:",r.default.spacing[2],";color:",(e=>{var{theme:t}=e;return t.colorTextStrong}),";white-space:pre-wrap;text-align:right;min-width:",r.default.spacing[6],";}.editor-quote{margin:0;margin-left:",r.default.spacing[5],";margin-bottom:",r.default.spacing[2],";font-size:",r.default.typography.fontSize.body,";color:",(e=>{var{theme:t}=e;return t.colorTextWeakest}),";border-left-color:",(e=>{var{theme:t}=e;return t.colorBorderWeakest}),";border-left-width:4px;border-left-style:solid;padding-left:",r.default.spacing[4],";}.editor-token-comment{color:slategray;}.editor-token-punctuation{color:#999;}.editor-token-property{color:#905;}.editor-token-selector{color:#690;}.editor-token-operator{color:#9a6e3a;}.editor-token-attr{color:#07a;}.editor-token-variable{color:#e90;}.editor-token-function{color:#dd4a68;}.editor-table{border-collapse:collapse;border-spacing:0;overflow-y:scroll;overflow-x:scroll;table-layout:fixed;width:max-content;margin:",r.default.spacing[7]," 0;}.editor-table-selection *::selection{background-color:transparent;}.editor-table-cell{border:1px solid ",(e=>{var{theme:t}=e;return t.colorBorderWeak}),";width:75px;min-width:75px;vertical-align:top;text-align:start;padding:",r.default.spacing[1]," ",r.default.spacing[2],";position:relative;outline:none;}.editor-table-cell-header{background-color:",(e=>{var{theme:t}=e;return t.colorBackgroundAccentNeutralWeak}),";text-align:start;}"),d=(0,n.Z)("hr",{target:"e1zi4s71"})("margin:",r.default.spacing[1]," 0;background-color:",(e=>{var{theme:t}=e;return t.colorBorderWeakest}),";"),c=(0,n.Z)("input",{target:"e1zi4s70"})({name:"qfpps2",styles:"&&&{display:none;}"})},36292:(e,t,a)=>{a.d(t,{r:()=>n});var n={blockCursor:"editor-block-cursor",ltr:"editor-ltr",rtl:"editor-rtl",code:"editor-code",paragraph:"editor-paragraph",quote:"editor-quote",text:{code:"editor-text-code",bold:"editor-text-bold",italic:"editor-text-italic",strikethrough:"editor-text-strikethrough",subscript:"editor-text-subscript",superscript:"editor-text-superscript",underline:"editor-text-underline",underlineStrikethrough:"editor-text-underline-strikethrough"},codeHighlight:{atrule:"editor-token-attr",attr:"editor-token-attr",boolean:"editor-token-property",builtin:"editor-token-selector",cdata:"editor-token-comment",char:"editor-token-selector",class:"editor-token-function","class-name":"editor-token-function",comment:"editor-token-comment",constant:"editor-token-property",deleted:"editor-token-property",doctype:"editor-token-comment",entity:"editor-token-operator",function:"editor-token-function",important:"editor-token-variable",inserted:"editor-token-selector",keyword:"editor-token-attr",namespace:"editor-token-variable",number:"editor-token-property",operator:"editor-token-operator",prolog:"editor-token-comment",property:"editor-token-property",punctuation:"editor-token-punctuation",regex:"editor-token-variable",selector:"editor-token-selector",string:"editor-token-selector",symbol:"editor-token-property",tag:"editor-token-property",url:"editor-token-operator",variable:"editor-token-variable"},image:"editor-image",table:"editor-table",tableCell:"editor-table-cell",tableCellHeader:"editor-table-cell-header",tableSelection:"editor-table-selection",list:{listitem:"editor-list-item",nested:{listitem:"editor-nested-list-item"},olDepth:["editor-ol1","editor-ol2","editor-ol3","editor-ol4","editor-ol5"],ul:"editor-ul"}}},23837:(e,t,a)=>{a.d(t,{b:()=>i,x:()=>o});var n=8,r=5;function i(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:r,s=a.parentElement;if(null===e||!s)return t.style.opacity="0",void(t.style.transform="translate(-10000px, -10000px)");var d=t.getBoundingClientRect(),c=a.getBoundingClientRect(),u=s.getBoundingClientRect(),p=e.top-d.height-o,h=e.left-l;p<u.top&&(p+=d.height+e.height+o*(i?9:2)),h+d.width>u.right&&(h=u.right-d.width-l),p-=c.top,h-=c.left,t.style.opacity="1",t.style.transform="translate(".concat(h,"px, ").concat(p,"px)")}function o(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r,l=a.parentElement;if(null===e||!l)return t.style.opacity="0",void(t.style.transform="translate(-10000px, -10000px)");var s=t.getBoundingClientRect(),d=a.getBoundingClientRect(),c=l.getBoundingClientRect(),u=e.top-i,p=e.left-o;u<c.top&&(u+=s.height+e.height+2*i),p+s.width>c.right&&(p=c.right-s.width-o),u-=d.top,p-=d.left,t.style.opacity="1",t.style.transform="translate(".concat(p,"px, ").concat(u,"px)")}},62358:(e,t,a)=>{a.d(t,{T:()=>n,j:()=>r});var n="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,r=n&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)},33947:(e,t,a)=>{a.d(t,{DS:()=>s,MU:()=>p,Qt:()=>d,fy:()=>l,j5:()=>c,o:()=>h,rh:()=>u});var n=a(8346),r=a(6775);function i(e,t){return t.includes(".".concat(e.name.split(".").pop()))}function o(e,t,a){var o=e.size<1,l=e.size>r.twentyMiB;return o?(0,r.showErrorMessage)((0,r.localized)("Minimum file size is 1 byte")):l&&(0,r.showErrorMessage)((0,r.localized)("Maximum file size is {{size}} MiB",{size:20})),((0,n.tV)(e,t)||i(e,a))&&!o&&!l}function l(e){return o(e,r.ATTACHMENT_FILE_MIME_TYPES,r.ATTACHMENT_FILE_EXTENSIONS)}function s(e){return o(e,r.IMAGE_FILE_MIME_TYPES)}function d(e){var t=e.match(/^data:image\/(jpeg|jpg|png|gif);/);return t&&t[1]?t[1]:null}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e[Symbol.iterator]();return new Promise(((e,o)=>{var l=[],s=()=>{var{done:d,value:c}=r.next();if(d)return e(l);var u=new FileReader;u.addEventListener("error",o),u.addEventListener("load",(()=>{var e=u.result;"string"===typeof e&&l.push({file:c,result:e}),s()})),(0,n.tV)(c,t)||i(c,a)?u.readAsDataURL(c):s()};s()}))}function u(e){if(!e)return[];var t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,a=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),n=e.match(a),r=[];if(n)for(var i of n){var o=void 0;i.includes("\\pngblip")?o="image/png":i.includes("\\jpegblip")&&(o="image/jpeg"),o&&r.push({hex:i.replace(t,"").replace(/[^\da-fA-F]/g,""),type:o})}return r}function p(e){return btoa(e.match(/\w{2}/g).map((e=>String.fromCharCode(parseInt(e,16)))).join(""))}async function h(e,t,a){var n=await fetch(e),r=await n.blob();return await new File([r],t,{type:a})}},85423:(e,t,a)=>{function n(e,t){if(!e)throw new Error("Internal Lexical error: invariant() is meant to be replaced at compile time. There is no runtime version. Error: "+t)}a.d(t,{k:()=>n})},97339:(e,t,a)=>{a.d(t,{H:()=>r,R:()=>i});var n=a(93671),r=(0,n.v)(/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)(?<![-.+():%])/,(e=>e.startsWith("http")?e:"https://".concat(e))),i=(0,n.v)(/(?<!\S)[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}(?!\S)/,(e=>"mailto:".concat(e)))},69083:(e,t,a)=>{a.d(t,{U:()=>i,d:()=>l});var n=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,r=/xmlns:o="urn:schemas-microsoft-com/i;function i(e){return n.test(e)||r.test(e)}function o(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((e,t)=>1===t.length?" ":Array(t.length+1).join("\xa0 ").substr(0,t.length)))}function l(e){var t=new DOMParser,a=function(e){return o(o(e)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(e){var t="</body>",a=e.indexOf(t);if(a<0)return e;var n=e.indexOf("</html>",a+7);return e.substring(0,a+7)+(n>=0?e.substring(n):"")}(e=(e=e.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),n=t.parseFromString(a,"text/html");return n.querySelectorAll("span[style*=spacerun]").forEach((e=>{var t=e,a=t.innerText.length||0;t.innerText=Array(a+1).join("\xa0 ").substr(0,a)})),n}},4342:(e,t,a)=>{a.d(t,{D:()=>i,P:()=>r});var n=a(49285);function r(e){var t=e.anchor,a=e.focus,r=e.anchor.getNode(),i=e.focus.getNode();return r===i?r:e.isBackward()?(0,n.P4)(a)?r:i:(0,n.P4)(t)?r:i}function i(e,t){var a,n=e.getRangeAt(0);if(e.anchorNode===t){for(var r=t;null!=r.firstElementChild;)r=r.firstElementChild;a=r.getBoundingClientRect()}else a=n.getBoundingClientRect();return a}},13996:(e,t,a)=>{function n(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent.trim().length>0}a.d(t,{I:()=>n})},64157:(e,t,a)=>{a.d(t,{EN:()=>i,fR:()=>l,pp:()=>o});var n={html:()=>a.e(7267).then(a.t.bind(a,97267,23)),xml:()=>a.e(8347).then(a.bind(a,89506))},r={html:{parser:"html",printWidth:120},xml:{parser:"xml",xmlWhitespaceSensitivity:"ignore",tabWidth:2}};async function i(e){return(0,n[e])()}async function o(){var{format:e}=await a.e(4381).then(a.bind(a,91628));return e}function l(e){var t=r[e];if(!t)throw new Error("ToolbarPlugin: Language ".concat(e," is not supported."));return t}},47054:(e,t,a)=>{a.d(t,{N:()=>r});var n=new Set(["http:","https:","mailto:","sms:","tel:"]);function r(e){try{var t=new URL(e);if(!n.has(t.protocol))return"about:blank"}catch{}return e.startsWith("http")?e:"https://".concat(e)}}}]);
//# sourceMappingURL=2678.725b3299.js.map