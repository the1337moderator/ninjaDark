"use strict";(self.webpackChunk_ninjaone_webapp=self.webpackChunk_ninjaone_webapp||[]).push([[1917],{12836:(e,t,a)=>{a(4519);var r=a(95970),n=a(81557);n.RL,r.rS},81582:(e,t,a)=>{a.d(t,{On:()=>d,r7:()=>o,x2:()=>l});var r=a(36360),n=a(6775),l=["SKIP","OVERWRITE","OVERWRITE_OLDER"],i={SKIP:(0,n.localizationKey)("Skip"),OVERWRITE:(0,n.localizationKey)("Overwrite"),OVERWRITE_OLDER:(0,n.localizationKey)("Overwrite current if older")},o=e=>{var{created:t,size:a}=e;return"".concat((0,n.date)(t)," ").concat((0,n.time)(t)," ").concat((0,r.qL)(a))},d=e=>{var t;return{labelText:(0,n.localized)(null!==(t=i[e])&&void 0!==t?t:e),value:e}}},69192:(e,t,a)=>{a.d(t,{pX:()=>l.p,Sf:()=>n});var r=a(6775),n=()=>(0,r.getPrefixedUrl)("/ticketing/graphql"),l=a(79325)},51628:(e,t,a)=>{a.d(t,{j:()=>u});var r=a(4519),n=a(58064),l=a(15620),i=a(19794),o=a(30260),d=a(46140),c=a(16360),s=a(55462);function u(){var{editor:e,addInlineImage:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,r.useMemo)((()=>null!==e&&void 0!==e?e:(0,n.qCK)(d.zb,d.Up,d.v2,(0,d.u$)({addInlineImage:t}),d.vR,d.TV,d.r,i.VC,o.BU)((0,l.Jh)())),[e,t]),u=(0,r.useCallback)((()=>{(0,s.nr)(a),l.YR.delete(a,{at:{anchor:l.ML.start(a,[]),focus:l.ML.end(a,[])}}),l.YR.unwrapNodes(a,{mode:"all"})}),[a]),h=(0,r.useCallback)((e=>{a.insertText(e)}),[a]),m=(0,r.useCallback)((e=>{var{uri:t,url:r,width:n,height:i,attachment:o}=e,d={type:"image",uri:t,url:r,width:n,height:i,attachment:o,children:[{text:""}]};l.YR.insertNodes(a,d,{mode:"highest"})}),[a]),f=(0,r.useCallback)(((e,t)=>{var r;u();var n=(new DOMParser).parseFromString(e,"text/html"),i=(0,c.vB)({element:null!==(r=null===n||void 0===n?void 0:n.body)&&void 0!==r?r:document.implementation.createHTMLDocument("").body,attachments:t});l.YR.removeNodes(a,{at:[0]}),l.YR.insertNodes(a,i,{at:[a.children.length]})}),[a,u]);return[a,{editorReset:u,editorInsertText:h,editorInsertImage:m,editorInsertHtml:f}]}},52656:(e,t,a)=>{a.d(t,{Z:()=>B});var r=a(147),n=a(49036),l=a(4519),i=a(15620),o=a(30260),d=a(6775),c=a(8326),s=a(37495),u=a(48581),h=a(95894),m=a(54508),f=a(55462),v=a(38494),p=a(31605),g=a(75493),Z=a(77537),b=(e,t)=>{var a=i.ML.marks(e);return!0===(null===a||void 0===a?void 0:a[t])},w=e=>{var{format:t,icon:a}=e,r=(0,o.ui)();return(0,Z.tZ)(u.zx,{active:b(r,t),onMouseDown:e=>{e.preventDefault(),((e,t)=>{b(e,t)?i.ML.removeMark(e,t):i.ML.addMark(e,t,!0)})(r,t)},children:(0,Z.tZ)(s.G,{icon:a})})},y=e=>{var{format:t,icon:a,disabled:r}=e,n=(0,o.ui)();return(0,Z.tZ)(u.zx,{disabled:r,active:(0,f.ku)(n,t,f.xp.includes(t)?"align":"type"),onMouseDown:e=>{e.preventDefault(),(0,f.th)(n,t)},children:(0,Z.tZ)(s.G,{icon:a})})},k=e=>{var{search:t,setSearch:a,disabled:r}=e,[n,i]=(0,l.useState)(!1);return n?(0,Z.tZ)(p.Z,{display:"flex",handleClickOutside:()=>{t||i(!1)},children:(0,Z.tZ)(v.Fy,{autoFocus:!0,value:t,onChange:e=>a(e.target.value)})}):(0,Z.tZ)(u.zx,{disabled:r,onClick:e=>{e.preventDefault(),i(!0)},children:(0,Z.tZ)(s.G,{icon:c.wn1})})};const R=e=>{var{addInlineImage:t,addAttachment:a,setSearch:r,search:n,allowInlineImages:d,allowAttachments:s}=e,f=(e=>{var[t,a]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{if(e.selection){var[t]=i.ML.nodes(e,{match:e=>!i.ML.isEditor(e)&&i.W_.isElement(e)&&"table"===e.type});a(!!t)}}),[e,e.selection]),t})((0,o.ui)());return(0,Z.BX)(u.o8,{children:[(0,Z.BX)(g.kC,{flex:1,flexWrap:"wrap",children:[(0,Z.tZ)(w,{format:"bold",icon:c.c_t}),(0,Z.tZ)(w,{format:"italic",icon:c.cJz}),(0,Z.tZ)(w,{format:"underline",icon:c.jmw}),(0,Z.tZ)(w,{format:"strikethrough",icon:c.b$N}),(0,Z.tZ)(w,{format:"code",icon:c.dT$}),(0,Z.tZ)(y,{format:"block-code",icon:c.$fD,disabled:f}),(0,Z.tZ)(y,{format:"heading-one",icon:c.kVJ,disabled:f}),(0,Z.tZ)(y,{format:"heading-two",icon:c.ejo,disabled:f}),(0,Z.tZ)(y,{format:"block-quote",icon:c.Elr,disabled:f}),(0,Z.tZ)(y,{format:"numbered-list",icon:c.nFo,disabled:f}),(0,Z.tZ)(y,{format:"bulleted-list",icon:c.gf$,disabled:f}),(0,Z.tZ)(y,{format:"left",icon:c.elf}),(0,Z.tZ)(y,{format:"center",icon:c.MB3}),(0,Z.tZ)(y,{format:"right",icon:c.S3c}),(0,Z.tZ)(y,{format:"justify",icon:c.z1q,disabled:f}),d&&(0,Z.tZ)(h.$f,{disabled:f,addInlineImage:t}),s&&(0,Z.tZ)(h.XI,{disabled:f,addAttachment:a}),(0,Z.tZ)(m.iS,{disabled:f})]}),(0,Z.tZ)(g.kC,{children:(0,Z.tZ)(k,{setSearch:r,search:n,disabled:f})})]})};var I=a(50077);var x=(e,t)=>{var[a]=i.ML.nodes(e,{match:e=>!0===e[t],mode:"all"});return!!a},E=e=>{var{format:t,icon:a}=e,r=(0,o.ui)();return(0,Z.tZ)(u.zx,{active:x(r,t),onClick:()=>((e,t)=>{var a=x(e,t);i.YR.setNodes(e,{[t]:!a||null},{match:i.xv.isText,split:!0})})(r,t),children:(0,Z.tZ)(s.G,{icon:a})})};const D=e=>{var{allowLinks:t}=e,a=(0,l.useRef)(null),n=(0,o.ui)(),d=(0,o.UE)();return(0,l.useEffect)((()=>{var e=a.current,{selection:t}=n;if(e)if(t&&d&&!i.e6.isCollapsed(t)&&""!==i.ML.string(n,t)){var r=window.getSelection().getRangeAt(0).getBoundingClientRect();e.style.opacity="1",e.style.top="".concat(r.top+window.pageYOffset-e.offsetHeight,"px"),e.style.left="".concat(r.left+window.pageXOffset-e.offsetWidth/2+r.width/2,"px")}else e.removeAttribute("style")})),(0,Z.tZ)(u.h_,{children:(0,Z.BX)(u.v2,{ref:a,className:(0,r.iv)({name:"1t1jd2b",styles:"opacity:0;position:absolute;z-index:2100;top:-10000px;left:-10000px;margin-top:-6px;transition:opacity 0.75s"}),onMouseDown:e=>{e.preventDefault()},children:[(0,Z.tZ)(E,{format:"bold",icon:c.c_t}),(0,Z.tZ)(E,{format:"italic",icon:c.cJz}),(0,Z.tZ)(E,{format:"underline",icon:c.jmw}),(0,Z.tZ)(E,{format:"strikethrough",icon:c.b$N}),(0,Z.tZ)(E,{format:"code",icon:c.dT$}),t&&(0,Z.tZ)(I.Sw,{}),t&&(0,Z.tZ)(I.R_,{})]})})};var C=a(51628),M=a(16360);var L={"mod+b":"bold","mod+i":"italic","mod+u":"underline","mod+s":"strikethrough","mod+h`":"code"},P=(e,t)=>{S(e,t)?i.ML.removeMark(e,t):i.ML.addMark(e,t,!0)},T=(e,t)=>i.ML.nodes(e,{match:e=>{var a=!i.ML.isEditor(e)&&i.W_.isElement(e);return t.some((t=>a&&e.type===t))}}),S=(e,t)=>{var a=i.ML.marks(e);return!!a&&!0===a[t]},A=e=>{var{attributes:t,children:a,element:r,customElementRenderers:n={}}=e;if(r.type in n)return n[r.type](e);var l="rtl"===(0,d.getLanguageDir)(),i={textAlign:r.align||(l?"right":"left")};switch(r.type){case"bulleted-list":return(0,Z.tZ)("ul",{style:i,...t,children:a});case"numbered-list":return(0,Z.tZ)("ol",{style:i,...t,children:a});case"list-item":return(0,Z.tZ)("li",{style:i,...t,children:a});case"block-quote":return(0,Z.tZ)("blockquote",{style:i,...t,children:a});case"block-code":return(0,Z.tZ)(u.EK,{style:i,...t,children:a});case"heading-one":return(0,Z.tZ)("h1",{style:i,...t,children:a});case"heading-two":return(0,Z.tZ)("h2",{style:i,...t,children:a});case"image":return(0,Z.tZ)(h.Ee,{...e});case"table":return(0,Z.tZ)(m.ac,{...e});case"table-body":return(0,Z.tZ)("tbody",{...t,children:a});case"table-row":return(0,Z.tZ)("tr",{...t,children:a});case"table-cell":return(0,Z.tZ)("td",{style:i,...t,children:a});case"link":return(0,Z.tZ)(I.N0,{...e});case"button":return(0,Z.tZ)(I.ah,{...e});default:return(0,Z.tZ)("p",{style:i,...t,children:a})}},O=e=>{var{attributes:t,children:a,leaf:n}=e;return n.bold&&(a=(0,Z.tZ)("strong",{children:a})),n.code&&(a=(0,Z.tZ)("code",{className:(0,r.iv)({name:"1hizjpa",styles:"white-space:normal"}),children:a})),n.italic&&(a=(0,Z.tZ)(v.Kf,{children:a})),n.underline&&(a=(0,Z.tZ)("u",{children:a})),n.strikethrough&&(a=(0,Z.tZ)("del",{children:a})),(0,Z.tZ)("span",{...t,...n.highlight&&{"data-cy":"search-highlighted"},className:(0,r.iv)(""===n.text?"padding-left: 0.1px;":""," background-color:",n.highlight?"#ffeeba !important":"inherit",";",""),children:a})},z=e=>{e.preventDefault()};const B=e=>{var{editor:t,initialValue:a,readOnly:r,attachments:c,techniciansTagged:s,onKeyDown:h,onChange:m,onBlur:v,onDragStart:p=z,addInlineImage:g,addAttachment:b,customPortalRenderer:w,customElementRenderers:y,customSerializeToHtml:k,placeholder:I=(0,d.localized)("general.enterSomeRichText"),allowLinks:x=!0,allowInlineImages:E=!0,allowAttachments:S=!0,hasError:B=!1}=e,[K,N]=(0,l.useState)(),Y=(0,l.useMemo)((()=>(0,d.getLanguageDir)()),[]),W=(0,l.useCallback)((e=>(0,Z.tZ)(A,{...e,readOnly:r,attachments:c,techniciansTagged:s,customElementRenderers:y})),[r,c,s,y]),$=(0,l.useCallback)((e=>(0,Z.tZ)(O,{...e})),[]),[_]=(0,C.j)({editor:t,addInlineImage:g}),H=(0,l.useCallback)((e=>{var[t,a]=e,r=[];if(K&&i.xv.isText(t)){var{text:n}=t,l=n.toLowerCase().split(K.toLowerCase()),o=0;l.forEach(((e,t)=>{0!==t&&r.push({anchor:{path:a,offset:o-K.length},focus:{path:a,offset:o},highlight:!0}),o=o+e.length+K.length}))}return r}),[K]);return(0,Z.tZ)(o.mH,{editor:_,value:null!==a&&void 0!==a?a:[(0,f.a2)()],onChange:e=>{r||m({editor:_,value:e,text:(0,M.p1)(e),html:(0,M.Ff)(_,k)})},children:(0,Z.BX)(u.$0,{width:"100%",borderRadius:"3px",flexDirection:"column",readOnly:r,hasError:B,children:[!r&&(0,Z.tZ)(R,{width:"100%",addInlineImage:g,addAttachment:b,setSearch:N,search:K,allowInlineImages:E,allowAttachments:S}),(0,Z.BX)(u.Nf,{padding:r?0:"20px 8px",children:[!r&&(0,Z.tZ)(D,{allowLinks:x}),(0,Z.tZ)(o.CX,{spellCheck:!0,readOnly:r,decorate:r?void 0:H,renderElement:W,renderLeaf:$,placeholder:r?"":I,onBlur:v,dir:Y,onKeyDown:e=>{if(!r){for(var t in null===h||void 0===h||h(e),L){if((0,n.ZP)(t,e))e.preventDefault(),P(_,L[t])}if("Tab"===e.key){e.preventDefault();var[a]=T(_,f.Cs);if(a){var[l]=a;return e.shiftKey?i.YR.unwrapNodes(_,{match:e=>f.Cs.includes(e.type),split:!0}):i.YR.wrapNodes(_,l)}return _.insertText("   ")}if(("Backspace"===e.key||"Delete"===e.key)&&null!==_&&void 0!==_&&_.selection){var{selection:o}=_,[d]=T(_,["block-quote","block-code"]);if(d&&0===o.focus.offset&&0===o.anchor.offset){var c,[s]=d;s&&1===(null===(c=s.children)||void 0===c?void 0:c.length)&&(e.preventDefault(),(0,f.th)(_,null===s||void 0===s?void 0:s.type))}}if(["ArrowUp","ArrowDown"].includes(e.key)&&e.stopPropagation(),"Enter"===e.key){if(e.shiftKey){if(e.preventDefault(),null!==_&&void 0!==_&&_.selection){var[u]=T(_,["list-item"]);if(u)return i.YR.insertNodes(_,"")}return _.insertText("\n")}if(null!==_&&void 0!==_&&_.selection){var{selection:m}=_,[v]=T(_,["image","block-quote","block-code","list-item"]);if(v){var p,g,[Z]=v;if("image"===Z.type)return e.preventDefault(),(0,f.nr)(_);if(0===m.focus.offset&&0===m.anchor.offset)Z&&1===(null===(p=Z.children)||void 0===p?void 0:p.length)&&""===(null===(g=Z.children[0])||void 0===g?void 0:g.text)&&(e.preventDefault(),(0,f.th)(_,null===Z||void 0===Z?void 0:Z.type))}}}}},onDragStart:p}),w]})]})})}},50620:(e,t,a)=>{a.d(t,{k:()=>x});var r=a(4519),n=a(78374),l=a(4196),i=a(41470),o=a(34561),d=a(27102),c=a(66974),s=a(94249),u=a(72249),h=a(14709),m=a(18301),f=a(39434),v=a(95970),p=a(41554),g=a(32291),Z=a(77537),b=(0,p.Z)(g.f,{shouldForwardProp:e=>"isPublicResponse"!==e,target:"e1u3xemz0"})("order:0;display:block;position:relative;outline:0;background-color:",(e=>{var{isPublicResponse:t,theme:a}=e;return!1===t?a.colorAlertWarningWeakest:a.colorBackground}),";"),w=e=>(0,Z.tZ)(b,{...e}),y=a(90959),k=a(37123),R=a(69681),I=[m.c2,m.rT,i.DT,o.GR,l.wg,l.o0,u.HY,d.NK,d.EG,f.Cr,f.Fh,f.g0,o.qp,k.a8,v.OD,{replace:v.AV,with:e=>new k.a8(e.getId(),e.getLabel(),e.getMetadata())},k.it,k.JS,{replace:n.CK,with:e=>new k.JS}],x=e=>{var{isPublicResponse:t,attachmentProps:a={},htmlParserPluginProps:n={},mentionPluginProps:l={},autoLinkProps:i={}}=e,{attachments:o}=a,{matchers:d}=i,{initialData:u}=l,{initialHTML:m,updateOnChange:f}=n,p=(0,r.useMemo)((()=>({onError:e=>{throw e},theme:v.rS,nodes:I,html:{import:{...o&&{img:(0,y.rH)({attachments:o})},...u&&{span:(0,y.Tc)({initialMentionData:u})}}}})),[o,u]);return(0,Z.tZ)(c.R,{initialConfig:{...p,editable:!1},children:(0,Z.tZ)(R.P3,{children:(0,Z.BX)(v.Jd,{children:[(0,Z.tZ)(h.B,{contentEditable:(0,Z.tZ)(w,{placeholder:v.Vm,isPublicResponse:t}),ErrorBoundary:s.g}),(0,Z.tZ)(v.Pp,{}),(0,Z.tZ)(v.QU,{idKey:"id",labelKey:"displayName"}),(0,Z.tZ)(v.Eu,{initialHTML:m,updateOnChange:f}),!(null===d||void 0===d||!d.length)&&(0,Z.tZ)(v.$U,{matchers:d})]})})})}},15225:(e,t,a)=>{a.d(t,{r:()=>m});var r=a(41554),n=a(4519),l=a(52656),i=a(16360),o=a(75493),d=a(6775),c=a(3147),s=a(6931),u=a(77537),h=(0,r.Z)(o.xu,{target:"e1gpor8i0"})((e=>{var{theme:t,isPublicResponse:a}=e;return!a&&"background-color: ".concat(t.colorAlertWarningWeakest,";")}),";"),m=e=>{var{editor:t,editorData:a,onKeyDown:r,onChange:o,onBlur:m,hasError:f,addInlineImage:v,addAttachment:p,deleteAttachment:g,readOnly:Z,uploadProgress:b,allowLinks:w,allowAttachments:y,allowInlineImages:k,customPortalRenderer:R,placeholder:I,isPublicResponse:x=!0}=e,E=(0,n.useMemo)((()=>null===a||void 0===a?void 0:a.uploads),[a]),[D]=(0,n.useState)(null!==a&&void 0!==a&&a.htmlBody?(0,i.$$)({html:a.htmlBody,attachments:E,attachmentSerializerKey:"metadata.contentId"}):null);return(0,u.BX)(u.HY,{children:[(0,u.tZ)(h,{width:"100%",isPublicResponse:x,children:(0,u.tZ)(l.Z,{editor:t,readOnly:Z,placeholder:I||(0,d.localized)("Add description..."),initialValue:D,attachments:E,hasError:f,addAttachment:p,addInlineImage:v,onKeyDown:r,onChange:o,onBlur:m,customPortalRenderer:R,customElementRenderers:c.Y,customSerializeToHtml:c.M5,allowLinks:w,allowAttachments:y,allowInlineImages:k})}),(0,u.tZ)(s.s,{attachments:E,deleteAttachment:g,uploadProgress:b})]})}},69112:(e,t,a)=>{a(4519),a(50176),a(55460),a(75493),a(6775),a(74657)},74307:(e,t,a)=>{a(4519);var r=a(58064);a(55460),a(59833),a(75493),a(89677),a(34928),a(77537),(0,r.d1t)((e=>e.metadata.inline))},73937:(e,t,a)=>{a.d(t,{R:()=>n});var r=a(58064),n=(0,r.MRu)((0,r.wEe)((0,r.vgT)("order"),(0,r.vgT)("id")))}}]);
//# sourceMappingURL=1917.6f75e7de.js.map